(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();function j_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Uh={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function AA(){if(py)return Fl;py=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:f}}return Fl.Fragment=t,Fl.jsx=i,Fl.jsxs=i,Fl}var yy;function SA(){return yy||(yy=1,Uh.exports=AA()),Uh.exports}var B=SA(),Lh={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function bA(){if(_y)return Re;_y=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Q={};function H(V,ee,he){this.props=V,this.context=ee,this.refs=Q,this.updater=he||x}H.prototype.isReactComponent={},H.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=H.prototype;function ne(V,ee,he){this.props=V,this.context=ee,this.refs=Q,this.updater=he||x}var te=ne.prototype=new $;te.constructor=ne,k(te,H.prototype),te.isPureReactComponent=!0;var ye=Array.isArray,ce={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function O(V,ee,he,ae,se,we){return he=we.ref,{$$typeof:a,type:V,key:ee,ref:he!==void 0?he:null,props:we}}function w(V,ee){return O(V.type,ee,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function R(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return ee[he]})}var M=/\/+/g;function P(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?R(""+V.key):ee.toString(36)}function N(){}function We(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ht(V,ee,he,ae,se){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(we){case"bigint":case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case a:case t:be=!0;break;case E:return be=V._init,ht(be(V._payload),ee,he,ae,se)}}if(be)return se=se(V),be=ae===""?"."+P(V,0):ae,ye(se)?(he="",be!=null&&(he=be.replace(M,"$&/")+"/"),ht(se,ee,he,"",function(rt){return rt})):se!=null&&(S(se)&&(se=w(se,he+(se.key==null||V&&V.key===se.key?"":(""+se.key).replace(M,"$&/")+"/")+be)),ee.push(se)),1;be=0;var dt=ae===""?".":ae+":";if(ye(V))for(var ze=0;ze<V.length;ze++)ae=V[ze],we=dt+P(ae,ze),be+=ht(ae,ee,he,we,se);else if(ze=D(V),typeof ze=="function")for(V=ze.call(V),ze=0;!(ae=V.next()).done;)ae=ae.value,we=dt+P(ae,ze++),be+=ht(ae,ee,he,we,se);else if(we==="object"){if(typeof V.then=="function")return ht(We(V),ee,he,ae,se);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return be}function re(V,ee,he){if(V==null)return V;var ae=[],se=0;return ht(V,ae,"","",function(we){return ee.call(he,we,se++)}),ae}function _e(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function qe(){}return Re.Children={map:re,forEach:function(V,ee,he){re(V,function(){ee.apply(this,arguments)},he)},count:function(V){var ee=0;return re(V,function(){ee++}),ee},toArray:function(V){return re(V,function(ee){return ee})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=H,Re.Fragment=i,Re.Profiler=u,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,ee,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=k({},V.props),se=V.key,we=void 0;if(ee!=null)for(be in ee.ref!==void 0&&(we=void 0),ee.key!==void 0&&(se=""+ee.key),ee)!Se.call(ee,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ee.ref===void 0||(ae[be]=ee[be]);var be=arguments.length-2;if(be===1)ae.children=he;else if(1<be){for(var dt=Array(be),ze=0;ze<be;ze++)dt[ze]=arguments[ze+2];ae.children=dt}return O(V.type,se,void 0,void 0,we,ae)},Re.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:f,_context:V},V},Re.createElement=function(V,ee,he){var ae,se={},we=null;if(ee!=null)for(ae in ee.key!==void 0&&(we=""+ee.key),ee)Se.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(se[ae]=ee[ae]);var be=arguments.length-2;if(be===1)se.children=he;else if(1<be){for(var dt=Array(be),ze=0;ze<be;ze++)dt[ze]=arguments[ze+2];se.children=dt}if(V&&V.defaultProps)for(ae in be=V.defaultProps,be)se[ae]===void 0&&(se[ae]=be[ae]);return O(V,we,void 0,void 0,null,se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:g,render:V}},Re.isValidElement=S,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:_e}},Re.memo=function(V,ee){return{$$typeof:y,type:V,compare:ee===void 0?null:ee}},Re.startTransition=function(V){var ee=ce.T,he={};ce.T=he;try{var ae=V(),se=ce.S;se!==null&&se(he,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(qe,me)}catch(we){me(we)}finally{ce.T=ee}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(V){return ce.H.use(V)},Re.useActionState=function(V,ee,he){return ce.H.useActionState(V,ee,he)},Re.useCallback=function(V,ee){return ce.H.useCallback(V,ee)},Re.useContext=function(V){return ce.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,ee){return ce.H.useDeferredValue(V,ee)},Re.useEffect=function(V,ee){return ce.H.useEffect(V,ee)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(V,ee,he){return ce.H.useImperativeHandle(V,ee,he)},Re.useInsertionEffect=function(V,ee){return ce.H.useInsertionEffect(V,ee)},Re.useLayoutEffect=function(V,ee){return ce.H.useLayoutEffect(V,ee)},Re.useMemo=function(V,ee){return ce.H.useMemo(V,ee)},Re.useOptimistic=function(V,ee){return ce.H.useOptimistic(V,ee)},Re.useReducer=function(V,ee,he){return ce.H.useReducer(V,ee,he)},Re.useRef=function(V){return ce.H.useRef(V)},Re.useState=function(V){return ce.H.useState(V)},Re.useSyncExternalStore=function(V,ee,he){return ce.H.useSyncExternalStore(V,ee,he)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.0.0",Re}var vy;function wd(){return vy||(vy=1,Lh.exports=bA()),Lh.exports}var G=wd();const q_=j_(G);var Ph={exports:{}},Ql={},zh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function RA(){return Ey||(Ey=1,function(a){function t(re,_e){var me=re.length;re.push(_e);e:for(;0<me;){var qe=me-1>>>1,V=re[qe];if(0<u(V,_e))re[qe]=_e,re[me]=V,me=qe;else break e}}function i(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var _e=re[0],me=re.pop();if(me!==_e){re[0]=me;e:for(var qe=0,V=re.length,ee=V>>>1;qe<ee;){var he=2*(qe+1)-1,ae=re[he],se=he+1,we=re[se];if(0>u(ae,me))se<V&&0>u(we,ae)?(re[qe]=we,re[se]=me,qe=se):(re[qe]=ae,re[he]=me,qe=he);else if(se<V&&0>u(we,me))re[qe]=we,re[se]=me,qe=se;else break e}}return _e}function u(re,_e){var me=re.sortIndex-_e.sortIndex;return me!==0?me:re.id-_e.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,b=null,D=3,x=!1,k=!1,Q=!1,H=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function te(re){for(var _e=i(y);_e!==null;){if(_e.callback===null)s(y);else if(_e.startTime<=re)s(y),_e.sortIndex=_e.expirationTime,t(p,_e);else break;_e=i(y)}}function ye(re){if(Q=!1,te(re),!k)if(i(p)!==null)k=!0,We();else{var _e=i(y);_e!==null&&ht(ye,_e.startTime-re)}}var ce=!1,Se=-1,O=5,w=-1;function S(){return!(a.unstable_now()-w<O)}function R(){if(ce){var re=a.unstable_now();w=re;var _e=!0;try{e:{k=!1,Q&&(Q=!1,$(Se),Se=-1),x=!0;var me=D;try{t:{for(te(re),b=i(p);b!==null&&!(b.expirationTime>re&&S());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,D=b.priorityLevel;var V=qe(b.expirationTime<=re);if(re=a.unstable_now(),typeof V=="function"){b.callback=V,te(re),_e=!0;break t}b===i(p)&&s(p),te(re)}else s(p);b=i(p)}if(b!==null)_e=!0;else{var ee=i(y);ee!==null&&ht(ye,ee.startTime-re),_e=!1}}break e}finally{b=null,D=me,x=!1}_e=void 0}}finally{_e?M():ce=!1}}}var M;if(typeof ne=="function")M=function(){ne(R)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=R,M=function(){N.postMessage(null)}}else M=function(){H(R,0)};function We(){ce||(ce=!0,M())}function ht(re,_e){Se=H(function(){re(a.unstable_now())},_e)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(re){re.callback=null},a.unstable_continueExecution=function(){k||x||(k=!0,We())},a.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(re){switch(D){case 1:case 2:case 3:var _e=3;break;default:_e=D}var me=D;D=_e;try{return re()}finally{D=me}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=D;D=re;try{return _e()}finally{D=me}},a.unstable_scheduleCallback=function(re,_e,me){var qe=a.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,re){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=me+V,re={id:E++,callback:_e,priorityLevel:re,startTime:me,expirationTime:V,sortIndex:-1},me>qe?(re.sortIndex=me,t(y,re),i(p)===null&&re===i(y)&&(Q?($(Se),Se=-1):Q=!0,ht(ye,me-qe))):(re.sortIndex=V,t(p,re),k||x||(k=!0,We())),re},a.unstable_shouldYield=S,a.unstable_wrapCallback=function(re){var _e=D;return function(){var me=D;D=_e;try{return re.apply(this,arguments)}finally{D=me}}}}(kh)),kh}var Ty;function wA(){return Ty||(Ty=1,zh.exports=RA()),zh.exports}var Bh={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function CA(){if(Ay)return Gt;Ay=1;var a=wd();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return f(p,y,null,E)},Gt.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:D,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var Sy;function DA(){if(Sy)return Bh.exports;Sy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Bh.exports=CA(),Bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function NA(){if(by)return Ql;by=1;var a=wA(),t=wd(),i=DA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ye=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case y:return"StrictMode";case Q:return"Suspense";case H:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case k:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case ne:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,M,P;function N(e){if(M===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",P=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+P}var We=!1;function ht(e,n){if(!e||We)return"";We=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var q=Y}Reflect.construct(e,[],W)}else{try{W.call()}catch(Y){q=Y}e.call(W.prototype)}}else{try{throw Error()}catch(Y){q=Y}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],T=h[1];if(v&&T){var C=v.split(`
`),U=T.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===U.length)for(l=C.length-1,c=U.length-1;1<=l&&0<=c&&C[l]!==U[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==U[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==U[c]){var K=`
`+C[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=c);break}}}finally{We=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?N(r):""}function re(e){switch(e.tag){case 26:case 27:case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return e=ht(e.type,!1),e;case 11:return e=ht(e.type.render,!1),e;case 1:return e=ht(e.type,!0),e;default:return""}}function _e(e){try{var n="";do n+=re(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function me(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function qe(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function V(e){if(me(e)!==e)throw Error(s(188))}function ee(e){var n=e.alternate;if(!n){if(n=me(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return V(c),e;if(h===l)return V(c),n;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=h;else{for(var v=!1,T=c.child;T;){if(T===r){v=!0,r=c,l=h;break}if(T===l){v=!0,l=c,r=h;break}T=T.sibling}if(!v){for(T=h.child;T;){if(T===r){v=!0,r=h,l=c;break}if(T===l){v=!0,l=h,r=c;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function he(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=he(e),n!==null)return n;e=e.sibling}return null}var ae=Array.isArray,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},be=[],dt=-1;function ze(e){return{current:e}}function rt(e){0>dt||(e.current=be[dt],be[dt]=null,dt--)}function Fe(e,n){dt++,be[dt]=e.current,e.current=n}var Kt=ze(null),ui=ze(null),dn=ze(null),ji=ze(null);function qi(e,n){switch(Fe(dn,n),Fe(ui,e),Fe(Kt,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Fp(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=Fp(e),n=Qp(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(Kt),Fe(Kt,n)}function oi(){rt(Kt),rt(ui),rt(dn)}function Bs(e){e.memoizedState!==null&&Fe(ji,e);var n=Kt.current,r=Qp(n,e.type);n!==r&&(Fe(ui,e),Fe(Kt,r))}function Ra(e){ui.current===e&&(rt(Kt),rt(ui)),ji.current===e&&(rt(ji),Bl._currentValue=we)}var wa=Object.prototype.hasOwnProperty,zr=a.unstable_scheduleCallback,Ca=a.unstable_cancelCallback,Lc=a.unstable_shouldYield,js=a.unstable_requestPaint,en=a.unstable_now,vu=a.unstable_getCurrentPriorityLevel,vt=a.unstable_ImmediatePriority,Ct=a.unstable_UserBlockingPriority,ci=a.unstable_NormalPriority,Eu=a.unstable_LowPriority,qs=a.unstable_IdlePriority,Pc=a.log,kr=a.unstable_setDisableYieldValue,Hi=null,qt=null;function Hs(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hi,e,void 0,(e.current.flags&128)===128)}catch{}}function qn(e){if(typeof Pc=="function"&&kr(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hi,e)}catch{}}var Xt=Math.clz32?Math.clz32:Au,Gs=Math.log,Tu=Math.LN2;function Au(e){return e>>>=0,e===0?32:31-(Gs(e)/Tu|0)|0}var Hn=128,Gi=4194304;function xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mn(e,n){var r=e.pendingLanes;if(r===0)return 0;var l=0,c=e.suspendedLanes,h=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~c,r!==0?l=xn(r):(h&=T,h!==0?l=xn(h):e||(v=T&~v,v!==0&&(l=xn(v))))):(T=r&~c,T!==0?l=xn(T):h!==0?l=xn(h):e||(v=r&~v,v!==0&&(l=xn(v)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,v=n&-n,c>=v||c===32&&(v&4194176)!==0)?n:l}function Fi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Da(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(){var e=Hn;return Hn<<=1,!(Hn&4194176)&&(Hn=128),e}function Qi(){var e=Gi;return Gi<<=1,!(Gi&62914560)&&(Gi=4194304),e}function Na(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ot(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Su(e,n,r,l,c,h){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(r=v&~r;0<r;){var K=31-Xt(r),W=1<<K;T[K]=0,C[K]=-1;var q=U[K];if(q!==null)for(U[K]=null,K=0;K<q.length;K++){var Y=q[K];Y!==null&&(Y.lane&=-536870913)}r&=~W}l!==0&&Yi(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(v&~n))}function Yi(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Xt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&4194218}function Ki(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Xt(r),c=1<<l;c&n|e[l]&n&&(e[l]|=n),r&=~c}}function bu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ru(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:cy(e.type))}function Xi(e,n){var r=se.p;try{return se.p=e,n()}finally{se.p=r}}var Gn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Gn,Et="__reactProps$"+Gn,fi="__reactContainer$"+Gn,Br="__reactEvents$"+Gn,Va="__reactListeners$"+Gn,Fn="__reactHandles$"+Gn,Qs="__reactResources$"+Gn,$i="__reactMarker$"+Gn;function jr(e){delete e[Dt],delete e[Et],delete e[Br],delete e[Va],delete e[Fn]}function On(e){var n=e[Dt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[fi]||r[Dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Xp(e);e!==null;){if(r=e[Dt])return r;e=Xp(e)}return n}e=r,r=e.parentNode}return null}function hi(e){if(e=e[Dt]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Zi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ji(e){var n=e[Qs];return n||(n=e[Qs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[$i]=!0}var Ys=new Set,Ia={};function an(e,n){tn(e,n),tn(e+"Capture",n)}function tn(e,n){for(Ia[e]=n,e=0;e<n.length;e++)Ys.add(n[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},Xs={};function wu(e){return wa.call(Xs,e)?!0:wa.call(Ks,e)?!1:zc.test(e)?Xs[e]=!0:(Ks[e]=!0,!1)}function Wi(e,n,r){if(wu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function er(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function gn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kc(e){var n=Cu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,h.call(this,v)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qr(e){e._valueTracker||(e._valueTracker=kc(e))}function $s(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Cu(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var di=/[\n"\\]/g;function at(e){return e.replace(di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tr(e,n,r,l,c,h,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+$t(n)):e.value!==""+$t(n)&&(e.value=""+$t(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Oa(e,v,$t(n)):r!=null?Oa(e,v,$t(r)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+$t(T):e.removeAttribute("name")}function Hr(e,n,r,l,c,h,v,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+$t(r):"",n=n!=null?""+$t(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Oa(e,n,r){n==="number"&&xa(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ke(e,n,r,l){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+$t(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Gr(e,n,r){if(n!=null&&(n=""+$t(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+$t(r):""}function nr(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$t(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l)}function pn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zs(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||Bc.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Du(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Zs(e,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Zs(e,h,n[h])}function Js(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(e){return qc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yn=null;function Ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mi=null,gi=null;function pi(e){var n=hi(e);if(n&&(e=n.stateNode)){var r=e[Et]||null;e:switch(e=n.stateNode,n.type){case"input":if(tr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+at(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var c=l[Et]||null;if(!c)throw Error(s(90));tr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&$s(l)}break e;case"textarea":Gr(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ke(e,!!r.multiple,n,!1)}}}var Ws=!1;function Nu(e,n,r){if(Ws)return e(n,r);Ws=!0;try{var l=e(n);return l}finally{if(Ws=!1,(mi!==null||gi!==null)&&(To(),mi&&(n=mi,e=gi,gi=mi=null,pi(n),e)))for(n=0;n<e.length;n++)pi(e[n])}}function Fr(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Et]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var _n=!1;if(sn)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{_n=!1}var Yn=null,ir=null,yi=null;function el(){if(yi)return yi;var e,n=ir,r=n.length,l,c="value"in Yn?Yn.value:Yn.textContent,h=c.length;for(e=0;e<r&&n[e]===c[e];e++);var v=r-e;for(l=1;l<=v&&n[r-l]===c[h-l];l++);return yi=c.slice(e,1<l?1-l:void 0)}function Kn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function tl(){return!1}function Nt(e){function n(r,l,c,h,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xn:tl,this.isPropagationStopped=tl,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Nt(He),Yr=R({},He,{view:0,detail:0}),Vu=Nt(Yr),La,Pa,$n,Kr=R({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(La=e.screenX-$n.screenX,Pa=e.screenY-$n.screenY):Pa=La=0,$n=e),La)},movementY:function(e){return"movementY"in e?e.movementY:Pa}}),vn=Nt(Kr),Iu=R({},Kr,{dataTransfer:0}),Hc=Nt(Iu),Xr=R({},Yr,{relatedTarget:0}),za=Nt(Xr),nl=R({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Nt(nl),xu=R({},He,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ba=Nt(xu),Gc=R({},He,{data:0}),il=Nt(Gc),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mu[e])?!!n[e]:!1}function Zr(){return rl}var Uu=R({},Yr,{key:function(e){if(e.key){var n=$r[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(e){return e.type==="keypress"?Kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ja=Nt(Uu),Lu=R({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Nt(Lu),_i=R({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Pu=Nt(_i),zu=R({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Nt(zu),Bu=R({},Kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Nt(Bu),Zt=R({},He,{newState:0,oldState:0}),ju=Nt(Zt),qu=[9,13,27,32],Zn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,_=sn&&(!Zn||o&&8<o&&11>=o),A=" ",z=!1;function F(e,n){switch(e){case"keyup":return qu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oe=!1;function Tt(e,n){switch(e){case"compositionend":return ie(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return e=n.data,e===A&&z?null:e;default:return null}}function Me(e,n){if(Oe)return e==="compositionend"||!Zn&&F(e,n)?(e=el(),yi=ir=Yn=null,Oe=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Vt[e.type]:n==="textarea"}function vi(e,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=wo(n,"onChange"),0<n.length&&(r=new Ua("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ut=null,Jn=null;function sl(e){Bp(e,0)}function Hu(e){var n=Zi(e);if($s(n))return e}function gm(e,n){if(e==="change")return n}var pm=!1;if(sn){var Fc;if(sn){var Qc="oninput"in document;if(!Qc){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Qc=typeof ym.oninput=="function"}Fc=Qc}else Fc=!1;pm=Fc&&(!document.documentMode||9<document.documentMode)}function _m(){Ut&&(Ut.detachEvent("onpropertychange",vm),Jn=Ut=null)}function vm(e){if(e.propertyName==="value"&&Hu(Jn)){var n=[];vi(n,Jn,e,Ma(e)),Nu(sl,n)}}function JE(e,n,r){e==="focusin"?(_m(),Ut=n,Jn=r,Ut.attachEvent("onpropertychange",vm)):e==="focusout"&&_m()}function WE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(Jn)}function eT(e,n){if(e==="click")return Hu(n)}function tT(e,n){if(e==="input"||e==="change")return Hu(n)}function nT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:nT;function ll(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!wa.call(n,c)||!ln(e[c],n[c]))return!1}return!0}function Em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tm(e,n){var r=Em(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Em(r)}}function Am(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Am(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=xa(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=xa(e.document)}return n}function Yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function iT(e,n){var r=Sm(n);n=e.focusedElem;var l=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&Am(n.ownerDocument.documentElement,n)){if(l!==null&&Yc(n)){if(e=l.start,r=l.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!r.extend&&h>l&&(c=l,l=h,h=c),c=Tm(n,h);var v=Tm(n,l);c&&v&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),r.removeAllRanges(),h>l?(r.addRange(e),r.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rT=sn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Kc=null,ul=null,Xc=!1;function bm(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||Ha==null||Ha!==xa(l)||(l=Ha,"selectionStart"in l&&Yc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=wo(Kc,"onSelect"),0<l.length&&(n=new Ua("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Ha)))}function Jr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ga={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},$c={},Rm={};sn&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Wr(e){if($c[e])return $c[e];if(!Ga[e])return e;var n=Ga[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Rm)return $c[e]=n[r];return e}var wm=Wr("animationend"),Cm=Wr("animationiteration"),Dm=Wr("animationstart"),aT=Wr("transitionrun"),sT=Wr("transitionstart"),lT=Wr("transitioncancel"),Nm=Wr("transitionend"),Vm=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(e,n){Vm.set(e,n),an(n,[e])}var En=[],Fa=0,Zc=0;function Gu(){for(var e=Fa,n=Zc=Fa=0;n<e;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var h=En[n];if(En[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}h!==0&&xm(r,c,h)}}function Fu(e,n,r,l){En[Fa++]=e,En[Fa++]=n,En[Fa++]=r,En[Fa++]=l,Zc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Jc(e,n,r,l){return Fu(e,n,r,l),Qu(e)}function rr(e,n){return Fu(e,null,null,n),Qu(e)}function xm(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=e.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;c&&n!==null&&e.tag===3&&(h=e.stateNode,c=31-Xt(r),h=h.hiddenUpdates,e=h[c],e===null?h[c]=[n]:e.push(n),n.lane=r|536870912)}function Qu(e){if(50<Ol)throw Ol=0,ah=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Qa={},Om=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var r=Om.get(e);return r!==void 0?r:(n={value:e,source:n,stack:_e(n)},Om.set(e,n),n)}return{value:e,source:n,stack:_e(n)}}var Ya=[],Ka=0,Yu=null,Ku=0,An=[],Sn=0,ea=null,Ei=1,Ti="";function ta(e,n){Ya[Ka++]=Ku,Ya[Ka++]=Yu,Yu=e,Ku=n}function Mm(e,n,r){An[Sn++]=Ei,An[Sn++]=Ti,An[Sn++]=ea,ea=e;var l=Ei;e=Ti;var c=32-Xt(l)-1;l&=~(1<<c),r+=1;var h=32-Xt(n)+c;if(30<h){var v=c-c%5;h=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ei=1<<32-Xt(n)+c|r<<c|l,Ti=h+e}else Ei=1<<h|r<<c|l,Ti=e}function Wc(e){e.return!==null&&(ta(e,1),Mm(e,1,0))}function ef(e){for(;e===Yu;)Yu=Ya[--Ka],Ya[Ka]=null,Ku=Ya[--Ka],Ya[Ka]=null;for(;e===ea;)ea=An[--Sn],An[Sn]=null,Ti=An[--Sn],An[Sn]=null,Ei=An[--Sn],An[Sn]=null}var Jt=null,Lt=null,Be=!1,Un=null,Wn=!1,tf=Error(s(519));function na(e){var n=Error(s(418,""));throw fl(Tn(n,e)),tf}function Um(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Dt]=e,n[Et]=l,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(r=0;r<Ul.length;r++)xe(Ul[r],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qr(n);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),nr(n,l.value,l.defaultValue,l.children),qr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Gp(n.textContent,r)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=Co),n=!0):n=!1,n||na(e)}function Lm(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 3:case 27:Wn=!0;return;case 5:case 13:Wn=!1;return;default:Jt=Jt.return}}function ol(e){if(e!==Jt)return!1;if(!Be)return Lm(e),Be=!0,!1;var n=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ah(e.type,e.memoizedProps)),r=!r),r&&(n=!0),n&&Lt&&na(e),Lm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Lt=Pn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Lt=null}}else Lt=Jt?Pn(e.stateNode.nextSibling):null;return!0}function cl(){Lt=Jt=null,Be=!1}function fl(e){Un===null?Un=[e]:Un.push(e)}var hl=Error(s(460)),Pm=Error(s(474)),nf={then:function(){}};function zm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xu(){}function km(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Xu,Xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===hl?Error(s(483)):e;default:if(typeof n.status=="string")n.then(Xu,Xu);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===hl?Error(s(483)):e}throw dl=n,hl}}var dl=null;function Bm(){if(dl===null)throw Error(s(459));var e=dl;return dl=null,e}var Xa=null,ml=0;function $u(e){var n=ml;return ml+=1,Xa===null&&(Xa=[]),km(Xa,e,n)}function gl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Zu(e,n){throw n.$$typeof===f?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jm(e){var n=e._init;return n(e._payload)}function qm(e){function n(L,I){if(e){var j=L.deletions;j===null?(L.deletions=[I],L.flags|=16):j.push(I)}}function r(L,I){if(!e)return null;for(;I!==null;)n(L,I),I=I.sibling;return null}function l(L){for(var I=new Map;L!==null;)L.key!==null?I.set(L.key,L):I.set(L.index,L),L=L.sibling;return I}function c(L,I){return L=pr(L,I),L.index=0,L.sibling=null,L}function h(L,I,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<I?(L.flags|=33554434,I):j):(L.flags|=33554434,I)):(L.flags|=1048576,I)}function v(L){return e&&L.alternate===null&&(L.flags|=33554434),L}function T(L,I,j,X){return I===null||I.tag!==6?(I=Zf(j,L.mode,X),I.return=L,I):(I=c(I,j),I.return=L,I)}function C(L,I,j,X){var oe=j.type;return oe===p?K(L,I,j.props.children,X,j.key):I!==null&&(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ne&&jm(oe)===I.type)?(I=c(I,j.props),gl(I,j),I.return=L,I):(I=po(j.type,j.key,j.props,null,L.mode,X),gl(I,j),I.return=L,I)}function U(L,I,j,X){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=Jf(j,L.mode,X),I.return=L,I):(I=c(I,j.children||[]),I.return=L,I)}function K(L,I,j,X,oe){return I===null||I.tag!==7?(I=ha(j,L.mode,X,oe),I.return=L,I):(I=c(I,j),I.return=L,I)}function W(L,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Zf(""+I,L.mode,j),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return j=po(I.type,I.key,I.props,null,L.mode,j),gl(j,I),j.return=L,j;case g:return I=Jf(I,L.mode,j),I.return=L,I;case ne:var X=I._init;return I=X(I._payload),W(L,I,j)}if(ae(I)||Se(I))return I=ha(I,L.mode,j,null),I.return=L,I;if(typeof I.then=="function")return W(L,$u(I),j);if(I.$$typeof===x)return W(L,ho(L,I),j);Zu(L,I)}return null}function q(L,I,j,X){var oe=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return oe!==null?null:T(L,I,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d:return j.key===oe?C(L,I,j,X):null;case g:return j.key===oe?U(L,I,j,X):null;case ne:return oe=j._init,j=oe(j._payload),q(L,I,j,X)}if(ae(j)||Se(j))return oe!==null?null:K(L,I,j,X,null);if(typeof j.then=="function")return q(L,I,$u(j),X);if(j.$$typeof===x)return q(L,I,ho(L,j),X);Zu(L,j)}return null}function Y(L,I,j,X,oe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(j)||null,T(I,L,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case d:return L=L.get(X.key===null?j:X.key)||null,C(I,L,X,oe);case g:return L=L.get(X.key===null?j:X.key)||null,U(I,L,X,oe);case ne:var De=X._init;return X=De(X._payload),Y(L,I,j,X,oe)}if(ae(X)||Se(X))return L=L.get(j)||null,K(I,L,X,oe,null);if(typeof X.then=="function")return Y(L,I,j,$u(X),oe);if(X.$$typeof===x)return Y(L,I,j,ho(I,X),oe);Zu(I,X)}return null}function fe(L,I,j,X){for(var oe=null,De=null,de=I,pe=I=0,Ot=null;de!==null&&pe<j.length;pe++){de.index>pe?(Ot=de,de=null):Ot=de.sibling;var je=q(L,de,j[pe],X);if(je===null){de===null&&(de=Ot);break}e&&de&&je.alternate===null&&n(L,de),I=h(je,I,pe),De===null?oe=je:De.sibling=je,De=je,de=Ot}if(pe===j.length)return r(L,de),Be&&ta(L,pe),oe;if(de===null){for(;pe<j.length;pe++)de=W(L,j[pe],X),de!==null&&(I=h(de,I,pe),De===null?oe=de:De.sibling=de,De=de);return Be&&ta(L,pe),oe}for(de=l(de);pe<j.length;pe++)Ot=Y(de,L,pe,j[pe],X),Ot!==null&&(e&&Ot.alternate!==null&&de.delete(Ot.key===null?pe:Ot.key),I=h(Ot,I,pe),De===null?oe=Ot:De.sibling=Ot,De=Ot);return e&&de.forEach(function(Sr){return n(L,Sr)}),Be&&ta(L,pe),oe}function Te(L,I,j,X){if(j==null)throw Error(s(151));for(var oe=null,De=null,de=I,pe=I=0,Ot=null,je=j.next();de!==null&&!je.done;pe++,je=j.next()){de.index>pe?(Ot=de,de=null):Ot=de.sibling;var Sr=q(L,de,je.value,X);if(Sr===null){de===null&&(de=Ot);break}e&&de&&Sr.alternate===null&&n(L,de),I=h(Sr,I,pe),De===null?oe=Sr:De.sibling=Sr,De=Sr,de=Ot}if(je.done)return r(L,de),Be&&ta(L,pe),oe;if(de===null){for(;!je.done;pe++,je=j.next())je=W(L,je.value,X),je!==null&&(I=h(je,I,pe),De===null?oe=je:De.sibling=je,De=je);return Be&&ta(L,pe),oe}for(de=l(de);!je.done;pe++,je=j.next())je=Y(de,L,pe,je.value,X),je!==null&&(e&&je.alternate!==null&&de.delete(je.key===null?pe:je.key),I=h(je,I,pe),De===null?oe=je:De.sibling=je,De=je);return e&&de.forEach(function(TA){return n(L,TA)}),Be&&ta(L,pe),oe}function ut(L,I,j,X){if(typeof j=="object"&&j!==null&&j.type===p&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case d:e:{for(var oe=j.key;I!==null;){if(I.key===oe){if(oe=j.type,oe===p){if(I.tag===7){r(L,I.sibling),X=c(I,j.props.children),X.return=L,L=X;break e}}else if(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ne&&jm(oe)===I.type){r(L,I.sibling),X=c(I,j.props),gl(X,j),X.return=L,L=X;break e}r(L,I);break}else n(L,I);I=I.sibling}j.type===p?(X=ha(j.props.children,L.mode,X,j.key),X.return=L,L=X):(X=po(j.type,j.key,j.props,null,L.mode,X),gl(X,j),X.return=L,L=X)}return v(L);case g:e:{for(oe=j.key;I!==null;){if(I.key===oe)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){r(L,I.sibling),X=c(I,j.children||[]),X.return=L,L=X;break e}else{r(L,I);break}else n(L,I);I=I.sibling}X=Jf(j,L.mode,X),X.return=L,L=X}return v(L);case ne:return oe=j._init,j=oe(j._payload),ut(L,I,j,X)}if(ae(j))return fe(L,I,j,X);if(Se(j)){if(oe=Se(j),typeof oe!="function")throw Error(s(150));return j=oe.call(j),Te(L,I,j,X)}if(typeof j.then=="function")return ut(L,I,$u(j),X);if(j.$$typeof===x)return ut(L,I,ho(L,j),X);Zu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,I!==null&&I.tag===6?(r(L,I.sibling),X=c(I,j),X.return=L,L=X):(r(L,I),X=Zf(j,L.mode,X),X.return=L,L=X),v(L)):r(L,I)}return function(L,I,j,X){try{ml=0;var oe=ut(L,I,j,X);return Xa=null,oe}catch(de){if(de===hl)throw de;var De=Cn(29,de,null,L.mode);return De.lanes=X,De.return=L,De}finally{}}}var ia=qm(!0),Hm=qm(!1),$a=ze(null),Ju=ze(0);function Gm(e,n){e=xi,Fe(Ju,e),Fe($a,n),xi=e|n.baseLanes}function rf(){Fe(Ju,xi),Fe($a,$a.current)}function af(){xi=Ju.current,rt($a),rt(Ju)}var bn=ze(null),ei=null;function ar(e){var n=e.alternate;Fe(St,St.current&1),Fe(bn,e),ei===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&(ei=e)}function Fm(e){if(e.tag===22){if(Fe(St,St.current),Fe(bn,e),ei===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ei=e)}}else sr()}function sr(){Fe(St,St.current),Fe(bn,bn.current)}function Ai(e){rt(bn),ei===e&&(ei=null),rt(St)}var St=ze(0);function Wu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var uT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},oT=a.unstable_scheduleCallback,cT=a.unstable_NormalPriority,bt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new uT,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&oT(cT,function(){e.controller.abort()})}var yl=null,lf=0,Za=0,Ja=null;function fT(e,n){if(yl===null){var r=yl=[];lf=0,Za=dh(),Ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(Qm,Qm),n}function Qm(){if(--lf===0&&yl!==null){Ja!==null&&(Ja.status="fulfilled");var e=yl;yl=null,Za=0,Ja=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hT(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Ym=S.S;S.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&fT(e,n),Ym!==null&&Ym(e,n)};var ra=ze(null);function uf(){var e=ra.current;return e!==null?e:Xe.pooledCache}function eo(e,n){n===null?Fe(ra,ra.current):Fe(ra,n.pool)}function Km(){var e=uf();return e===null?null:{parent:bt._currentValue,pool:e}}var lr=0,Ce=null,Qe=null,mt=null,to=!1,Wa=!1,aa=!1,no=0,_l=0,es=null,dT=0;function ct(){throw Error(s(321))}function of(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!ln(e[r],n[r]))return!1;return!0}function cf(e,n,r,l,c,h){return lr=h,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?sa:ur,aa=!1,h=r(l,c),aa=!1,Wa&&(h=$m(n,r,l,c)),Xm(e),h}function Xm(e){S.H=ti;var n=Qe!==null&&Qe.next!==null;if(lr=0,mt=Qe=Ce=null,to=!1,_l=0,es=null,n)throw Error(s(300));e===null||It||(e=e.dependencies,e!==null&&fo(e)&&(It=!0))}function $m(e,n,r,l){Ce=e;var c=0;do{if(Wa&&(es=null),_l=0,Wa=!1,25<=c)throw Error(s(301));if(c+=1,mt=Qe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}S.H=la,h=n(r,l)}while(Wa);return h}function mT(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?vl(n):n,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Ce.flags|=1024),n}function ff(){var e=no!==0;return no=0,e}function hf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(to){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}to=!1}lr=0,mt=Qe=Ce=null,Wa=!1,_l=no=0,es=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ce.memoizedState=mt=e:mt=mt.next=e,mt}function gt(){if(Qe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var n=mt===null?Ce.memoizedState:mt.next;if(n!==null)mt=n,Qe=e;else{if(e===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},mt===null?Ce.memoizedState=mt=e:mt=mt.next=e}return mt}var io;io=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(e){var n=_l;return _l+=1,es===null&&(es=[]),e=km(es,e,n),n=Ce,(mt===null?n.memoizedState:mt.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?sa:ur),e}function ro(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===x)return Ht(e)}throw Error(s(438,String(e)))}function mf(e){var n=null,r=Ce.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=io(),Ce.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=ye;return n.index++,r}function Si(e,n){return typeof n=="function"?n(e):n}function ao(e){var n=gt();return gf(n,Qe,e)}function gf(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var v=c.next;c.next=h.next,h.next=v}n.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var T=v=null,C=null,U=n,K=!1;do{var W=U.lane&-536870913;if(W!==U.lane?(Ue&W)===W:(lr&W)===W){var q=U.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),W===Za&&(K=!0);else if((lr&q)===q){U=U.next,q===Za&&(K=!0);continue}else W={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=W,v=h):C=C.next=W,Ce.lanes|=q,yr|=q;W=U.action,aa&&r(h,W),h=U.hasEagerState?U.eagerState:r(h,W)}else q={lane:W,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=q,v=h):C=C.next=q,Ce.lanes|=W,yr|=W;U=U.next}while(U!==null&&U!==n);if(C===null?v=h:C.next=T,!ln(h,e.memoizedState)&&(It=!0,K&&(r=Ja,r!==null)))throw r;e.memoizedState=h,e.baseState=v,e.baseQueue=C,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pf(e){var n=gt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do h=e(h,v.action),v=v.next;while(v!==c);ln(h,n.memoizedState)||(It=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function Zm(e,n,r){var l=Ce,c=gt(),h=Be;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Qe||c).memoizedState,r);if(v&&(c.memoizedState=r,It=!0),c=c.queue,vf(eg.bind(null,l,c,e),[e]),c.getSnapshot!==n||v||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,ts(9,Wm.bind(null,l,c,r,n),{destroy:void 0},null),Xe===null)throw Error(s(349));h||lr&60||Jm(l,n,r)}return r}function Jm(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ce.updateQueue,n===null?(n=io(),Ce.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Wm(e,n,r,l){n.value=r,n.getSnapshot=l,tg(n)&&ng(e)}function eg(e,n,r){return r(function(){tg(n)&&ng(e)})}function tg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!ln(e,r)}catch{return!0}}function ng(e){var n=rr(e,2);n!==null&&Wt(n,e,2)}function yf(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),aa){qn(!0);try{r()}finally{qn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},n}function ig(e,n,r,l){return e.baseState=r,gf(e,Qe,typeof l=="function"?l:Si)}function gT(e,n,r,l,c){if(uo(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};S.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,rg(n,h)):(h.next=r.next,n.pending=r.next=h)}}function rg(e,n){var r=n.action,l=n.payload,c=e.state;if(n.isTransition){var h=S.T,v={};S.T=v;try{var T=r(c,l),C=S.S;C!==null&&C(v,T),ag(e,n,T)}catch(U){_f(e,n,U)}finally{S.T=h}}else try{h=r(c,l),ag(e,n,h)}catch(U){_f(e,n,U)}}function ag(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){sg(e,n,l)},function(l){return _f(e,n,l)}):sg(e,n,r)}function sg(e,n,r){n.status="fulfilled",n.value=r,lg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,rg(e,r)))}function _f(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ug(e,n){return n}function og(e,n){if(Be){var r=Xe.formState;if(r!==null){e:{var l=Ce;if(Be){if(Lt){t:{for(var c=Lt,h=Wn;c.nodeType!==8;){if(!h){c=null;break t}if(c=Pn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Lt=Pn(c.nextSibling),l=c.data==="F!";break e}}na(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},r.queue=l,r=Cg.bind(null,Ce,l),l.dispatch=r,l=yf(!1),h=bf.bind(null,Ce,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,r=gT.bind(null,Ce,c,h,r),c.dispatch=r,l.memoizedState=e,[n,r,!1]}function cg(e){var n=gt();return fg(n,Qe,e)}function fg(e,n,r){n=gf(e,n,ug)[0],e=ao(Si)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?vl(n):n;var l=gt(),c=l.queue,h=c.dispatch;return r!==l.memoizedState&&(Ce.flags|=2048,ts(9,pT.bind(null,c,r),{destroy:void 0},null)),[n,h,e]}function pT(e,n){e.action=n}function hg(e){var n=gt(),r=Qe;if(r!==null)return fg(n,r,e);gt(),n=n.memoizedState,r=gt();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function ts(e,n,r,l){return e={tag:e,create:n,inst:r,deps:l,next:null},n=Ce.updateQueue,n===null&&(n=io(),Ce.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function dg(){return gt().memoizedState}function so(e,n,r,l){var c=nn();Ce.flags|=e,c.memoizedState=ts(1|n,r,{destroy:void 0},l===void 0?null:l)}function lo(e,n,r,l){var c=gt();l=l===void 0?null:l;var h=c.memoizedState.inst;Qe!==null&&l!==null&&of(l,Qe.memoizedState.deps)?c.memoizedState=ts(n,r,h,l):(Ce.flags|=e,c.memoizedState=ts(1|n,r,h,l))}function mg(e,n){so(8390656,8,e,n)}function vf(e,n){lo(2048,8,e,n)}function gg(e,n){return lo(4,2,e,n)}function pg(e,n){return lo(4,4,e,n)}function yg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _g(e,n,r){r=r!=null?r.concat([e]):null,lo(4,4,yg.bind(null,n,e),r)}function Ef(){}function vg(e,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&of(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Eg(e,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&of(n,l[1]))return l[0];if(l=e(),aa){qn(!0);try{e()}finally{qn(!1)}}return r.memoizedState=[l,n],l}function Tf(e,n,r){return r===void 0||lr&1073741824?e.memoizedState=n:(e.memoizedState=r,e=Ap(),Ce.lanes|=e,yr|=e,r)}function Tg(e,n,r,l){return ln(r,n)?r:$a.current!==null?(e=Tf(e,r,l),ln(e,n)||(It=!0),e):lr&42?(e=Ap(),Ce.lanes|=e,yr|=e,n):(It=!0,e.memoizedState=r)}function Ag(e,n,r,l,c){var h=se.p;se.p=h!==0&&8>h?h:8;var v=S.T,T={};S.T=T,bf(e,!1,n,r);try{var C=c(),U=S.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=hT(C,l);El(e,n,K,fn(e))}else El(e,n,l,fn(e))}catch(W){El(e,n,{then:function(){},status:"rejected",reason:W},fn())}finally{se.p=h,S.T=v}}function yT(){}function Af(e,n,r,l){if(e.tag!==5)throw Error(s(476));var c=Sg(e).queue;Ag(e,c,n,we,r===null?yT:function(){return bg(e),r(l)})}function Sg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:we},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bg(e){var n=Sg(e).next.queue;El(e,n,{},fn())}function Sf(){return Ht(Bl)}function Rg(){return gt().memoizedState}function wg(){return gt().memoizedState}function _T(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();e=fr(r);var l=hr(n,e,r);l!==null&&(Wt(l,n,r),Sl(l,n,r)),n={cache:sf()},e.payload=n;return}n=n.return}}function vT(e,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},uo(e)?Dg(n,r):(r=Jc(e,n,r,l),r!==null&&(Wt(r,e,l),Ng(r,n,l)))}function Cg(e,n,r){var l=fn();El(e,n,r,l)}function El(e,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(uo(e))Dg(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var v=n.lastRenderedState,T=h(v,r);if(c.hasEagerState=!0,c.eagerState=T,ln(T,v))return Fu(e,n,c,0),Xe===null&&Gu(),!1}catch{}finally{}if(r=Jc(e,n,c,l),r!==null)return Wt(r,e,l),Ng(r,n,l),!0}return!1}function bf(e,n,r,l){if(l={lane:2,revertLane:dh(),action:l,hasEagerState:!1,eagerState:null,next:null},uo(e)){if(n)throw Error(s(479))}else n=Jc(e,r,l,2),n!==null&&Wt(n,e,2)}function uo(e){var n=e.alternate;return e===Ce||n!==null&&n===Ce}function Dg(e,n){Wa=to=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ng(e,n,r){if(r&4194176){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Ki(e,r)}}var ti={readContext:Ht,use:ro,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};ti.useCacheRefresh=ct,ti.useMemoCache=ct,ti.useHostTransitionStatus=ct,ti.useFormState=ct,ti.useActionState=ct,ti.useOptimistic=ct;var sa={readContext:Ht,use:ro,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Ht,useEffect:mg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,so(4194308,4,yg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return so(4194308,4,e,n)},useInsertionEffect:function(e,n){so(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var l=e();if(aa){qn(!0);try{e()}finally{qn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=nn();if(r!==void 0){var c=r(n);if(aa){qn(!0);try{r(n)}finally{qn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=vT.bind(null,Ce,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=Cg.bind(null,Ce,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=nn();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=Ag.bind(null,Ce,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Ce,c=nn();if(Be){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xe===null)throw Error(s(349));Ue&60||Jm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,mg(eg.bind(null,l,h,e),[e]),l.flags|=2048,ts(9,Wm.bind(null,l,h,r,n),{destroy:void 0},null),r},useId:function(){var e=nn(),n=Xe.identifierPrefix;if(Be){var r=Ti,l=Ei;r=(l&~(1<<32-Xt(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=no++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=dT++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=_T.bind(null,Ce)}};sa.useMemoCache=mf,sa.useHostTransitionStatus=Sf,sa.useFormState=og,sa.useActionState=og,sa.useOptimistic=function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=bf.bind(null,Ce,!0,r),r.dispatch=n,[e,n]};var ur={readContext:Ht,use:ro,useCallback:vg,useContext:Ht,useEffect:vf,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:ao,useRef:dg,useState:function(){return ao(Si)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=gt();return Tg(r,Qe.memoizedState,e,n)},useTransition:function(){var e=ao(Si)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:Zm,useId:Rg};ur.useCacheRefresh=wg,ur.useMemoCache=mf,ur.useHostTransitionStatus=Sf,ur.useFormState=cg,ur.useActionState=cg,ur.useOptimistic=function(e,n){var r=gt();return ig(r,Qe,e,n)};var la={readContext:Ht,use:ro,useCallback:vg,useContext:Ht,useEffect:vf,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:pf,useRef:dg,useState:function(){return pf(Si)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=gt();return Qe===null?Tf(r,e,n):Tg(r,Qe.memoizedState,e,n)},useTransition:function(){var e=pf(Si)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:Zm,useId:Rg};la.useCacheRefresh=wg,la.useMemoCache=mf,la.useHostTransitionStatus=Sf,la.useFormState=hg,la.useActionState=hg,la.useOptimistic=function(e,n){var r=gt();return Qe!==null?ig(r,Qe,e,n):(r.baseState=e,[e,r.queue.dispatch])};function Rf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:R({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wf={isMounted:function(e){return(e=e._reactInternals)?me(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var l=fn(),c=fr(l);c.payload=n,r!=null&&(c.callback=r),n=hr(e,c,l),n!==null&&(Wt(n,e,l),Sl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=fn(),c=fr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=hr(e,c,l),n!==null&&(Wt(n,e,l),Sl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=fn(),l=fr(r);l.tag=2,n!=null&&(l.callback=n),n=hr(e,l,r),n!==null&&(Wt(n,e,r),Sl(n,e,r))}};function Vg(e,n,r,l,c,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):n.prototype&&n.prototype.isPureReactComponent?!ll(r,l)||!ll(c,h):!0}function Ig(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function ua(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=R({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var oo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xg(e){oo(e)}function Og(e){console.error(e)}function Mg(e){oo(e)}function co(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ug(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Cf(e,n,r){return r=fr(r),r.tag=3,r.payload={element:null},r.callback=function(){co(e,n)},r}function Lg(e){return e=fr(e),e.tag=3,e}function Pg(e,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){Ug(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ug(n,r,l),typeof c!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ET(e,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Al(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return ei===null?uh():r.alternate===null&&lt===0&&(lt=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===nf?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ch(e,l,c)),!1;case 22:return r.flags|=65536,l===nf?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ch(e,l,c)),!1}throw Error(s(435,r.tag))}return ch(e,l,c),uh(),!1}if(Be)return n=bn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==tf&&(e=Error(s(422),{cause:l}),fl(Tn(e,r)))):(l!==tf&&(n=Error(s(423),{cause:l}),fl(Tn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Tn(l,r),c=Cf(e.stateNode,l,c),qf(e,c),lt!==4&&(lt=2)),!1;var h=Error(s(520),{cause:l});if(h=Tn(h,r),Il===null?Il=[h]:Il.push(h),lt!==4&&(lt=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Cf(r.stateNode,l,e),qf(r,e),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(_r===null||!_r.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Lg(c),Pg(c,e,r,l),qf(r,c),!1}r=r.return}while(r!==null);return!1}var zg=Error(s(461)),It=!1;function Pt(e,n,r,l){n.child=e===null?Hm(n,null,r,l):ia(n,e.child,r,l)}function kg(e,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ca(n),l=cf(e,n,r,v,h,c),T=ff(),e!==null&&!It?(hf(e,n,c),bi(e,n,c)):(Be&&T&&Wc(n),n.flags|=1,Pt(e,n,l,c),n.child)}function Bg(e,n,r,l,c){if(e===null){var h=r.type;return typeof h=="function"&&!$f(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,jg(e,n,h,l,c)):(e=po(r.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Lf(e,c)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:ll,r(v,l)&&e.ref===n.ref)return bi(e,n,c)}return n.flags|=1,e=pr(h,l),e.ref=n.ref,e.return=n,n.child=e}function jg(e,n,r,l,c){if(e!==null){var h=e.memoizedProps;if(ll(h,l)&&e.ref===n.ref)if(It=!1,n.pendingProps=l=h,Lf(e,c))e.flags&131072&&(It=!0);else return n.lanes=e.lanes,bi(e,n,c)}return Df(e,n,r,l,c)}function qg(e,n,r){var l=n.pendingProps,c=l.children,h=(n.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Tl(e,n),l.mode==="hidden"||h){if(n.flags&128){if(l=v!==null?v.baseLanes|r:r,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Hg(e,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&eo(n,v!==null?v.cachePool:null),v!==null?Gm(n,v):rf(),Fm(n);else return n.lanes=n.childLanes=536870912,Hg(e,n,v!==null?v.baseLanes|r:r,r)}else v!==null?(eo(n,v.cachePool),Gm(n,v),sr(),n.memoizedState=null):(e!==null&&eo(n,null),rf(),sr());return Pt(e,n,c,r),n.child}function Hg(e,n,r,l){var c=uf();return c=c===null?null:{parent:bt._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&eo(n,null),rf(),Fm(n),e!==null&&Al(e,n,l,!0),null}function Tl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=2097664)}}function Df(e,n,r,l,c){return ca(n),r=cf(e,n,r,l,void 0,c),l=ff(),e!==null&&!It?(hf(e,n,c),bi(e,n,c)):(Be&&l&&Wc(n),n.flags|=1,Pt(e,n,r,c),n.child)}function Gg(e,n,r,l,c,h){return ca(n),n.updateQueue=null,r=$m(n,l,r,c),Xm(e),l=ff(),e!==null&&!It?(hf(e,n,h),bi(e,n,h)):(Be&&l&&Wc(n),n.flags|=1,Pt(e,n,r,h),n.child)}function Fg(e,n,r,l,c){if(ca(n),n.stateNode===null){var h=Qa,v=r.contextType;typeof v=="object"&&v!==null&&(h=Ht(v)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=wf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Bf(n),v=r.contextType,h.context=typeof v=="object"&&v!==null?Ht(v):Qa,h.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Rf(n,r,v,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&wf.enqueueReplaceState(h,h.state,null),Rl(n,l,h,c),bl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,C=ua(r,T);h.props=C;var U=h.context,K=r.contextType;v=Qa,typeof K=="object"&&K!==null&&(v=Ht(K));var W=r.getDerivedStateFromProps;K=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||U!==v)&&Ig(n,h,l,v),cr=!1;var q=n.memoizedState;h.state=q,Rl(n,l,h,c),bl(),U=n.memoizedState,T||q!==U||cr?(typeof W=="function"&&(Rf(n,r,W,l),U=n.memoizedState),(C=cr||Vg(n,r,C,l,q,U,v))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),h.props=l,h.state=U,h.context=v,l=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,jf(e,n),v=n.memoizedProps,K=ua(r,v),h.props=K,W=n.pendingProps,q=h.context,U=r.contextType,C=Qa,typeof U=="object"&&U!==null&&(C=Ht(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==W||q!==C)&&Ig(n,h,l,C),cr=!1,q=n.memoizedState,h.state=q,Rl(n,l,h,c),bl();var Y=n.memoizedState;v!==W||q!==Y||cr||e!==null&&e.dependencies!==null&&fo(e.dependencies)?(typeof T=="function"&&(Rf(n,r,T,l),Y=n.memoizedState),(K=cr||Vg(n,r,K,l,q,Y,C)||e!==null&&e.dependencies!==null&&fo(e.dependencies))?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,Y,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,Y,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),h.props=l,h.state=Y,h.context=C,l=K):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Tl(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=ia(n,e.child,null,c),n.child=ia(n,null,r,c)):Pt(e,n,r,c),n.memoizedState=h.state,e=n.child):e=bi(e,n,c),e}function Qg(e,n,r,l){return cl(),n.flags|=256,Pt(e,n,r,l),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Vf(e){return{baseLanes:e,cachePool:Km()}}function If(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Dn),e}function Yg(e,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Be){if(c?ar(n):sr(),Be){var T=Lt,C;if(C=T){e:{for(C=T,T=Wn;C.nodeType!==8;){if(!T){T=null;break e}if(C=Pn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ea!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},C=Cn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,Jt=n,Lt=null,C=!0):C=!1}C||na(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ai(n)}return T=l.children,l=l.fallback,c?(sr(),c=n.mode,T=Of({mode:"hidden",children:T},c),l=ha(l,c,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,c=n.child,c.memoizedState=Vf(r),c.childLanes=If(e,v,r),n.memoizedState=Nf,l):(ar(n),xf(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(h)n.flags&256?(ar(n),n.flags&=-257,n=Mf(e,n,r)):n.memoizedState!==null?(sr(),n.child=e.child,n.flags|=128,n=null):(sr(),c=l.fallback,T=n.mode,l=Of({mode:"visible",children:l.children},T),c=ha(c,T,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ia(n,e.child,null,r),l=n.child,l.memoizedState=Vf(r),l.childLanes=If(e,v,r),n.memoizedState=Nf,n=c);else if(ar(n),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,fl({value:l,source:null,stack:null}),n=Mf(e,n,r)}else if(It||Al(e,n,r,!1),v=(r&e.childLanes)!==0,It||v){if(v=Xe,v!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|r)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,rr(e,l),Wt(v,e,l),zg}T.data==="$?"||uh(),n=Mf(e,n,r)}else T.data==="$?"?(n.flags|=128,n.child=e.child,n=UT.bind(null,e),T._reactRetry=n,n=null):(e=C.treeContext,Lt=Pn(T.nextSibling),Jt=n,Be=!0,Un=null,Wn=!1,e!==null&&(An[Sn++]=Ei,An[Sn++]=Ti,An[Sn++]=ea,Ei=e.id,Ti=e.overflow,ea=n),n=xf(n,l.children),n.flags|=4096);return n}return c?(sr(),c=l.fallback,T=n.mode,C=e.child,U=C.sibling,l=pr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?c=pr(U,c):(c=ha(c,T,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,T=e.child.memoizedState,T===null?T=Vf(r):(C=T.cachePool,C!==null?(U=bt._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=Km(),T={baseLanes:T.baseLanes|r,cachePool:C}),c.memoizedState=T,c.childLanes=If(e,v,r),n.memoizedState=Nf,l):(ar(n),r=e.child,e=r.sibling,r=pr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=r,n.memoizedState=null,r)}function xf(e,n){return n=Of({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Of(e,n){return vp(e,n,0,null)}function Mf(e,n,r){return ia(n,e.child,null,r),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kg(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),zf(e.return,n,r)}function Uf(e,n,r,l,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function Xg(e,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Pt(e,n,l.children,r),l=St.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,r,n);else if(e.tag===19)Kg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Fe(St,l),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Wu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Uf(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Wu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Uf(n,!0,r,null,h);break;case"together":Uf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),yr|=n.lanes,!(r&n.childLanes))if(e!==null){if(Al(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=pr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=pr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Lf(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&fo(e)))}function TT(e,n,r){switch(n.tag){case 3:qi(n,n.stateNode.containerInfo),or(n,bt,e.memoizedState.cache),cl();break;case 27:case 5:Bs(n);break;case 4:qi(n,n.stateNode.containerInfo);break;case 10:or(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(n),n.flags|=128,null):r&n.child.childLanes?Yg(e,n,r):(ar(n),e=bi(e,n,r),e!==null?e.sibling:null);ar(n);break;case 19:var c=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Al(e,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Xg(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Fe(St,St.current),l)break;return null;case 22:case 23:return n.lanes=0,qg(e,n,r);case 24:or(n,bt,e.memoizedState.cache)}return bi(e,n,r)}function $g(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)It=!0;else{if(!Lf(e,r)&&!(n.flags&128))return It=!1,TT(e,n,r);It=!!(e.flags&131072)}else It=!1,Be&&n.flags&1048576&&Mm(n,Ku,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")$f(l)?(e=ua(l,e),n.tag=1,n=Fg(null,n,l,e,r)):(n.tag=0,n=Df(null,n,l,e,r));else{if(l!=null){if(c=l.$$typeof,c===k){n.tag=11,n=kg(null,n,l,e,r);break e}else if(c===$){n.tag=14,n=Bg(null,n,l,e,r);break e}}throw n=w(l)||l,Error(s(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ua(l,n.pendingProps),Fg(e,n,l,c,r);case 3:e:{if(qi(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var h=n.pendingProps;c=n.memoizedState,l=c.element,jf(e,n),Rl(n,h,null,r);var v=n.memoizedState;if(h=v.cache,or(n,bt,h),h!==c.cache&&kf(n,[bt],r,!0),bl(),h=v.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Qg(e,n,h,r);break e}else if(h!==l){l=Tn(Error(s(424)),n),fl(l),n=Qg(e,n,h,r);break e}else for(Lt=Pn(n.stateNode.containerInfo.firstChild),Jt=n,Be=!0,Un=null,Wn=!0,r=Hm(n,null,h,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cl(),h===l){n=bi(e,n,r);break e}Pt(e,n,h,r)}n=n.child}return n;case 26:return Tl(e,n),e===null?(r=Wp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Be||(r=n.type,e=n.pendingProps,l=Do(dn.current).createElement(r),l[Dt]=n,l[Et]=e,zt(l,r,e),et(l),n.stateNode=l):n.memoizedState=Wp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Bs(n),e===null&&Be&&(l=n.stateNode=$p(n.type,n.pendingProps,dn.current),Jt=n,Wn=!0,Lt=Pn(l.firstChild)),l=n.pendingProps.children,e!==null||Be?Pt(e,n,l,r):n.child=ia(n,null,l,r),Tl(e,n),n.child;case 5:return e===null&&Be&&((c=l=Lt)&&(l=ZT(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,Jt=n,Lt=Pn(l.firstChild),Wn=!1,c=!0):c=!1),c||na(n)),Bs(n),c=n.type,h=n.pendingProps,v=e!==null?e.memoizedProps:null,l=h.children,Ah(c,h)?l=null:v!==null&&Ah(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=cf(e,n,mT,null,null,r),Bl._currentValue=c),Tl(e,n),Pt(e,n,l,r),n.child;case 6:return e===null&&Be&&((e=r=Lt)&&(r=JT(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,Jt=n,Lt=null,e=!0):e=!1),e||na(n)),null;case 13:return Yg(e,n,r);case 4:return qi(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ia(n,null,l,r):Pt(e,n,l,r),n.child;case 11:return kg(e,n,n.type,n.pendingProps,r);case 7:return Pt(e,n,n.pendingProps,r),n.child;case 8:return Pt(e,n,n.pendingProps.children,r),n.child;case 12:return Pt(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,or(n,n.type,l.value),Pt(e,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=Ht(c),l=l(c),n.flags|=1,Pt(e,n,l,r),n.child;case 14:return Bg(e,n,n.type,n.pendingProps,r);case 15:return jg(e,n,n.type,n.pendingProps,r);case 19:return Xg(e,n,r);case 22:return qg(e,n,r);case 24:return ca(n),l=Ht(bt),e===null?(c=uf(),c===null&&(c=Xe,h=sf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},Bf(n),or(n,bt,c)):(e.lanes&r&&(jf(e,n),Rl(n,null,null,r),bl()),c=e.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),or(n,bt,l)):(l=h.cache,or(n,bt,l),l!==c.cache&&kf(n,[bt],r,!0))),Pt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Pf=ze(null),oa=null,Ri=null;function or(e,n,r){Fe(Pf,n._currentValue),n._currentValue=r}function wi(e){e._currentValue=Pf.current,rt(Pf)}function zf(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function kf(e,n,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var v=c.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=c;for(var C=0;C<n.length;C++)if(T.context===n[C]){h.lanes|=r,T=h.alternate,T!==null&&(T.lanes|=r),zf(h.return,r,e),l||(v=null);break e}h=T.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),zf(v,r,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Al(e,n,r,l){e=null;for(var c=n,h=!1;c!==null;){if(!h){if(c.flags&524288)h=!0;else if(c.flags&262144)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=c.type;ln(c.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(c===ji.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Bl):e=[Bl])}c=c.return}e!==null&&kf(n,e,r,l),n.flags|=262144}function fo(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){oa=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Zg(oa,e)}function ho(e,n){return oa===null&&ca(e),Zg(e,n)}function Zg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(e===null)throw Error(s(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return r}var cr=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hr(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,nt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Qu(e),xm(e,null,r),n}return Fu(e,l,n,r),Qu(e)}function Sl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Ki(e,r)}}function qf(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Hf=!1;function bl(){if(Hf){var e=Ja;if(e!==null)throw e}}function Rl(e,n,r,l){Hf=!1;var c=e.updateQueue;cr=!1;var h=c.firstBaseUpdate,v=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var C=T,U=C.next;C.next=null,v===null?h=U:v.next=U,v=C;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=C))}if(h!==null){var W=c.baseState;v=0,K=U=C=null,T=h;do{var q=T.lane&-536870913,Y=q!==T.lane;if(Y?(Ue&q)===q:(l&q)===q){q!==0&&q===Za&&(Hf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=e,Te=T;q=n;var ut=r;switch(Te.tag){case 1:if(fe=Te.payload,typeof fe=="function"){W=fe.call(ut,W,q);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Te.payload,q=typeof fe=="function"?fe.call(ut,W,q):fe,q==null)break e;W=R({},W,q);break e;case 2:cr=!0}}q=T.callback,q!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=c.callbacks,Y===null?c.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=Y,C=W):K=K.next=Y,v|=q;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,c.lastBaseUpdate=Y,c.shared.pending=null}}while(!0);K===null&&(C=W),c.baseState=C,c.firstBaseUpdate=U,c.lastBaseUpdate=K,h===null&&(c.shared.lanes=0),yr|=v,e.lanes=v,e.memoizedState=W}}function Jg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Wg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Jg(r[e],n)}function wl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var h=r.create,v=r.inst;l=h(),v.destroy=l}r=r.next}while(r!==c)}}catch(T){Ke(n,n.return,T)}}function dr(e,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,c=n;var C=r;try{T()}catch(U){Ke(c,C,U)}}}l=l.next}while(l!==h)}}catch(U){Ke(n,n.return,U)}}function ep(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Wg(n,r)}catch(l){Ke(e,e.return,l)}}}function tp(e,n,r){r.props=ua(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Ke(e,n,l)}}function fa(e,n){try{var r=e.ref;if(r!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(h){Ke(e,n,h)}}function un(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ke(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ke(e,n,c)}else r.current=null}function np(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ke(e,e.return,c)}}function ip(e,n,r){try{var l=e.stateNode;QT(l,e.type,r,n),l[Et]=n}catch(c){Ke(e,e.return,c)}}function rp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Co));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Ff(e,n,r),e=e.sibling;e!==null;)Ff(e,n,r),e=e.sibling}function mo(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(mo(e,n,r),e=e.sibling;e!==null;)mo(e,n,r),e=e.sibling}var Ci=!1,st=!1,Qf=!1,ap=typeof WeakSet=="function"?WeakSet:Set,xt=null,sp=!1;function AT(e,n){if(e=e.containerInfo,Eh=Mo,e=Sm(e),Yc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,T=-1,C=-1,U=0,K=0,W=e,q=null;t:for(;;){for(var Y;W!==r||c!==0&&W.nodeType!==3||(T=v+c),W!==h||l!==0&&W.nodeType!==3||(C=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Y=W.firstChild)!==null;)q=W,W=Y;for(;;){if(W===e)break t;if(q===r&&++U===c&&(T=v),q===h&&++K===l&&(C=v),(Y=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Y}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Th={focusedElem:e,selectionRange:r},Mo=!1,xt=n;xt!==null;)if(n=xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xt=e;else for(;xt!==null;){switch(n=xt,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&h!==null){e=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var fe=ua(r.type,c,r.elementType===r.type);e=l.getSnapshotBeforeUpdate(fe,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(Te){Ke(r,r.return,Te)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Rh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xt=e;break}xt=n.return}return fe=sp,sp=!1,fe}function lp(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(e,r),l&4&&wl(5,r);break;case 1:if(Ni(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(T){Ke(r,r.return,T)}else{var c=ua(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ke(r,r.return,T)}}l&64&&ep(r),l&512&&fa(r,r.return);break;case 3:if(Ni(e,r),l&64&&(l=r.updateQueue,l!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{Wg(l,e)}catch(T){Ke(r,r.return,T)}}break;case 26:Ni(e,r),l&512&&fa(r,r.return);break;case 27:case 5:Ni(e,r),n===null&&l&4&&np(r),l&512&&fa(r,r.return);break;case 12:Ni(e,r);break;case 13:Ni(e,r),l&4&&cp(e,r);break;case 22:if(c=r.memoizedState!==null||Ci,!c){n=n!==null&&n.memoizedState!==null||st;var h=Ci,v=st;Ci=c,(st=n)&&!v?mr(e,r,(r.subtreeFlags&8772)!==0):Ni(e,r),Ci=h,st=v}l&512&&(r.memoizedProps.mode==="manual"?fa(r,r.return):un(r,r.return));break;default:Ni(e,r)}}function up(e){var n=e.alternate;n!==null&&(e.alternate=null,up(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pt=null,on=!1;function Di(e,n,r){for(r=r.child;r!==null;)op(e,n,r),r=r.sibling}function op(e,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hi,r)}catch{}switch(r.tag){case 26:st||un(r,n),Di(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:st||un(r,n);var l=pt,c=on;for(pt=r.stateNode,Di(e,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);jr(r),pt=l,on=c;break;case 5:st||un(r,n);case 6:c=pt;var h=on;if(pt=null,Di(e,n,r),pt=c,on=h,pt!==null)if(on)try{e=pt,l=r.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Ke(r,n,v)}else try{pt.removeChild(r.stateNode)}catch(v){Ke(r,n,v)}break;case 18:pt!==null&&(on?(n=pt,r=r.stateNode,n.nodeType===8?bh(n.parentNode,r):n.nodeType===1&&bh(n,r),Gl(n)):bh(pt,r.stateNode));break;case 4:l=pt,c=on,pt=r.stateNode.containerInfo,on=!0,Di(e,n,r),pt=l,on=c;break;case 0:case 11:case 14:case 15:st||dr(2,r,n),st||dr(4,r,n),Di(e,n,r);break;case 1:st||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&tp(r,n,l)),Di(e,n,r);break;case 21:Di(e,n,r);break;case 22:st||un(r,n),st=(l=st)||r.memoizedState!==null,Di(e,n,r),st=l;break;default:Di(e,n,r)}}function cp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(r){Ke(n,n.return,r)}}function ST(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ap),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ap),n;default:throw Error(s(435,e.tag))}}function Yf(e,n){var r=ST(e);n.forEach(function(l){var c=LT.bind(null,e,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=e,v=n,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:pt=T.stateNode,on=!1;break e;case 3:pt=T.stateNode.containerInfo,on=!0;break e;case 4:pt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(pt===null)throw Error(s(160));op(h,v,c),pt=null,on=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)fp(n,e),n=n.sibling}var Ln=null;function fp(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(n,e),wn(e),l&4&&(dr(3,e,e.return),wl(3,e),dr(5,e,e.return));break;case 1:Rn(n,e),wn(e),l&512&&(st||r===null||un(r,r.return)),l&64&&Ci&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ln;if(Rn(n,e),wn(e),l&512&&(st||r===null||un(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[$i]||h[Dt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),zt(h,l,r),h[Dt]=e,et(h),l=h;break e;case"link":var v=ny("link","href",c).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(h=v[T],h.getAttribute("href")===(r.href==null?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break t}}h=c.createElement(l),zt(h,l,r),c.head.appendChild(h);break;case"meta":if(v=ny("meta","content",c).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(h=v[T],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break t}}h=c.createElement(l),zt(h,l,r),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[Dt]=e,et(h),l=h}e.stateNode=l}else iy(c,e.type,e.stateNode);else e.stateNode=ty(c,l,e.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?iy(c,e.type,e.stateNode):ty(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ip(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){c=e.stateNode,h=e.memoizedProps;try{for(var C=c.firstChild;C;){var U=C.nextSibling,K=C.nodeName;C[$i]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=U}for(var W=e.type,q=c.attributes;q.length;)c.removeAttributeNode(q[0]);zt(c,W,h),c[Dt]=e,c[Et]=h}catch(fe){Ke(e,e.return,fe)}}case 5:if(Rn(n,e),wn(e),l&512&&(st||r===null||un(r,r.return)),e.flags&32){c=e.stateNode;try{pn(c,"")}catch(fe){Ke(e,e.return,fe)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,ip(e,c,r!==null?r.memoizedProps:c)),l&1024&&(Qf=!0);break;case 6:if(Rn(n,e),wn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(fe){Ke(e,e.return,fe)}}break;case 3:if(Io=null,c=Ln,Ln=No(n.containerInfo),Rn(n,e),Ln=c,wn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(fe){Ke(e,e.return,fe)}Qf&&(Qf=!1,hp(e));break;case 4:l=Ln,Ln=No(e.stateNode.containerInfo),Rn(n,e),wn(e),Ln=l;break;case 12:Rn(n,e),wn(e);break;case 13:Rn(n,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nh=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yf(e,l)));break;case 22:if(l&512&&(st||r===null||un(r,r.return)),C=e.memoizedState!==null,U=r!==null&&r.memoizedState!==null,K=Ci,W=st,Ci=K||C,st=W||U,Rn(n,e),st=W,Ci=K,wn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=Ci||st,r===null||U||n||ns(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(r=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){U=r=n;try{if(c=U.stateNode,C)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=U.stateNode,T=U.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){Ke(U,U.return,fe)}}}else if(n.tag===6){if(r===null){U=n;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(fe){Ke(U,U.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Yf(e,r))));break;case 19:Rn(n,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yf(e,l)));break;case 21:break;default:Rn(n,e),wn(e)}}function wn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){e:{for(var r=e.return;r!==null;){if(rp(r)){var l=r;break e}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,h=Gf(e);mo(e,h,c);break;case 5:var v=l.stateNode;l.flags&32&&(pn(v,""),l.flags&=-33);var T=Gf(e);mo(e,T,v);break;case 3:case 4:var C=l.stateNode.containerInfo,U=Gf(e);Ff(e,U,C);break;default:throw Error(s(161))}}}catch(K){Ke(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ni(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)lp(e,n.alternate,n),n=n.sibling}function ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:dr(4,n,n.return),ns(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&tp(n,n.return,r),ns(n);break;case 26:case 27:case 5:un(n,n.return),ns(n);break;case 22:un(n,n.return),n.memoizedState===null&&ns(n);break;default:ns(n)}e=e.sibling}}function mr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,h=n,v=h.flags;switch(h.tag){case 0:case 11:case 15:mr(c,h,r),wl(4,h);break;case 1:if(mr(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Ke(l,l.return,U)}if(l=h,c=l.updateQueue,c!==null){var T=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Jg(C[c],T)}catch(U){Ke(l,l.return,U)}}r&&v&64&&ep(h),fa(h,h.return);break;case 26:case 27:case 5:mr(c,h,r),r&&l===null&&v&4&&np(h),fa(h,h.return);break;case 12:mr(c,h,r);break;case 13:mr(c,h,r),r&&v&4&&cp(c,h);break;case 22:h.memoizedState===null&&mr(c,h,r),fa(h,h.return);break;default:mr(c,h,r)}n=n.sibling}}function Kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&pl(r))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e))}function gr(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dp(e,n,r,l),n=n.sibling}function dp(e,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:gr(e,n,r,l),c&2048&&wl(9,n);break;case 3:gr(e,n,r,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e)));break;case 12:if(c&2048){gr(e,n,r,l),e=n.stateNode;try{var h=n.memoizedProps,v=h.id,T=h.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ke(n,n.return,C)}}else gr(e,n,r,l);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?gr(e,n,r,l):Cl(e,n):h._visibility&4?gr(e,n,r,l):(h._visibility|=4,is(e,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Kf(n.alternate,n);break;case 24:gr(e,n,r,l),c&2048&&Xf(n.alternate,n);break;default:gr(e,n,r,l)}}function is(e,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,v=n,T=r,C=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:is(h,v,T,C,c),wl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&4?is(h,v,T,C,c):Cl(h,v):(K._visibility|=4,is(h,v,T,C,c)),c&&U&2048&&Kf(v.alternate,v);break;case 24:is(h,v,T,C,c),c&&U&2048&&Xf(v.alternate,v);break;default:is(h,v,T,C,c)}n=n.sibling}}function Cl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,c=l.flags;switch(l.tag){case 22:Cl(r,l),c&2048&&Kf(l.alternate,l);break;case 24:Cl(r,l),c&2048&&Xf(l.alternate,l);break;default:Cl(r,l)}n=n.sibling}}var Dl=8192;function rs(e){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 26:rs(e),e.flags&Dl&&e.memoizedState!==null&&fA(Ln,e.memoizedState,e.memoizedProps);break;case 5:rs(e);break;case 3:case 4:var n=Ln;Ln=No(e.stateNode.containerInfo),rs(e),Ln=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,rs(e),Dl=n):rs(e));break;default:rs(e)}}function gp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Nl(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xt=l,yp(l,e)}gp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pp(e),e=e.sibling}function pp(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&dr(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,go(e)):Nl(e);break;default:Nl(e)}}function go(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xt=l,yp(l,e)}gp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:dr(8,n,n.return),go(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,go(n));break;default:go(n)}e=e.sibling}}function yp(e,n){for(;xt!==null;){var r=xt;switch(r.tag){case 0:case 11:case 15:dr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xt=l;else e:for(r=e;xt!==null;){l=xt;var c=l.sibling,h=l.return;if(up(l),l===r){xt=null;break e}if(c!==null){c.return=h,xt=c;break e}xt=h}}}function bT(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,r,l){return new bT(e,n,r,l)}function $f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pr(e,n){var r=e.alternate;return r===null?(r=Cn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function _p(e,n){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function po(e,n,r,l,c,h){var v=0;if(l=e,typeof e=="function")$f(e)&&(v=1);else if(typeof e=="string")v=oA(e,r,Kt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case p:return ha(r.children,c,h,n);case y:v=8,c|=24;break;case E:return e=Cn(12,r,n,c|2),e.elementType=E,e.lanes=h,e;case Q:return e=Cn(13,r,n,c),e.elementType=Q,e.lanes=h,e;case H:return e=Cn(19,r,n,c),e.elementType=H,e.lanes=h,e;case te:return vp(r,c,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case x:v=10;break e;case D:v=9;break e;case k:v=11;break e;case $:v=14;break e;case ne:v=16,l=null;break e}v=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Cn(v,r,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function ha(e,n,r,l){return e=Cn(7,e,l,n),e.lanes=r,e}function vp(e,n,r,l){e=Cn(22,e,l,n),e.elementType=te,e.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var v=rr(h,2);v!==null&&(c._pendingVisibility|=2,Wt(v,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(s(456));if(c._pendingVisibility&2){var v=rr(h,2);v!==null&&(c._pendingVisibility&=-3,Wt(v,h,2))}}};return e.stateNode=c,e}function Zf(e,n,r){return e=Cn(6,e,null,n),e.lanes=r,e}function Jf(e,n,r){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Vi(e){e.flags|=4}function Ep(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ry(n)){if(n=bn.current,n!==null&&((Ue&4194176)===Ue?ei!==null:(Ue&62914560)!==Ue&&!(Ue&536870912)||n!==ei))throw dl=nf,Pm;e.flags|=8192}}function yo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Qi():536870912,e.lanes|=n,ss|=n)}function Vl(e,n){if(!Be)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function RT(e,n,r){var l=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(bt),oi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ol(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Un!==null&&(sh(Un),Un=null))),tt(n),null;case 26:return r=n.memoizedState,e===null?(Vi(n),r!==null?(tt(n),Ep(n,r)):(tt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Vi(n),tt(n),Ep(n,r)):(tt(n),n.flags&=-16777217):(e.memoizedProps!==l&&Vi(n),tt(n),n.flags&=-16777217),null;case 27:Ra(n),r=dn.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return tt(n),null}e=Kt.current,ol(n)?Um(n):(e=$p(c,l,r),n.stateNode=e,Vi(n))}return tt(n),null;case 5:if(Ra(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return tt(n),null}if(e=Kt.current,ol(n))Um(n);else{switch(c=Do(dn.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}e[Dt]=n,e[Et]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(zt(e,r,l),r){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vi(n)}}return tt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=dn.current,ol(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,c=Jt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Dt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Gp(e.nodeValue,r)),e||na(n)}else e=Do(e).createTextNode(l),e[Dt]=n,n.stateNode=e}return tt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ol(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Dt]=n}else cl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;tt(n),c=!1}else Un!==null&&(sh(Un),Un=null),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,e=e!==null&&e.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),yo(n,n.updateQueue),tt(n),null;case 4:return oi(),e===null&&yh(n.stateNode.containerInfo),tt(n),null;case 10:return wi(n.type),tt(n),null;case 19:if(rt(St),c=n.memoizedState,c===null)return tt(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Vl(c,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Wu(e),h!==null){for(n.flags|=128,Vl(c,!1),e=h.updateQueue,n.updateQueue=e,yo(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)_p(r,e),r=r.sibling;return Fe(St,St.current&1|2),n.child}e=e.sibling}c.tail!==null&&en()>_o&&(n.flags|=128,l=!0,Vl(c,!1),n.lanes=4194304)}else{if(!l)if(e=Wu(h),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,yo(n,e),Vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Be)return tt(n),null}else 2*en()-c.renderingStartTime>_o&&r!==536870912&&(n.flags|=128,l=!0,Vl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=en(),n.sibling=null,e=St.current,Fe(St,l?e&1|2:e&1),n):(tt(n),null);case 22:case 23:return Ai(n),af(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),r=n.updateQueue,r!==null&&yo(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&rt(ra),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wi(bt),tt(n),null;case 25:return null}throw Error(s(156,n.tag))}function wT(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(bt),oi(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ra(n),null;case 13:if(Ai(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));cl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(St),null;case 4:return oi(),null;case 10:return wi(n.type),null;case 22:case 23:return Ai(n),af(),e!==null&&rt(ra),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(bt),null;case 25:return null;default:return null}}function Tp(e,n){switch(ef(n),n.tag){case 3:wi(bt),oi();break;case 26:case 27:case 5:Ra(n);break;case 4:oi();break;case 13:Ai(n);break;case 19:rt(St);break;case 10:wi(n.type);break;case 22:case 23:Ai(n),af(),e!==null&&rt(ra);break;case 24:wi(bt)}}var CT={getCacheForType:function(e){var n=Ht(bt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},DT=typeof WeakMap=="function"?WeakMap:Map,nt=0,Xe=null,Ne=null,Ue=0,$e=0,cn=null,Ii=!1,as=!1,Wf=!1,xi=0,lt=0,yr=0,da=0,eh=0,Dn=0,ss=0,Il=null,ni=null,th=!1,nh=0,_o=1/0,vo=null,_r=null,Eo=!1,ma=null,xl=0,ih=0,rh=null,Ol=0,ah=null;function fn(){if(nt&2&&Ue!==0)return Ue&-Ue;if(S.T!==null){var e=Za;return e!==0?e:dh()}return Ru()}function Ap(){Dn===0&&(Dn=!(Ue&536870912)||Be?Fs():536870912);var e=bn.current;return e!==null&&(e.flags|=32),Dn}function Wt(e,n,r){(e===Xe&&$e===2||e.cancelPendingCommit!==null)&&(ls(e,0),Oi(e,Ue,Dn,!1)),ot(e,r),(!(nt&2)||e!==Xe)&&(e===Xe&&(!(nt&2)&&(da|=r),lt===4&&Oi(e,Ue,Dn,!1)),ii(e))}function Sp(e,n,r){if(nt&6)throw Error(s(327));var l=!r&&(n&60)===0&&(n&e.expiredLanes)===0||Fi(e,n),c=l?IT(e,n):oh(e,n,!0),h=l;do{if(c===0){as&&!l&&Oi(e,n,0,!1);break}else if(c===6)Oi(e,n,0,!Ii);else{if(r=e.current.alternate,h&&!NT(r)){c=oh(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var T=e;c=Il;var C=T.current.memoizedState.isDehydrated;if(C&&(ls(T,v).flags|=256),v=oh(T,v,!1),v!==2){if(Wf&&!C){T.errorRecoveryDisabledLanes|=h,da|=h,c=4;break e}h=ni,ni=c,h!==null&&sh(h)}c=v}if(h=!1,c!==2)continue}}if(c===1){ls(e,0),Oi(e,n,0,!0);break}e:{switch(l=e,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Oi(l,n,Dn,!Ii);break e}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(h=nh+300-en(),10<h)){if(Oi(l,n,Dn,!Ii),mn(l,0)!==0)break e;l.timeoutHandle=Yp(bp.bind(null,l,r,ni,vo,th,n,Dn,da,ss,Ii,2,-0,0),h);break e}bp(l,r,ni,vo,th,n,Dn,da,ss,Ii,0,-0,0)}}break}while(!0);ii(e)}function sh(e){ni===null?ni=e:ni.push.apply(ni,e)}function bp(e,n,r,l,c,h,v,T,C,U,K,W,q){var Y=n.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:cA},mp(n),n=hA(),n!==null)){e.cancelPendingCommit=n(Ip.bind(null,e,r,l,c,v,T,C,1,W,q)),Oi(e,h,v,!U);return}Ip(e,r,l,c,v,T,C,K,W,q)}function NT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!ln(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oi(e,n,r,l){n&=~eh,n&=~da,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var h=31-Xt(c),v=1<<h;l[h]=-1,c&=~v}r!==0&&Yi(e,r,n)}function To(){return nt&6?!0:(Ml(0),!1)}function lh(){if(Ne!==null){if($e===0)var e=Ne.return;else e=Ne,Ri=oa=null,df(e),Xa=null,ml=0,e=Ne;for(;e!==null;)Tp(e.alternate,e),e=e.return;Ne=null}}function ls(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,KT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),lh(),Xe=e,Ne=r=pr(e.current,null),Ue=n,$e=0,cn=null,Ii=!1,as=Fi(e,n),Wf=!1,ss=Dn=eh=da=yr=lt=0,ni=Il=null,th=!1,n&8&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Xt(l),h=1<<c;n|=e[c],l&=~h}return xi=n,Gu(),r}function Rp(e,n){Ce=null,S.H=ti,n===hl?(n=Bm(),$e=3):n===Pm?(n=Bm(),$e=4):$e=n===zg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ne===null&&(lt=1,co(e,Tn(n,e.current)))}function wp(){var e=S.H;return S.H=ti,e===null?ti:e}function Cp(){var e=S.A;return S.A=CT,e}function uh(){lt=4,Ii||(Ue&4194176)!==Ue&&bn.current!==null||(as=!0),!(yr&134217727)&&!(da&134217727)||Xe===null||Oi(Xe,Ue,Dn,!1)}function oh(e,n,r){var l=nt;nt|=2;var c=wp(),h=Cp();(Xe!==e||Ue!==n)&&(vo=null,ls(e,n)),n=!1;var v=lt;e:do try{if($e!==0&&Ne!==null){var T=Ne,C=cn;switch($e){case 8:lh(),v=6;break e;case 3:case 2:case 6:bn.current===null&&(n=!0);var U=$e;if($e=0,cn=null,us(e,T,C,U),r&&as){v=0;break e}break;default:U=$e,$e=0,cn=null,us(e,T,C,U)}}VT(),v=lt;break}catch(K){Rp(e,K)}while(!0);return n&&e.shellSuspendCounter++,Ri=oa=null,nt=l,S.H=c,S.A=h,Ne===null&&(Xe=null,Ue=0,Gu()),v}function VT(){for(;Ne!==null;)Dp(Ne)}function IT(e,n){var r=nt;nt|=2;var l=wp(),c=Cp();Xe!==e||Ue!==n?(vo=null,_o=en()+500,ls(e,n)):as=Fi(e,n);e:do try{if($e!==0&&Ne!==null){n=Ne;var h=cn;t:switch($e){case 1:$e=0,cn=null,us(e,n,h,1);break;case 2:if(zm(h)){$e=0,cn=null,Np(n);break}n=function(){$e===2&&Xe===e&&($e=7),ii(e)},h.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:zm(h)?($e=0,cn=null,Np(n)):($e=0,cn=null,us(e,n,h,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||ry(v)){$e=0,cn=null;var C=T.sibling;if(C!==null)Ne=C;else{var U=T.return;U!==null?(Ne=U,Ao(U)):Ne=null}break t}}$e=0,cn=null,us(e,n,h,5);break;case 6:$e=0,cn=null,us(e,n,h,6);break;case 8:lh(),lt=6;break e;default:throw Error(s(462))}}xT();break}catch(K){Rp(e,K)}while(!0);return Ri=oa=null,S.H=l,S.A=c,nt=r,Ne!==null?0:(Xe=null,Ue=0,Gu(),lt)}function xT(){for(;Ne!==null&&!Lc();)Dp(Ne)}function Dp(e){var n=$g(e.alternate,e,xi);e.memoizedProps=e.pendingProps,n===null?Ao(e):Ne=n}function Np(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Gg(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Gg(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:df(n);default:Tp(r,n),n=Ne=_p(n,xi),n=$g(r,n,xi)}e.memoizedProps=e.pendingProps,n===null?Ao(e):Ne=n}function us(e,n,r,l){Ri=oa=null,df(n),Xa=null,ml=0;var c=n.return;try{if(ET(e,c,n,r,Ue)){lt=1,co(e,Tn(r,e.current)),Ne=null;return}}catch(h){if(c!==null)throw Ne=c,h;lt=1,co(e,Tn(r,e.current)),Ne=null;return}n.flags&32768?(Be||l===1?e=!0:as||Ue&536870912?e=!1:(Ii=e=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vp(n,e)):Ao(n)}function Ao(e){var n=e;do{if(n.flags&32768){Vp(n,Ii);return}e=n.return;var r=RT(n.alternate,n,xi);if(r!==null){Ne=r;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=e}while(n!==null);lt===0&&(lt=5)}function Vp(e,n){do{var r=wT(e.alternate,e);if(r!==null){r.flags&=32767,Ne=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=r}while(e!==null);lt=6,Ne=null}function Ip(e,n,r,l,c,h,v,T,C,U){var K=S.T,W=se.p;try{se.p=2,S.T=null,OT(e,n,r,l,W,c,h,v,T,C,U)}finally{S.T=K,se.p=W}}function OT(e,n,r,l,c,h,v,T){do os();while(ma!==null);if(nt&6)throw Error(s(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=Zc,Su(e,l,U,h,v,T),e===Xe&&(Ne=Xe=null,Ue=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Eo||(Eo=!0,ih=U,rh=r,PT(ci,function(){return os(),null})),r=(C.flags&15990)!==0,C.subtreeFlags&15990||r?(r=S.T,S.T=null,h=se.p,se.p=2,v=nt,nt|=4,AT(e,C),fp(C,e),iT(Th,e.containerInfo),Mo=!!Eh,Th=Eh=null,e.current=C,lp(e,C.alternate,C),js(),nt=v,se.p=h,S.T=r):e.current=C,Eo?(Eo=!1,ma=e,xl=l):xp(e,U),U=e.pendingLanes,U===0&&(_r=null),Hs(C.stateNode),ii(e),n!==null)for(c=e.onRecoverableError,C=0;C<n.length;C++)U=n[C],c(U.value,{componentStack:U.stack});return xl&3&&os(),U=e.pendingLanes,l&4194218&&U&42?e===ah?Ol++:(Ol=0,ah=e):Ol=0,Ml(0),null}function xp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,pl(n)))}function os(){if(ma!==null){var e=ma,n=ih;ih=0;var r=bu(xl),l=S.T,c=se.p;try{if(se.p=32>r?32:r,S.T=null,ma===null)var h=!1;else{r=rh,rh=null;var v=ma,T=xl;if(ma=null,xl=0,nt&6)throw Error(s(331));var C=nt;if(nt|=4,pp(v.current),dp(v,v.current,T,r),nt=C,Ml(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hi,v)}catch{}h=!0}return h}finally{se.p=c,S.T=l,xp(e,n)}}return!1}function Op(e,n,r){n=Tn(r,n),n=Cf(e.stateNode,n,2),e=hr(e,n,2),e!==null&&(ot(e,2),ii(e))}function Ke(e,n,r){if(e.tag===3)Op(e,e,r);else for(;n!==null;){if(n.tag===3){Op(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){e=Tn(r,e),r=Lg(2),l=hr(n,r,2),l!==null&&(Pg(r,l,n,e),ot(l,2),ii(l));break}}n=n.return}}function ch(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new DT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Wf=!0,c.add(r),e=MT.bind(null,e,n,r),n.then(e,e))}function MT(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Xe===e&&(Ue&r)===r&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>en()-nh?!(nt&2)&&ls(e,0):eh|=r,ss===Ue&&(ss=0)),ii(e)}function Mp(e,n){n===0&&(n=Qi()),e=rr(e,n),e!==null&&(ot(e,n),ii(e))}function UT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Mp(e,r)}function LT(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Mp(e,r)}function PT(e,n){return zr(e,n)}var So=null,cs=null,fh=!1,bo=!1,hh=!1,ga=0;function ii(e){e!==cs&&e.next===null&&(cs===null?So=cs=e:cs=cs.next=e),bo=!0,fh||(fh=!0,kT(zT))}function Ml(e,n){if(!hh&&bo){hh=!0;do for(var r=!1,l=So;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var v=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-Xt(42|e)+1)-1,h&=c&~(v&~T),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(r=!0,Pp(l,h))}else h=Ue,h=mn(l,l===Xe?h:0),!(h&3)||Fi(l,h)||(r=!0,Pp(l,h));l=l.next}while(r);hh=!1}}function zT(){bo=fh=!1;var e=0;ga!==0&&(YT()&&(e=ga),ga=0);for(var n=en(),r=null,l=So;l!==null;){var c=l.next,h=Up(l,n);h===0?(l.next=null,r===null?So=c:r.next=c,c===null&&(cs=r)):(r=l,(e!==0||h&3)&&(bo=!0)),l=c}Ml(e)}function Up(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var v=31-Xt(h),T=1<<v,C=c[v];C===-1?(!(T&r)||T&l)&&(c[v]=Da(T,n)):C<=n&&(e.expiredLanes|=T),h&=~T}if(n=Xe,r=Ue,r=mn(e,e===n?r:0),l=e.callbackNode,r===0||e===n&&$e===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ca(l),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Fi(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Ca(l),bu(r)){case 2:case 8:r=Ct;break;case 32:r=ci;break;case 268435456:r=qs;break;default:r=ci}return l=Lp.bind(null,e),r=zr(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Ca(l),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,n){var r=e.callbackNode;if(os()&&e.callbackNode!==r)return null;var l=Ue;return l=mn(e,e===Xe?l:0),l===0?null:(Sp(e,l,n),Up(e,en()),e.callbackNode!=null&&e.callbackNode===r?Lp.bind(null,e):null)}function Pp(e,n){if(os())return null;Sp(e,n,!0)}function kT(e){XT(function(){nt&6?zr(vt,e):e()})}function dh(){return ga===0&&(ga=Fs()),ga}function zp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qn(""+e)}function kp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function BT(e,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=zp((c[Et]||null).action),v=l.submitter;v&&(n=(n=v[Et]||null)?zp(n.formAction):v.getAttribute("formAction"),n!==null&&(h=n,v=null));var T=new Ua("action","action",null,l,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var C=v?kp(c,v):new FormData(c);Af(r,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(T.preventDefault(),C=v?kp(c,v):new FormData(c),Af(r,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var mh=0;mh<Im.length;mh++){var gh=Im[mh],jT=gh.toLowerCase(),qT=gh[0].toUpperCase()+gh.slice(1);Mn(jT,"on"+qT)}Mn(wm,"onAnimationEnd"),Mn(Cm,"onAnimationIteration"),Mn(Dm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(aT,"onTransitionRun"),Mn(sT,"onTransitionStart"),Mn(lT,"onTransitionCancel"),Mn(Nm,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Bp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==h&&c.isPropagationStopped())break e;h=T,c.currentTarget=U;try{h(c)}catch(K){oo(K)}c.currentTarget=null,h=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,U=T.currentTarget,T=T.listener,C!==h&&c.isPropagationStopped())break e;h=T,c.currentTarget=U;try{h(c)}catch(K){oo(K)}c.currentTarget=null,h=C}}}}function xe(e,n){var r=n[Br];r===void 0&&(r=n[Br]=new Set);var l=e+"__bubble";r.has(l)||(jp(n,e,2,!1),r.add(l))}function ph(e,n,r){var l=0;n&&(l|=4),jp(r,e,l,n)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function yh(e){if(!e[Ro]){e[Ro]=!0,Ys.forEach(function(r){r!=="selectionchange"&&(HT.has(r)||ph(r,!1,e),ph(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ro]||(n[Ro]=!0,ph("selectionchange",!1,n))}}function jp(e,n,r,l){switch(cy(n)){case 2:var c=gA;break;case 8:c=pA;break;default:c=Vh}r=c.bind(null,n,r,e),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function _h(e,n,r,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===c||T.nodeType===8&&T.parentNode===c)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;v=v.return}for(;T!==null;){if(v=On(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=h=v;continue e}T=T.parentNode}}l=l.return}Nu(function(){var U=h,K=Ma(r),W=[];e:{var q=Vm.get(e);if(q!==void 0){var Y=Ua,fe=e;switch(e){case"keypress":if(Kn(r)===0)break e;case"keydown":case"keyup":Y=ja;break;case"focusin":fe="focus",Y=za;break;case"focusout":fe="blur",Y=za;break;case"beforeblur":case"afterblur":Y=za;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Pu;break;case wm:case Cm:case Dm:Y=ka;break;case Nm:Y=ku;break;case"scroll":case"scrollend":Y=Vu;break;case"wheel":Y=qa;break;case"copy":case"cut":case"paste":Y=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=al;break;case"toggle":case"beforetoggle":Y=ju}var Te=(n&4)!==0,ut=!Te&&(e==="scroll"||e==="scrollend"),L=Te?q!==null?q+"Capture":null:q;Te=[];for(var I=U,j;I!==null;){var X=I;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||L===null||(X=Fr(I,L),X!=null&&Te.push(Ll(I,X,j))),ut)break;I=I.return}0<Te.length&&(q=new Y(q,fe,null,r,K),W.push({event:q,listeners:Te}))}}if(!(n&7)){e:{if(q=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",q&&r!==yn&&(fe=r.relatedTarget||r.fromElement)&&(On(fe)||fe[fi]))break e;if((Y||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(fe=r.relatedTarget||r.toElement,Y=U,fe=fe?On(fe):null,fe!==null&&(ut=me(fe),Te=fe.tag,fe!==ut||Te!==5&&Te!==27&&Te!==6)&&(fe=null)):(Y=null,fe=U),Y!==fe)){if(Te=vn,X="onMouseLeave",L="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Te=al,X="onPointerLeave",L="onPointerEnter",I="pointer"),ut=Y==null?q:Zi(Y),j=fe==null?q:Zi(fe),q=new Te(X,I+"leave",Y,r,K),q.target=ut,q.relatedTarget=j,X=null,On(K)===U&&(Te=new Te(L,I+"enter",fe,r,K),Te.target=j,Te.relatedTarget=ut,X=Te),ut=X,Y&&fe)t:{for(Te=Y,L=fe,I=0,j=Te;j;j=fs(j))I++;for(j=0,X=L;X;X=fs(X))j++;for(;0<I-j;)Te=fs(Te),I--;for(;0<j-I;)L=fs(L),j--;for(;I--;){if(Te===L||L!==null&&Te===L.alternate)break t;Te=fs(Te),L=fs(L)}Te=null}else Te=null;Y!==null&&qp(W,q,Y,Te,!1),fe!==null&&ut!==null&&qp(W,ut,fe,Te,!0)}}e:{if(q=U?Zi(U):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var oe=gm;else if(At(q))if(pm)oe=tT;else{oe=WE;var De=JE}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&Js(U.elementType)&&(oe=gm):oe=eT;if(oe&&(oe=oe(e,U))){vi(W,oe,r,K);break e}De&&De(e,q,U),e==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&Oa(q,"number",q.value)}switch(De=U?Zi(U):window,e){case"focusin":(At(De)||De.contentEditable==="true")&&(Ha=De,Kc=U,ul=null);break;case"focusout":ul=Kc=Ha=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,bm(W,r,K);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":bm(W,r,K)}var de;if(Zn)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Oe?F(e,r)&&(pe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(pe="onCompositionStart");pe&&(_&&r.locale!=="ko"&&(Oe||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Oe&&(de=el()):(Yn=K,ir="value"in Yn?Yn.value:Yn.textContent,Oe=!0)),De=wo(U,pe),0<De.length&&(pe=new il(pe,e,null,r,K),W.push({event:pe,listeners:De}),de?pe.data=de:(de=ie(r),de!==null&&(pe.data=de)))),(de=m?Tt(e,r):Me(e,r))&&(pe=wo(U,"onBeforeInput"),0<pe.length&&(De=new il("onBeforeInput","beforeinput",null,r,K),W.push({event:De,listeners:pe}),De.data=de)),BT(W,e,U,r,K)}Bp(W,n)})}function Ll(e,n,r){return{instance:e,listener:n,currentTarget:r}}function wo(e,n){for(var r=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Fr(e,r),c!=null&&l.unshift(Ll(e,c,h)),c=Fr(e,n),c!=null&&l.push(Ll(e,c,h))),e=e.return}return l}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qp(e,n,r,l,c){for(var h=n._reactName,v=[];r!==null&&r!==l;){var T=r,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,c?(U=Fr(r,h),U!=null&&v.unshift(Ll(r,U,C))):c||(U=Fr(r,h),U!=null&&v.push(Ll(r,U,C)))),r=r.return}v.length!==0&&e.push({event:n,listeners:v})}var GT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(FT,"")}function Gp(e,n){return n=Hp(n),Hp(e)===n}function Co(){}function Ye(e,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(e,""+l);break;case"className":er(e,"class",l);break;case"tabIndex":er(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(e,r,l);break;case"style":Du(e,l,h);break;case"data":if(n!=="object"){er(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Qn(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Ye(e,n,"name",c.name,c,null),Ye(e,n,"formEncType",c.formEncType,c,null),Ye(e,n,"formMethod",c.formMethod,c,null),Ye(e,n,"formTarget",c.formTarget,c,null)):(Ye(e,n,"encType",c.encType,c,null),Ye(e,n,"method",c.method,c,null),Ye(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Qn(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Co);break;case"onScroll":l!=null&&xe("scroll",e);break;case"onScrollEnd":l!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Qn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Wi(e,"popover",l);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jc.get(r)||r,Wi(e,r,l))}}function vh(e,n,r,l,c,h){switch(r){case"style":Du(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&xe("scroll",e);break;case"onScrollEnd":l!=null&&xe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=e[Et]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Wi(e,r,l)}}}function zt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ye(e,n,h,v,r,null)}}c&&Ye(e,n,"srcSet",r.srcSet,r,null),l&&Ye(e,n,"src",r.src,r,null);return;case"input":xe("invalid",e);var T=h=v=c=null,C=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":c=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":U=K;break;case"value":h=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Ye(e,n,l,K,r,null)}}Hr(e,h,T,C,U,v,c,!1),qr(e);return;case"select":xe("invalid",e),l=v=h=null;for(c in r)if(r.hasOwnProperty(c)&&(T=r[c],T!=null))switch(c){case"value":h=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(e,n,c,T,r,null)}n=h,r=v,e.multiple=!!l,n!=null?ke(e,!!l,n,!1):r!=null&&ke(e,!!l,r,!0);return;case"textarea":xe("invalid",e),h=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":c=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(e,n,v,T,r,null)}nr(e,l,c,h),qr(e);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(e,n,C,l,r,null)}return;case"dialog":xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(l=0;l<Ul.length;l++)xe(Ul[l],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ye(e,n,U,l,r,null)}return;default:if(Js(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&vh(e,n,K,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Ye(e,n,T,l,r,null))}function QT(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,v=null,T=null,C=null,U=null,K=null;for(Y in r){var W=r[Y];if(r.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(Y)||Ye(e,n,Y,null,l,W)}}for(var q in l){var Y=l[q];if(W=r[q],l.hasOwnProperty(q)&&(Y!=null||W!=null))switch(q){case"type":h=Y;break;case"name":c=Y;break;case"checked":U=Y;break;case"defaultChecked":K=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==W&&Ye(e,n,q,Y,l,W)}}tr(e,v,T,C,U,K,h,c);return;case"select":Y=v=T=q=null;for(h in r)if(C=r[h],r.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(h)||Ye(e,n,h,null,l,C)}for(c in l)if(h=l[c],C=r[c],l.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":q=h;break;case"defaultValue":T=h;break;case"multiple":v=h;default:h!==C&&Ye(e,n,c,h,l,C)}n=T,r=v,l=Y,q!=null?ke(e,!!r,q,!1):!!l!=!!r&&(n!=null?ke(e,!!r,n,!0):ke(e,!!r,r?[]:"",!1));return;case"textarea":Y=q=null;for(T in r)if(c=r[T],r.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(e,n,T,null,l,c)}for(v in l)if(c=l[v],h=r[v],l.hasOwnProperty(v)&&(c!=null||h!=null))switch(v){case"value":q=c;break;case"defaultValue":Y=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Ye(e,n,v,c,l,h)}Gr(e,q,Y);return;case"option":for(var fe in r)if(q=r[fe],r.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:Ye(e,n,fe,null,l,q)}for(C in l)if(q=l[C],Y=r[C],l.hasOwnProperty(C)&&q!==Y&&(q!=null||Y!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(e,n,C,q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in r)q=r[Te],r.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te)&&Ye(e,n,Te,null,l,q);for(U in l)if(q=l[U],Y=r[U],l.hasOwnProperty(U)&&q!==Y&&(q!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Ye(e,n,U,q,l,Y)}return;default:if(Js(n)){for(var ut in r)q=r[ut],r.hasOwnProperty(ut)&&q!==void 0&&!l.hasOwnProperty(ut)&&vh(e,n,ut,void 0,l,q);for(K in l)q=l[K],Y=r[K],!l.hasOwnProperty(K)||q===Y||q===void 0&&Y===void 0||vh(e,n,K,q,l,Y);return}}for(var L in r)q=r[L],r.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Ye(e,n,L,null,l,q);for(W in l)q=l[W],Y=r[W],!l.hasOwnProperty(W)||q===Y||q==null&&Y==null||Ye(e,n,W,q,l,Y)}var Eh=null,Th=null;function Do(e){return e.nodeType===9?e:e.ownerDocument}function Fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ah(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sh=null;function YT(){var e=window.event;return e&&e.type==="popstate"?e===Sh?!1:(Sh=e,!0):(Sh=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch($T)}:Yp;function $T(e){setTimeout(function(){throw e})}function bh(e,n){var r=n,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){e.removeChild(c),Gl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Gl(n)}function Rh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rh(r),jr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ZT(e,n,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[$i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function JT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pn(e.nextSibling),e===null))return null;return e}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function Xp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function $p(e,n,r){switch(n=Do(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Nn=new Map,Zp=new Set;function No(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Mi=se.d;se.d={f:WT,r:eA,D:tA,C:nA,L:iA,m:rA,X:sA,S:aA,M:lA};function WT(){var e=Mi.f(),n=To();return e||n}function eA(e){var n=hi(e);n!==null&&n.tag===5&&n.type==="form"?bg(n):Mi.r(e)}var hs=typeof document>"u"?null:document;function Jp(e,n,r){var l=hs;if(l&&typeof n=="string"&&n){var c=at(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Zp.has(c)||(Zp.add(c),e={rel:e,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),zt(n,"link",e),et(n),l.head.appendChild(n)))}}function tA(e){Mi.D(e),Jp("dns-prefetch",e,null)}function nA(e,n){Mi.C(e,n),Jp("preconnect",e,n)}function iA(e,n,r){Mi.L(e,n,r);var l=hs;if(l&&e&&n){var c='link[rel="preload"][as="'+at(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+at(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+at(r.imageSizes)+'"]')):c+='[href="'+at(e)+'"]';var h=c;switch(n){case"style":h=ds(e);break;case"script":h=ms(e)}Nn.has(h)||(e=R({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Nn.set(h,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Pl(h))||n==="script"&&l.querySelector(zl(h))||(n=l.createElement("link"),zt(n,"link",e),et(n),l.head.appendChild(n)))}}function rA(e,n){Mi.m(e,n);var r=hs;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+at(l)+'"][href="'+at(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ms(e)}if(!Nn.has(h)&&(e=R({rel:"modulepreload",href:e},n),Nn.set(h,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(zl(h)))return}l=r.createElement("link"),zt(l,"link",e),et(l),r.head.appendChild(l)}}}function aA(e,n,r){Mi.S(e,n,r);var l=hs;if(l&&e){var c=Ji(l).hoistableStyles,h=ds(e);n=n||"default";var v=c.get(h);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Pl(h)))T.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Nn.get(h))&&wh(e,r);var C=v=l.createElement("link");et(C),zt(C,"link",e),C._p=new Promise(function(U,K){C.onload=U,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vo(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},c.set(h,v)}}}function sA(e,n){Mi.X(e,n);var r=hs;if(r&&e){var l=Ji(r).hoistableScripts,c=ms(e),h=l.get(c);h||(h=r.querySelector(zl(c)),h||(e=R({src:e,async:!0},n),(n=Nn.get(c))&&Ch(e,n),h=r.createElement("script"),et(h),zt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function lA(e,n){Mi.M(e,n);var r=hs;if(r&&e){var l=Ji(r).hoistableScripts,c=ms(e),h=l.get(c);h||(h=r.querySelector(zl(c)),h||(e=R({src:e,async:!0,type:"module"},n),(n=Nn.get(c))&&Ch(e,n),h=r.createElement("script"),et(h),zt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Wp(e,n,r,l){var c=(c=dn.current)?No(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=Ji(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ds(r.href);var h=Ji(c).hoistableStyles,v=h.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,v),(h=c.querySelector(Pl(e)))&&!h._p&&(v.instance=h,v.state.loading=5),Nn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(e,r),h||uA(c,e,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=Ji(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ds(e){return'href="'+at(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function ey(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function uA(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),zt(n,"link",r),et(n),e.head.appendChild(n))}function ms(e){return'[src="'+at(e)+'"]'}function zl(e){return"script[async]"+e}function ty(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+at(r.href)+'"]');if(l)return n.instance=l,et(l),l;var c=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),et(l),zt(l,"style",c),Vo(l,r.precedence,e),n.instance=l;case"stylesheet":c=ds(r.href);var h=e.querySelector(Pl(c));if(h)return n.state.loading|=4,n.instance=h,et(h),h;l=ey(r),(c=Nn.get(c))&&wh(l,c),h=(e.ownerDocument||e).createElement("link"),et(h);var v=h;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),zt(h,"link",l),n.state.loading|=4,Vo(h,r.precedence,e),n.instance=h;case"script":return h=ms(r.src),(c=e.querySelector(zl(h)))?(n.instance=c,et(c),c):(l=r,(c=Nn.get(h))&&(l=R({},r),Ch(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),et(c),zt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Vo(l,r.precedence,e));return n.instance}function Vo(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)h=T;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function wh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ch(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Io=null;function ny(e,n,r){if(Io===null){var l=new Map,c=Io=new Map;c.set(r,l)}else c=Io,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var h=r[c];if(!(h[$i]||h[Dt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(n)||"";v=e+v;var T=l.get(v);T?T.push(h):l.set(v,[h])}}return l}function iy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function oA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ry(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var kl=null;function cA(){}function fA(e,n,r){if(kl===null)throw Error(s(475));var l=kl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ds(r.href),h=e.querySelector(Pl(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=xo.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=h,et(h);return}h=e.ownerDocument||e,r=ey(r),(c=Nn.get(c))&&wh(r,c),h=h.createElement("link"),et(h);var v=h;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),zt(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=xo.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function hA(){if(kl===null)throw Error(s(475));var e=kl;return e.stylesheets&&e.count===0&&Dh(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Dh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function xo(){if(this.count--,this.count===0){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oo=null;function Dh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oo=new Map,n.forEach(dA,e),Oo=null,xo.call(e))}function dA(e,n){if(!(n.state.loading&4)){var r=Oo.get(e);if(r)var l=r.get(null);else{r=new Map,Oo.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var v=c[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),h=r.get(v)||l,h===l&&r.set(null,c),r.set(v,c),this.count++,l=xo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Bl={$$typeof:x,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function mA(e,n,r,l,c,h,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ay(e,n,r,l,c,h,v,T,C,U,K,W){return e=new mA(e,n,r,v,T,C,U,W),n=1,h===!0&&(n|=24),h=Cn(3,null,null,n),e.current=h,h.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},Bf(h),e}function sy(e){return e?(e=Qa,e):Qa}function ly(e,n,r,l,c,h){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=fr(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=hr(e,l,n),r!==null&&(Wt(r,e,n),Sl(r,e,n))}function uy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Nh(e,n){uy(e,n),(e=e.alternate)&&uy(e,n)}function oy(e){if(e.tag===13){var n=rr(e,67108864);n!==null&&Wt(n,e,67108864),Nh(e,67108864)}}var Mo=!0;function gA(e,n,r,l){var c=S.T;S.T=null;var h=se.p;try{se.p=2,Vh(e,n,r,l)}finally{se.p=h,S.T=c}}function pA(e,n,r,l){var c=S.T;S.T=null;var h=se.p;try{se.p=8,Vh(e,n,r,l)}finally{se.p=h,S.T=c}}function Vh(e,n,r,l){if(Mo){var c=Ih(l);if(c===null)_h(e,n,l,Uo,r),fy(e,l);else if(_A(c,e,n,r,l))l.stopPropagation();else if(fy(e,l),n&4&&-1<yA.indexOf(e)){for(;c!==null;){var h=hi(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=xn(h.pendingLanes);if(v!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Xt(v);T.entanglements[1]|=C,v&=~C}ii(h),!(nt&6)&&(_o=en()+500,Ml(0))}}break;case 13:T=rr(h,2),T!==null&&Wt(T,h,2),To(),Nh(h,2)}if(h=Ih(l),h===null&&_h(e,n,l,Uo,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else _h(e,n,l,null,r)}}function Ih(e){return e=Ma(e),xh(e)}var Uo=null;function xh(e){if(Uo=null,e=On(e),e!==null){var n=me(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=qe(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Uo=e,null}function cy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vu()){case vt:return 2;case Ct:return 8;case ci:case Eu:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Oh=!1,vr=null,Er=null,Tr=null,jl=new Map,ql=new Map,Ar=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(e,n){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(e,n,r,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=hi(n),n!==null&&oy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function _A(e,n,r,l,c){switch(n){case"focusin":return vr=Hl(vr,e,n,r,l,c),!0;case"dragenter":return Er=Hl(Er,e,n,r,l,c),!0;case"mouseover":return Tr=Hl(Tr,e,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return jl.set(h,Hl(jl.get(h)||null,e,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,ql.set(h,Hl(ql.get(h)||null,e,n,r,l,c)),!0}return!1}function hy(e){var n=On(e.target);if(n!==null){var r=me(n);if(r!==null){if(n=r.tag,n===13){if(n=qe(r),n!==null){e.blockedOn=n,Xi(e.priority,function(){if(r.tag===13){var l=fn(),c=rr(r,l);c!==null&&Wt(c,r,l),Nh(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ih(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=hi(r),n!==null&&oy(n),e.blockedOn=r,!1;n.shift()}return!0}function dy(e,n,r){Lo(e)&&r.delete(n)}function vA(){Oh=!1,vr!==null&&Lo(vr)&&(vr=null),Er!==null&&Lo(Er)&&(Er=null),Tr!==null&&Lo(Tr)&&(Tr=null),jl.forEach(dy),ql.forEach(dy)}function Po(e,n){e.blockedOn===n&&(e.blockedOn=null,Oh||(Oh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vA)))}var zo=null;function my(e){zo!==e&&(zo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){zo===e&&(zo=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(xh(l||r)===null)continue;break}var h=hi(r);h!==null&&(e.splice(n,3),n-=3,Af(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Gl(e){function n(C){return Po(C,e)}vr!==null&&Po(vr,e),Er!==null&&Po(Er,e),Tr!==null&&Po(Tr,e),jl.forEach(n),ql.forEach(n);for(var r=0;r<Ar.length;r++){var l=Ar[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)hy(r),r.blockedOn===null&&Ar.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],v=c[Et]||null;if(typeof h=="function")v||my(r);else if(v){var T=null;if(h&&h.hasAttribute("formAction")){if(c=h,v=h[Et]||null)T=v.formAction;else if(xh(c)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),my(r)}}}function Mh(e){this._internalRoot=e}ko.prototype.render=Mh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();ly(r,l,e,n,null,null)},ko.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&os(),ly(e.current,2,null,e,null,null),To(),n[fi]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ar.length&&n!==0&&n<Ar[r].priority;r++);Ar.splice(r,0,e),r===0&&hy(e)}};var gy=t.version;if(gy!=="19.0.0")throw Error(s(527,gy,"19.0.0"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ee(n),e=e!==null?he(e):null,e=e===null?null:e.stateNode,e};var EA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{Hi=Bo.inject(EA),qt=Bo}catch{}}return Ql.createRoot=function(e,n){if(!u(e))throw Error(s(299));var r=!1,l="",c=xg,h=Og,v=Mg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=ay(e,1,!1,null,null,r,l,c,h,v,T,null),e[fi]=n.current,yh(e.nodeType===8?e.parentNode:e),new Mh(n)},Ql.hydrateRoot=function(e,n,r){if(!u(e))throw Error(s(299));var l=!1,c="",h=xg,v=Og,T=Mg,C=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),n=ay(e,1,!0,n,r??null,l,c,h,v,T,C,U),n.context=sy(null),r=n.current,l=fn(),c=fr(l),c.callback=null,hr(r,c,l),n.current.lanes=l,ot(n,l),ii(n),e[fi]=n.current,yh(e),new ko(n)},Ql.version="19.0.0",Ql}var Ry;function VA(){if(Ry)return Ph.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ph.exports=NA(),Ph.exports}var IA=VA();const xA=j_(IA);var Yl={},wy;function OA(){if(wy)return Yl;wy=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.parse=d,Yl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,f=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function d(D,x){const k=new f,Q=D.length;if(Q<2)return k;const H=(x==null?void 0:x.decode)||E;let $=0;do{const ne=D.indexOf("=",$);if(ne===-1)break;const te=D.indexOf(";",$),ye=te===-1?Q:te;if(ne>ye){$=D.lastIndexOf(";",ne-1)+1;continue}const ce=g(D,$,ne),Se=p(D,ne,ce),O=D.slice(ce,Se);if(k[O]===void 0){let w=g(D,ne+1,ye),S=p(D,ye,w);const R=H(D.slice(w,S));k[O]=R}$=ye+1}while($<Q);return k}function g(D,x,k){do{const Q=D.charCodeAt(x);if(Q!==32&&Q!==9)return x}while(++x<k);return k}function p(D,x,k){for(;x>k;){const Q=D.charCodeAt(--x);if(Q!==32&&Q!==9)return x+1}return k}function y(D,x,k){const Q=(k==null?void 0:k.encode)||encodeURIComponent;if(!a.test(D))throw new TypeError(`argument name is invalid: ${D}`);const H=Q(x);if(!t.test(H))throw new TypeError(`argument val is invalid: ${x}`);let $=D+"="+H;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!i.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!b(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function b(D){return u.call(D)==="[object Date]"}return Yl}OA();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cy="popstate";function MA(a={}){function t(u,f){let{pathname:d="/",search:g="",hash:p=""}=Ea(u.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Jh("",{pathname:d,search:g,hash:p},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function i(u,f){let d=u.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=u.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof f=="string"?f:iu(f))}function s(u,f){In(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return LA(t,i,s,a)}function Je(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function In(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UA(){return Math.random().toString(36).substring(2,10)}function Dy(a,t){return{usr:a.state,key:a.key,idx:t}}function Jh(a,t,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Ea(t):t,state:i,key:t&&t.key||s||UA()}}function iu({pathname:a="/",search:t="",hash:i=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ea(a){let t={};if(a){let i=a.indexOf("#");i>=0&&(t.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function LA(a,t,i,s={}){let{window:u=document.defaultView,v5Compat:f=!1}=s,d=u.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let H=E(),$=H==null?null:H-y;y=H,p&&p({action:g,location:Q.location,delta:$})}function D(H,$){g="PUSH";let ne=Jh(Q.location,H,$);i&&i(ne,H),y=E()+1;let te=Dy(ne,y),ye=Q.createHref(ne);try{d.pushState(te,"",ye)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;u.location.assign(ye)}f&&p&&p({action:g,location:Q.location,delta:1})}function x(H,$){g="REPLACE";let ne=Jh(Q.location,H,$);i&&i(ne,H),y=E();let te=Dy(ne,y),ye=Q.createHref(ne);d.replaceState(te,"",ye),f&&p&&p({action:g,location:Q.location,delta:0})}function k(H){let $=u.location.origin!=="null"?u.location.origin:u.location.href,ne=typeof H=="string"?H:iu(H);return ne=ne.replace(/ $/,"%20"),Je($,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,$)}let Q={get action(){return g},get location(){return a(u,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(Cy,b),p=H,()=>{u.removeEventListener(Cy,b),p=null}},createHref(H){return t(u,H)},createURL:k,encodeLocation(H){let $=k(H);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:D,replace:x,go(H){return d.go(H)}};return Q}function H_(a,t,i="/"){return PA(a,t,i,!1)}function PA(a,t,i,s){let u=typeof t=="string"?Ea(t):t,f=Vr(u.pathname||"/",i);if(f==null)return null;let d=G_(a);zA(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=XA(f);g=YA(d[p],y,s)}return g}function G_(a,t=[],i=[],s=""){let u=(f,d,g)=>{let p={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Ui([s,p.relativePath]),E=i.concat(p);f.children&&f.children.length>0&&(Je(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),G_(f.children,t,E,y)),!(f.path==null&&!f.index)&&t.push({path:y,score:FA(y,f.index),routesMeta:E})};return a.forEach((f,d)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,d);else for(let p of F_(f.path))u(f,d,p)}),t}function F_(a){let t=a.split("/");if(t.length===0)return[];let[i,...s]=t,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(s.length===0)return u?[f,""]:[f];let d=F_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?f:[f,p].join("/"))),u&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function zA(a){a.sort((t,i)=>t.score!==i.score?i.score-t.score:QA(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var kA=/^:[\w-]+$/,BA=3,jA=2,qA=1,HA=10,GA=-2,Ny=a=>a==="*";function FA(a,t){let i=a.split("/"),s=i.length;return i.some(Ny)&&(s+=GA),t&&(s+=jA),i.filter(u=>!Ny(u)).reduce((u,f)=>u+(kA.test(f)?BA:f===""?qA:HA),s)}function QA(a,t){return a.length===t.length&&a.slice(0,-1).every((s,u)=>s===t[u])?a[a.length-1]-t[t.length-1]:0}function YA(a,t,i=!1){let{routesMeta:s}=a,u={},f="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,E=f==="/"?t:t.slice(f.length)||"/",b=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),D=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(u,b.params),d.push({params:u,pathname:Ui([f,b.pathname]),pathnameBase:WA(Ui([f,b.pathnameBase])),route:D}),b.pathnameBase!=="/"&&(f=Ui([f,b.pathnameBase]))}return d}function tc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=KA(a.path,a.caseSensitive,a.end),u=t.match(i);if(!u)return null;let f=u[0],d=f.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},D)=>{if(E==="*"){let k=g[D]||"";d=f.slice(0,f.length-k.length).replace(/(.)\/+$/,"$1")}const x=g[D];return b&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:d,pattern:a}}function KA(a,t=!1,i=!0){In(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),s]}function XA(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return In(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Vr(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function $A(a,t="/"){let{pathname:i,search:s="",hash:u=""}=typeof a=="string"?Ea(a):a;return{pathname:i?i.startsWith("/")?i:ZA(i,t):t,search:e0(s),hash:t0(u)}}function ZA(a,t){let i=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function jh(a,t,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(a){return a.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Cd(a){let t=JA(a);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Dd(a,t,i,s=!1){let u;typeof a=="string"?u=Ea(a):(u={...a},Je(!u.pathname||!u.pathname.includes("?"),jh("?","pathname","search",u)),Je(!u.pathname||!u.pathname.includes("#"),jh("#","pathname","hash",u)),Je(!u.search||!u.search.includes("#"),jh("#","search","hash",u)));let f=a===""||u.pathname==="",d=f?"/":u.pathname,g;if(d==null)g=i;else{let b=t.length-1;if(!s&&d.startsWith("..")){let D=d.split("/");for(;D[0]==="..";)D.shift(),b-=1;u.pathname=D.join("/")}g=b>=0?t[b]:"/"}let p=$A(u,g),y=d&&d!=="/"&&d.endsWith("/"),E=(f||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Ui=a=>a.join("/").replace(/\/\/+/g,"/"),WA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),e0=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,t0=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function n0(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Q_=["POST","PUT","PATCH","DELETE"];new Set(Q_);var i0=["GET",...Q_];new Set(i0);var Is=G.createContext(null);Is.displayName="DataRouter";var _c=G.createContext(null);_c.displayName="DataRouterState";var Y_=G.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var r0=G.createContext(new Map);r0.displayName="Fetchers";var a0=G.createContext(null);a0.displayName="Await";var Bn=G.createContext(null);Bn.displayName="Navigation";var hu=G.createContext(null);hu.displayName="Location";var jn=G.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Nd=G.createContext(null);Nd.displayName="RouteError";function s0(a,{relative:t}={}){Je(xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(Bn),{hash:u,pathname:f,search:d}=du(a,{relative:t}),g=f;return i!=="/"&&(g=f==="/"?i:Ui([i,f])),s.createHref({pathname:g,search:d,hash:u})}function xs(){return G.useContext(hu)!=null}function Pr(){return Je(xs(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(hu).location}var K_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X_(a){G.useContext(Bn).static||G.useLayoutEffect(a)}function Os(){let{isDataRoute:a}=G.useContext(jn);return a?E0():l0()}function l0(){Je(xs(),"useNavigate() may be used only in the context of a <Router> component.");let a=G.useContext(Is),{basename:t,navigator:i}=G.useContext(Bn),{matches:s}=G.useContext(jn),{pathname:u}=Pr(),f=JSON.stringify(Cd(s)),d=G.useRef(!1);return X_(()=>{d.current=!0}),G.useCallback((p,y={})=>{if(In(d.current,K_),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=Dd(p,JSON.parse(f),u,y.relative==="path");a==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ui([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,f,u,a])}G.createContext(null);function u0(){let{matches:a}=G.useContext(jn),t=a[a.length-1];return t?t.params:{}}function du(a,{relative:t}={}){let{matches:i}=G.useContext(jn),{pathname:s}=Pr(),u=JSON.stringify(Cd(i));return G.useMemo(()=>Dd(a,JSON.parse(u),s,t==="path"),[a,u,s,t])}function o0(a,t){return $_(a,t)}function $_(a,t,i,s){var ne;Je(xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:f}=G.useContext(Bn),{matches:d}=G.useContext(jn),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let te=b&&b.path||"";Z_(y,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let D=Pr(),x;if(t){let te=typeof t=="string"?Ea(t):t;Je(E==="/"||((ne=te.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),x=te}else x=D;let k=x.pathname||"/",Q=k;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Q="/"+k.replace(/^\//,"").split("/").slice(te.length).join("/")}let H=!f&&i&&i.matches&&i.matches.length>0?i.matches:H_(a,{pathname:Q});In(b||H!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),In(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=m0(H&&H.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Ui([E,u.encodeLocation?u.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Ui([E,u.encodeLocation?u.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),d,i,s);return t&&$?G.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},$):$}function c0(){let a=v0(),t=n0(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},f={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:f},"ErrorBoundary")," or"," ",G.createElement("code",{style:f},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),i?G.createElement("pre",{style:u},i):null,d)}var f0=G.createElement(c0,null),h0=class extends G.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?G.createElement(jn.Provider,{value:this.props.routeContext},G.createElement(Nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d0({routeContext:a,match:t,children:i}){let s=G.useContext(Is);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(jn.Provider,{value:a},i)}function m0(a,t=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i==null?void 0:i.errors;if(f!=null){let p=u.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<u.length;p++){let y=u[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:b}=i,D=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||D){d=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,y,E)=>{let b,D=!1,x=null,k=null;i&&(b=f&&y.route.id?f[y.route.id]:void 0,x=y.route.errorElement||f0,d&&(g<0&&E===0?(Z_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,k=null):g===E&&(D=!0,k=y.route.hydrateFallbackElement||null)));let Q=t.concat(u.slice(0,E+1)),H=()=>{let $;return b?$=x:D?$=k:y.route.Component?$=G.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,G.createElement(d0,{match:y,routeContext:{outlet:p,matches:Q,isDataRoute:i!=null},children:$})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(h0,{location:i.location,revalidation:i.revalidation,component:x,error:b,children:H(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):H()},null)}function Vd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g0(a){let t=G.useContext(Is);return Je(t,Vd(a)),t}function p0(a){let t=G.useContext(_c);return Je(t,Vd(a)),t}function y0(a){let t=G.useContext(jn);return Je(t,Vd(a)),t}function Id(a){let t=y0(a),i=t.matches[t.matches.length-1];return Je(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function _0(){return Id("useRouteId")}function v0(){var s;let a=G.useContext(Nd),t=p0("useRouteError"),i=Id("useRouteError");return a!==void 0?a:(s=t.errors)==null?void 0:s[i]}function E0(){let{router:a}=g0("useNavigate"),t=Id("useNavigate"),i=G.useRef(!1);return X_(()=>{i.current=!0}),G.useCallback(async(u,f={})=>{In(i.current,K_),i.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:t,...f}))},[a,t])}var Vy={};function Z_(a,t,i){!t&&!Vy[a]&&(Vy[a]=!0,In(!1,i))}G.memo(T0);function T0({routes:a,future:t,state:i}){return $_(a,void 0,i,t)}function Iy({to:a,replace:t,state:i,relative:s}){Je(xs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=G.useContext(Bn);In(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=G.useContext(jn),{pathname:d}=Pr(),g=Os(),p=Dd(a,Cd(f),d,s==="path"),y=JSON.stringify(p);return G.useEffect(()=>{g(JSON.parse(y),{replace:t,state:i,relative:s})},[g,y,s,t,i]),null}function br(a){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A0({basename:a="/",children:t=null,location:i,navigationType:s="POP",navigator:u,static:f=!1}){Je(!xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:u,static:f,future:{}}),[d,u,f]);typeof i=="string"&&(i=Ea(i));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:D="default"}=i,x=G.useMemo(()=>{let k=Vr(p,d);return k==null?null:{location:{pathname:k,search:y,hash:E,state:b,key:D},navigationType:s}},[d,p,y,E,b,D,s]);return In(x!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:G.createElement(Bn.Provider,{value:g},G.createElement(hu.Provider,{children:t,value:x}))}function S0({children:a,location:t}){return o0(Wh(a),t)}function Wh(a,t=[]){let i=[];return G.Children.forEach(a,(s,u)=>{if(!G.isValidElement(s))return;let f=[...t,u];if(s.type===G.Fragment){i.push.apply(i,Wh(s.props.children,f));return}Je(s.type===br,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||f.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Wh(s.props.children,f)),i.push(d)}),i}var Yo="get",Ko="application/x-www-form-urlencoded";function vc(a){return a!=null&&typeof a.tagName=="string"}function b0(a){return vc(a)&&a.tagName.toLowerCase()==="button"}function R0(a){return vc(a)&&a.tagName.toLowerCase()==="form"}function w0(a){return vc(a)&&a.tagName.toLowerCase()==="input"}function C0(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function D0(a,t){return a.button===0&&(!t||t==="_self")&&!C0(a)}var jo=null;function N0(){if(jo===null)try{new FormData(document.createElement("form"),0),jo=!1}catch{jo=!0}return jo}var V0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qh(a){return a!=null&&!V0.has(a)?(In(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ko}"`),null):a}function I0(a,t){let i,s,u,f,d;if(R0(a)){let g=a.getAttribute("action");s=g?Vr(g,t):null,i=a.getAttribute("method")||Yo,u=qh(a.getAttribute("enctype"))||Ko,f=new FormData(a)}else if(b0(a)||w0(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Vr(p,t):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Yo,u=qh(a.getAttribute("formenctype"))||qh(g.getAttribute("enctype"))||Ko,f=new FormData(g,a),!N0()){let{name:y,type:E,value:b}=a;if(E==="image"){let D=y?`${y}.`:"";f.append(`${D}x`,"0"),f.append(`${D}y`,"0")}else y&&f.append(y,b)}}else{if(vc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Yo,s=null,u=Ko,d=a}return f&&u==="text/plain"&&(d=f,f=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:f,body:d}}function xd(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function x0(a,t){if(a.id in t)return t[a.id];try{let i=await import(a.module);return t[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O0(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function M0(a,t,i){let s=await Promise.all(a.map(async u=>{let f=t.routes[u.route.id];if(f){let d=await x0(f,i);return d.links?d.links():[]}return[]}));return z0(s.flat(1).filter(O0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function xy(a,t,i,s,u,f){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return f==="assets"?t.filter((p,y)=>d(p,y)||g(p,y)):f==="data"?t.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function U0(a,t){return L0(a.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let u=[s.module];return s.imports&&(u=u.concat(s.imports)),u}).flat(1))}function L0(a){return[...new Set(a)]}function P0(a){let t={},i=Object.keys(a).sort();for(let s of i)t[s]=a[s];return t}function z0(a,t){let i=new Set;return new Set(t),a.reduce((s,u)=>{let f=JSON.stringify(P0(u));return i.has(f)||(i.add(f),s.push({key:f,link:u})),s},[])}function k0(a){let t=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function B0(){let a=G.useContext(Is);return xd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function j0(){let a=G.useContext(_c);return xd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Od=G.createContext(void 0);Od.displayName="FrameworkContext";function J_(){let a=G.useContext(Od);return xd(a,"You must render this element inside a <HydratedRouter> element"),a}function q0(a,t){let i=G.useContext(Od),[s,u]=G.useState(!1),[f,d]=G.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,D=G.useRef(null);G.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let Q=$=>{$.forEach(ne=>{d(ne.isIntersecting)})},H=new IntersectionObserver(Q,{threshold:.5});return D.current&&H.observe(D.current),()=>{H.disconnect()}}},[a]),G.useEffect(()=>{if(s){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let x=()=>{u(!0)},k=()=>{u(!1),d(!1)};return i?a!=="intent"?[f,D,{}]:[f,D,{onFocus:Kl(g,x),onBlur:Kl(p,k),onMouseEnter:Kl(y,x),onMouseLeave:Kl(E,k),onTouchStart:Kl(b,x)}]:[!1,D,{}]}function Kl(a,t){return i=>{a&&a(i),i.defaultPrevented||t(i)}}function H0({page:a,...t}){let{router:i}=B0(),s=G.useMemo(()=>H_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?G.createElement(F0,{page:a,matches:s,...t}):null}function G0(a){let{manifest:t,routeModules:i}=J_(),[s,u]=G.useState([]);return G.useEffect(()=>{let f=!1;return M0(a,t,i).then(d=>{f||u(d)}),()=>{f=!0}},[a,t,i]),s}function F0({page:a,matches:t,...i}){let s=Pr(),{manifest:u,routeModules:f}=J_(),{loaderData:d,matches:g}=j0(),p=G.useMemo(()=>xy(a,t,g,u,s,"data"),[a,t,g,u,s]),y=G.useMemo(()=>xy(a,t,g,u,s,"assets"),[a,t,g,u,s]),E=G.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let x=new Set,k=!1;if(t.forEach(H=>{var ne;let $=u.routes[H.route.id];!$||!$.hasLoader||(!p.some(te=>te.route.id===H.route.id)&&H.route.id in d&&((ne=f[H.route.id])!=null&&ne.shouldRevalidate)||$.hasClientLoader?k=!0:x.add(H.route.id))}),x.size===0)return[];let Q=k0(a);return k&&x.size>0&&Q.searchParams.set("_routes",t.filter(H=>x.has(H.route.id)).map(H=>H.route.id).join(",")),[Q.pathname+Q.search]},[d,s,u,p,t,a,f]),b=G.useMemo(()=>U0(y,u),[y,u]),D=G0(y);return G.createElement(G.Fragment,null,E.map(x=>G.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...i})),b.map(x=>G.createElement("link",{key:x,rel:"modulepreload",href:x,...i})),D.map(({key:x,link:k})=>G.createElement("link",{key:x,...k})))}function Q0(...a){return t=>{a.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.1.5")}catch{}function Y0({basename:a,children:t,window:i}){let s=G.useRef();s.current==null&&(s.current=MA({window:i,v5Compat:!0}));let u=s.current,[f,d]=G.useState({action:u.action,location:u.location}),g=G.useCallback(p=>{G.startTransition(()=>d(p))},[d]);return G.useLayoutEffect(()=>u.listen(g),[u,g]),G.createElement(A0,{basename:a,children:t,location:f.location,navigationType:f.action,navigator:u})}var ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ec=G.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:u,reloadDocument:f,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:b,...D},x){let{basename:k}=G.useContext(Bn),Q=typeof y=="string"&&ev.test(y),H,$=!1;if(typeof y=="string"&&Q&&(H=y,W_))try{let S=new URL(window.location.href),R=y.startsWith("//")?new URL(S.protocol+y):new URL(y),M=Vr(R.pathname,k);R.origin===S.origin&&M!=null?y=M+R.search+R.hash:$=!0}catch{In(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=s0(y,{relative:u}),[te,ye,ce]=q0(s,D),Se=Z0(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:u,viewTransition:b});function O(S){t&&t(S),S.defaultPrevented||Se(S)}let w=G.createElement("a",{...D,...ce,href:H||ne,onClick:$||f?t:O,ref:Q0(x,ye),target:p,"data-discover":!Q&&i==="render"?"true":void 0});return te&&!Q?G.createElement(G.Fragment,null,w,G.createElement(H0,{page:ne})):w});Ec.displayName="Link";var K0=G.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:u=!1,style:f,to:d,viewTransition:g,children:p,...y},E){let b=du(d,{relative:y.relative}),D=Pr(),x=G.useContext(_c),{navigator:k,basename:Q}=G.useContext(Bn),H=x!=null&&nS(b)&&g===!0,$=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,ne=D.pathname,te=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(ne=ne.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&Q&&(te=Vr(te,Q)||te);const ye=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ce=ne===$||!u&&ne.startsWith($)&&ne.charAt(ye)==="/",Se=te!=null&&(te===$||!u&&te.startsWith($)&&te.charAt($.length)==="/"),O={isActive:ce,isPending:Se,isTransitioning:H},w=ce?t:void 0,S;typeof s=="function"?S=s(O):S=[s,ce?"active":null,Se?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let R=typeof f=="function"?f(O):f;return G.createElement(Ec,{...y,"aria-current":w,className:S,ref:E,style:R,to:d,viewTransition:g},typeof p=="function"?p(O):p)});K0.displayName="NavLink";var X0=G.forwardRef(({discover:a="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:u,state:f,method:d=Yo,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...D},x)=>{let k=eS(),Q=tS(g,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",$=typeof g=="string"&&ev.test(g),ne=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let ye=te.nativeEvent.submitter,ce=(ye==null?void 0:ye.getAttribute("formmethod"))||d;k(ye||te.currentTarget,{fetcherKey:t,method:ce,navigate:i,replace:u,state:f,relative:y,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:x,method:H,action:Q,onSubmit:s?p:ne,...D,"data-discover":!$&&a==="render"?"true":void 0})});X0.displayName="Form";function $0(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tv(a){let t=G.useContext(Is);return Je(t,$0(a)),t}function Z0(a,{target:t,replace:i,state:s,preventScrollReset:u,relative:f,viewTransition:d}={}){let g=Os(),p=Pr(),y=du(a,{relative:f});return G.useCallback(E=>{if(D0(E,t)){E.preventDefault();let b=i!==void 0?i:iu(p)===iu(y);g(a,{replace:b,state:s,preventScrollReset:u,relative:f,viewTransition:d})}},[p,g,y,i,s,t,a,u,f,d])}var J0=0,W0=()=>`__${String(++J0)}__`;function eS(){let{router:a}=tv("useSubmit"),{basename:t}=G.useContext(Bn),i=_0();return G.useCallback(async(s,u={})=>{let{action:f,method:d,encType:g,formData:p,body:y}=I0(s,t);if(u.navigate===!1){let E=u.fetcherKey||W0();await a.fetch(E,i,u.action||f,{preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||d,formEncType:u.encType||g,flushSync:u.flushSync})}else await a.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||d,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,t,i])}function tS(a,{relative:t}={}){let{basename:i}=G.useContext(Bn),s=G.useContext(jn);Je(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),f={...du(a||".",{relative:t})},d=Pr();if(a==null){f.search=d.search;let g=new URLSearchParams(f.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();f.search=E?`?${E}`:""}}return(!a||a===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:Ui([i,f.pathname])),iu(f)}function nS(a,t={}){let i=G.useContext(Y_);Je(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tv("useViewTransitionState"),u=du(a,{relative:t.relative});if(!i.isTransitioning)return!1;let f=Vr(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Vr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return tc(u.pathname,d)!=null||tc(u.pathname,f)!=null}new TextEncoder;const nv=""+new URL("logo-NCsgGCTi.png",import.meta.url).href,iv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAKlJREFUSInN0ssNhDAMhOHRVubS0plLYy+JlANs/JhBG8kXAv8XBABgAHyOQbcMwDVnYILXNgp8R9dg3Fxk4neoP22w8GNbgYebTDzdYuDlRgdvH7wSaKOVEA3NBOloJCxDT7gUzeB0NIKn0A/5YJJl+NPv+9ofbYc9GZq5h47S8UqojXcC5Wfbp640GGi6xUTDTQUaarsI/YUPiNEn3NfF9dYKdMd9jn0Bw7MeioVwhJsAAAAASUVORK5CYII=",iS="burger_open",Hh="body_fixed",rS=({isOpen:a,toggleBurger:t})=>{q_.useEffect(()=>{const u=document.querySelector("body");return a?u.classList.add(Hh):u.classList.remove(Hh),()=>{u.classList.remove(Hh)}},[a]);const i=u=>{const f=u.currentTarget.querySelector(".js-burger_content");!u.composedPath().includes(f)&&t()},s=u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-link"),d=document.getElementById(f);d&&d.scrollIntoView({behavior:"smooth"})};return B.jsx("div",{className:`burger ${a?iS:""}`,onClick:i,children:B.jsxs("div",{className:"burger_content js-burger_content",children:[B.jsx("button",{className:"burger_close-btn",onClick:t,children:B.jsx("img",{className:"burger__close-image",src:iv,alt:"Закрыть"})}),B.jsxs("nav",{className:"burger-nav",children:[B.jsxs("div",{className:"burger-logo",children:[B.jsx("img",{className:"logo",src:nv,alt:"Логотип"}),B.jsx("h3",{className:"burger-title",children:"Уральская сталь"})]}),B.jsxs("ul",{className:"burger-navList",children:[B.jsx("li",{className:"menu-item burger-navItem",children:B.jsx(Ec,{to:"/login",children:"Личный кабинет"})}),B.jsx("li",{className:"menu-item burger-navItem",children:B.jsx("a",{"data-link":"programm",onClick:s,children:"Программы"})}),B.jsx("li",{className:"menu-item burger-navItem",children:B.jsx("a",{"data-link":"love",onClick:s,children:"О нас"})})]})]})]})})},aS=()=>{const[a,t]=G.useState(!1),i=()=>{t(u=>!u)},s=u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-link"),d=document.getElementById(f);d&&d.scrollIntoView({behavior:"smooth"})};return B.jsx("header",{className:"header",children:B.jsxs("div",{className:"container",children:[B.jsxs("div",{className:"header-logo",children:[B.jsx("img",{className:"logo",src:nv,alt:"Логотип"}),B.jsx("h3",{className:"header-title",children:"Уральская сталь"})]}),B.jsx("nav",{className:"menu",children:B.jsxs("ul",{className:"menu-list",children:[B.jsx("li",{className:"menu-item",children:B.jsx("a",{href:"#","data-link":"programm",onClick:s,children:"Программы"})}),B.jsx("li",{className:"menu-item",children:B.jsx("a",{href:"#","data-link":"love",onClick:s,children:"О нас"})}),B.jsxs("li",{className:"menu-item",children:[B.jsx(Ec,{to:"/login",children:"Личный кабинет"})," "]})]})}),B.jsx("button",{className:"burger_btn",onClick:i}),B.jsx(rS,{isOpen:a,toggleBurger:i})]})})},sS=""+new URL("line1-COE_yDv6.png",import.meta.url).href,lS=""+new URL("orig-DDQEVEjz.jpg",import.meta.url).href,uS=()=>{const a=()=>{const t=document.getElementById("programm");t&&t.scrollIntoView({behavior:"smooth"})};return B.jsx("section",{className:"main-content",children:B.jsxs("div",{className:"container",children:[B.jsx("img",{src:sS,alt:"line",className:"line1"}),B.jsxs("div",{className:"main-info",children:[B.jsx("h1",{className:"main-title",children:"Программа переподготовки сотрудников"}),B.jsx("img",{src:lS,alt:"",className:"main-image"}),B.jsx("p",{className:"main-text",children:"Наша программа профессионального обучения, позволяет сотрудникам получить новые профессии за счёт предприятия. Эта программа помогла десяткам жителей Новотроицка и Орска освоить новые специальности. Новотроицкий политехнический колледж и Орский машиностроительный колледж готовят специалистов для Уральской Стали по различным направлениям, таким как слесарь-ремонтник, электромонтёр, горновой доменной печи и другие."}),B.jsx("div",{className:"main-action",children:B.jsx("button",{className:"button",id:"main-action-button",onClick:a,children:"Зарегистрироваться"})})]})]})})};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},oS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)t[s++]=String.fromCharCode(u);else if(u>191&&u<224){const f=a[i++];t[s++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=a[i++],d=a[i++],g=a[i++],p=((u&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const f=a[i++],d=a[i++];t[s++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return t.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const f=a[u],d=u+1<a.length,g=d?a[u+1]:0,p=u+2<a.length,y=p?a[u+2]:0,E=f>>2,b=(f&3)<<4|g>>4;let D=(g&15)<<2|y>>6,x=y&63;p||(x=64,d||(D=64)),s.push(i[E],i[b],i[D],i[x])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(rv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):oS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const f=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const y=u<a.length?i[a.charAt(u)]:64;++u;const b=u<a.length?i[a.charAt(u)]:64;if(++u,f==null||g==null||y==null||b==null)throw new cS;const D=f<<2|g>>4;if(s.push(D),y!==64){const x=g<<4&240|y>>2;if(s.push(x),b!==64){const k=y<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(a){const t=rv(a);return av.encodeByteArray(t,!0)},nc=function(a){return fS(a).replace(/\./g,"")},hS=function(a){try{return av.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=()=>dS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof Oy>"u")return;const a=Oy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},pS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&hS(a[1]);return t&&JSON.parse(t)},Md=()=>{try{return mS()||gS()||pS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},yS=a=>{var t,i;return(i=(t=Md())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},_S=a=>{const t=yS(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},sv=()=>{var a;return(a=Md())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",u=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},a);return[nc(JSON.stringify(i)),nc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AS(){var a;const t=(a=Md())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return!AS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bS(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var f;t(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="FirebaseError";class Ms extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=wS,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lv.prototype.create)}}class lv{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},u=`${this.service}/${t}`,f=this.errors[t],d=f?CS(f,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ms(u,g,s)}}function CS(a,t){return a.replace(DS,(i,s)=>{const u=t[s];return u!=null?String(u):`<${s}?>`})}const DS=/\{\$([^}]+)}/g;function ed(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const u of i){if(!s.includes(u))return!1;const f=a[u],d=t[u];if(My(f)&&My(d)){if(!ed(f,d))return!1}else if(f!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function My(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(a){return a&&a._delegate?a._delegate:a}class ru{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new vS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IS(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});s.resolve(f)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(u)}return u}onInit(t,i){var s;const u=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;f.add(t),this.onInitCallbacks.set(u,f);const d=this.instances.get(u);return d&&t(d,u),()=>{f.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(a){return a===pa?void 0:a}function IS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new NS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pe||(Pe={}));const OS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},MS=Pe.INFO,US={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},LS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),u=US[t];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uv{constructor(t){this.name=t,this._logLevel=MS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}const PS=(a,t)=>t.some(i=>a instanceof i);let Uy,Ly;function zS(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,td=new WeakMap,cv=new WeakMap,Gh=new WeakMap,Ud=new WeakMap;function BS(a){const t=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(wr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",f),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&ov.set(i,a)}).catch(()=>{}),Ud.set(t,a),t}function jS(a){if(td.has(a))return;const t=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});td.set(a,t)}let nd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return td.get(a);if(t==="objectStoreNames")return a.objectStoreNames||cv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function qS(a){nd=a(nd)}function HS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Fh(this),t,...i);return cv.set(s,t.sort?t.sort():[t]),wr(s)}:kS().includes(a)?function(...t){return a.apply(Fh(this),t),wr(ov.get(this))}:function(...t){return wr(a.apply(Fh(this),t))}}function GS(a){return typeof a=="function"?HS(a):(a instanceof IDBTransaction&&jS(a),PS(a,zS())?new Proxy(a,nd):a)}function wr(a){if(a instanceof IDBRequest)return BS(a);if(Gh.has(a))return Gh.get(a);const t=GS(a);return t!==a&&(Gh.set(a,t),Ud.set(t,a)),t}const Fh=a=>Ud.get(a);function FS(a,t,{blocked:i,upgrade:s,blocking:u,terminated:f}={}){const d=indexedDB.open(a,t),g=wr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(wr(d.result),p.oldVersion,p.newVersion,wr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{f&&p.addEventListener("close",()=>f()),u&&p.addEventListener("versionchange",y=>u(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const QS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],Qh=new Map;function Py(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Qh.get(t))return Qh.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,u=YS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||QS.includes(i)))return;const f=async function(d,...g){const p=this.transaction(d,u?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),u&&p.done]))[0]};return Qh.set(t,f),f}qS(a=>({...a,get:(t,i,s)=>Py(t,i)||a.get(t,i,s),has:(t,i)=>!!Py(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function XS(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const id="@firebase/app",zy="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new uv("@firebase/app"),$S="@firebase/app-compat",ZS="@firebase/analytics-compat",JS="@firebase/analytics",WS="@firebase/app-check-compat",eb="@firebase/app-check",tb="@firebase/auth",nb="@firebase/auth-compat",ib="@firebase/database",rb="@firebase/data-connect",ab="@firebase/database-compat",sb="@firebase/functions",lb="@firebase/functions-compat",ub="@firebase/installations",ob="@firebase/installations-compat",cb="@firebase/messaging",fb="@firebase/messaging-compat",hb="@firebase/performance",db="@firebase/performance-compat",mb="@firebase/remote-config",gb="@firebase/remote-config-compat",pb="@firebase/storage",yb="@firebase/storage-compat",_b="@firebase/firestore",vb="@firebase/vertexai",Eb="@firebase/firestore-compat",Tb="firebase",Ab="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]",Sb={[id]:"fire-core",[$S]:"fire-core-compat",[JS]:"fire-analytics",[ZS]:"fire-analytics-compat",[eb]:"fire-app-check",[WS]:"fire-app-check-compat",[tb]:"fire-auth",[nb]:"fire-auth-compat",[ib]:"fire-rtdb",[rb]:"fire-data-connect",[ab]:"fire-rtdb-compat",[sb]:"fire-fn",[lb]:"fire-fn-compat",[ub]:"fire-iid",[ob]:"fire-iid-compat",[cb]:"fire-fcm",[fb]:"fire-fcm-compat",[hb]:"fire-perf",[db]:"fire-perf-compat",[mb]:"fire-rc",[gb]:"fire-rc-compat",[pb]:"fire-gcs",[yb]:"fire-gcs-compat",[_b]:"fire-fst",[Eb]:"fire-fst-compat",[vb]:"fire-vertex","fire-js":"fire-js",[Tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,bb=new Map,ad=new Map;function ky(a,t){try{a.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function rc(a){const t=a.name;if(ad.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;ad.set(t,a);for(const i of ic.values())ky(i,a);for(const i of bb.values())ky(i,a);return!0}function Rb(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function wb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new lv("app","Firebase",Cb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=Ab;function fv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:rd,automaticDataCollectionEnabled:!1},t),u=s.name;if(typeof u!="string"||!u)throw Cr.create("bad-app-name",{appName:String(u)});if(i||(i=sv()),!i)throw Cr.create("no-options");const f=ic.get(u);if(f){if(ed(i,f.options)&&ed(s,f.config))return f;throw Cr.create("duplicate-app",{appName:u})}const d=new xS(u);for(const p of ad.values())d.addComponent(p);const g=new Db(i,s,d);return ic.set(u,g),g}function Vb(a=rd){const t=ic.get(a);if(!t&&a===rd&&sv())return fv();if(!t)throw Cr.create("no-app",{appName:a});return t}function vs(a,t,i){var s;let u=(s=Sb[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const f=u.match(/\s|\//),d=t.match(/\s|\//);if(f||d){const g=[`Unable to register library "${u}" with version "${t}":`];f&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}rc(new ru(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebase-heartbeat-database",xb=1,au="firebase-heartbeat-store";let Yh=null;function hv(){return Yh||(Yh=FS(Ib,xb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(au)}catch(i){console.warn(i)}}}}).catch(a=>{throw Cr.create("idb-open",{originalErrorMessage:a.message})})),Yh}async function Ob(a){try{const i=(await hv()).transaction(au),s=await i.objectStore(au).get(dv(a));return await i.done,s}catch(t){if(t instanceof Ms)zi.warn(t.message);else{const i=Cr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}async function By(a,t){try{const s=(await hv()).transaction(au,"readwrite");await s.objectStore(au).put(t,dv(a)),await s.done}catch(i){if(i instanceof Ms)zi.warn(i.message);else{const s=Cr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});zi.warn(s.message)}}}function dv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=1024,Ub=30;class Lb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=jy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>Ub){const d=kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=jy(),{heartbeatsToSend:s,unsentEntries:u}=Pb(this._heartbeatsCache.heartbeats),f=nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return zi.warn(i),""}}}function jy(){return new Date().toISOString().substring(0,10)}function Pb(a,t=Mb){const i=[];let s=a.slice();for(const u of a){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),qy(i)>t){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),qy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class zb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bS()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ob(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return By(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return By(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function qy(a){return nc(JSON.stringify({version:2,heartbeats:a})).length}function kb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(a){rc(new ru("platform-logger",t=>new KS(t),"PRIVATE")),rc(new ru("heartbeat",t=>new Lb(t),"PRIVATE")),vs(id,zy,a),vs(id,zy,"esm2017"),vs("fire-js","")}Bb("");var jb="firebase",qb="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(jb,qb,"app");var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,mv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function S(){}S.prototype=w.prototype,O.D=w.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(R,M,P){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return w.prototype[M].apply(R,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,w,S){S||(S=0);var R=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)R[M]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(M=0;16>M;++M)R[M]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=O.g[0],S=O.g[1],M=O.g[2];var P=O.g[3],N=w+(P^S&(M^P))+R[0]+3614090360&4294967295;w=S+(N<<7&4294967295|N>>>25),N=P+(M^w&(S^M))+R[1]+3905402710&4294967295,P=w+(N<<12&4294967295|N>>>20),N=M+(S^P&(w^S))+R[2]+606105819&4294967295,M=P+(N<<17&4294967295|N>>>15),N=S+(w^M&(P^w))+R[3]+3250441966&4294967295,S=M+(N<<22&4294967295|N>>>10),N=w+(P^S&(M^P))+R[4]+4118548399&4294967295,w=S+(N<<7&4294967295|N>>>25),N=P+(M^w&(S^M))+R[5]+1200080426&4294967295,P=w+(N<<12&4294967295|N>>>20),N=M+(S^P&(w^S))+R[6]+2821735955&4294967295,M=P+(N<<17&4294967295|N>>>15),N=S+(w^M&(P^w))+R[7]+4249261313&4294967295,S=M+(N<<22&4294967295|N>>>10),N=w+(P^S&(M^P))+R[8]+1770035416&4294967295,w=S+(N<<7&4294967295|N>>>25),N=P+(M^w&(S^M))+R[9]+2336552879&4294967295,P=w+(N<<12&4294967295|N>>>20),N=M+(S^P&(w^S))+R[10]+4294925233&4294967295,M=P+(N<<17&4294967295|N>>>15),N=S+(w^M&(P^w))+R[11]+2304563134&4294967295,S=M+(N<<22&4294967295|N>>>10),N=w+(P^S&(M^P))+R[12]+1804603682&4294967295,w=S+(N<<7&4294967295|N>>>25),N=P+(M^w&(S^M))+R[13]+4254626195&4294967295,P=w+(N<<12&4294967295|N>>>20),N=M+(S^P&(w^S))+R[14]+2792965006&4294967295,M=P+(N<<17&4294967295|N>>>15),N=S+(w^M&(P^w))+R[15]+1236535329&4294967295,S=M+(N<<22&4294967295|N>>>10),N=w+(M^P&(S^M))+R[1]+4129170786&4294967295,w=S+(N<<5&4294967295|N>>>27),N=P+(S^M&(w^S))+R[6]+3225465664&4294967295,P=w+(N<<9&4294967295|N>>>23),N=M+(w^S&(P^w))+R[11]+643717713&4294967295,M=P+(N<<14&4294967295|N>>>18),N=S+(P^w&(M^P))+R[0]+3921069994&4294967295,S=M+(N<<20&4294967295|N>>>12),N=w+(M^P&(S^M))+R[5]+3593408605&4294967295,w=S+(N<<5&4294967295|N>>>27),N=P+(S^M&(w^S))+R[10]+38016083&4294967295,P=w+(N<<9&4294967295|N>>>23),N=M+(w^S&(P^w))+R[15]+3634488961&4294967295,M=P+(N<<14&4294967295|N>>>18),N=S+(P^w&(M^P))+R[4]+3889429448&4294967295,S=M+(N<<20&4294967295|N>>>12),N=w+(M^P&(S^M))+R[9]+568446438&4294967295,w=S+(N<<5&4294967295|N>>>27),N=P+(S^M&(w^S))+R[14]+3275163606&4294967295,P=w+(N<<9&4294967295|N>>>23),N=M+(w^S&(P^w))+R[3]+4107603335&4294967295,M=P+(N<<14&4294967295|N>>>18),N=S+(P^w&(M^P))+R[8]+1163531501&4294967295,S=M+(N<<20&4294967295|N>>>12),N=w+(M^P&(S^M))+R[13]+2850285829&4294967295,w=S+(N<<5&4294967295|N>>>27),N=P+(S^M&(w^S))+R[2]+4243563512&4294967295,P=w+(N<<9&4294967295|N>>>23),N=M+(w^S&(P^w))+R[7]+1735328473&4294967295,M=P+(N<<14&4294967295|N>>>18),N=S+(P^w&(M^P))+R[12]+2368359562&4294967295,S=M+(N<<20&4294967295|N>>>12),N=w+(S^M^P)+R[5]+4294588738&4294967295,w=S+(N<<4&4294967295|N>>>28),N=P+(w^S^M)+R[8]+2272392833&4294967295,P=w+(N<<11&4294967295|N>>>21),N=M+(P^w^S)+R[11]+1839030562&4294967295,M=P+(N<<16&4294967295|N>>>16),N=S+(M^P^w)+R[14]+4259657740&4294967295,S=M+(N<<23&4294967295|N>>>9),N=w+(S^M^P)+R[1]+2763975236&4294967295,w=S+(N<<4&4294967295|N>>>28),N=P+(w^S^M)+R[4]+1272893353&4294967295,P=w+(N<<11&4294967295|N>>>21),N=M+(P^w^S)+R[7]+4139469664&4294967295,M=P+(N<<16&4294967295|N>>>16),N=S+(M^P^w)+R[10]+3200236656&4294967295,S=M+(N<<23&4294967295|N>>>9),N=w+(S^M^P)+R[13]+681279174&4294967295,w=S+(N<<4&4294967295|N>>>28),N=P+(w^S^M)+R[0]+3936430074&4294967295,P=w+(N<<11&4294967295|N>>>21),N=M+(P^w^S)+R[3]+3572445317&4294967295,M=P+(N<<16&4294967295|N>>>16),N=S+(M^P^w)+R[6]+76029189&4294967295,S=M+(N<<23&4294967295|N>>>9),N=w+(S^M^P)+R[9]+3654602809&4294967295,w=S+(N<<4&4294967295|N>>>28),N=P+(w^S^M)+R[12]+3873151461&4294967295,P=w+(N<<11&4294967295|N>>>21),N=M+(P^w^S)+R[15]+530742520&4294967295,M=P+(N<<16&4294967295|N>>>16),N=S+(M^P^w)+R[2]+3299628645&4294967295,S=M+(N<<23&4294967295|N>>>9),N=w+(M^(S|~P))+R[0]+4096336452&4294967295,w=S+(N<<6&4294967295|N>>>26),N=P+(S^(w|~M))+R[7]+1126891415&4294967295,P=w+(N<<10&4294967295|N>>>22),N=M+(w^(P|~S))+R[14]+2878612391&4294967295,M=P+(N<<15&4294967295|N>>>17),N=S+(P^(M|~w))+R[5]+4237533241&4294967295,S=M+(N<<21&4294967295|N>>>11),N=w+(M^(S|~P))+R[12]+1700485571&4294967295,w=S+(N<<6&4294967295|N>>>26),N=P+(S^(w|~M))+R[3]+2399980690&4294967295,P=w+(N<<10&4294967295|N>>>22),N=M+(w^(P|~S))+R[10]+4293915773&4294967295,M=P+(N<<15&4294967295|N>>>17),N=S+(P^(M|~w))+R[1]+2240044497&4294967295,S=M+(N<<21&4294967295|N>>>11),N=w+(M^(S|~P))+R[8]+1873313359&4294967295,w=S+(N<<6&4294967295|N>>>26),N=P+(S^(w|~M))+R[15]+4264355552&4294967295,P=w+(N<<10&4294967295|N>>>22),N=M+(w^(P|~S))+R[6]+2734768916&4294967295,M=P+(N<<15&4294967295|N>>>17),N=S+(P^(M|~w))+R[13]+1309151649&4294967295,S=M+(N<<21&4294967295|N>>>11),N=w+(M^(S|~P))+R[4]+4149444226&4294967295,w=S+(N<<6&4294967295|N>>>26),N=P+(S^(w|~M))+R[11]+3174756917&4294967295,P=w+(N<<10&4294967295|N>>>22),N=M+(w^(P|~S))+R[2]+718787259&4294967295,M=P+(N<<15&4294967295|N>>>17),N=S+(P^(M|~w))+R[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var S=w-this.blockSize,R=this.B,M=this.h,P=0;P<w;){if(M==0)for(;P<=S;)u(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<w;)if(R[M++]=O.charCodeAt(P++),M==this.blockSize){u(this,R),M=0;break}}else for(;P<w;)if(R[M++]=O[P++],M==this.blockSize){u(this,R),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var S=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=S&255,S/=256;for(this.u(O),O=Array(16),w=S=0;4>w;++w)for(var R=0;32>R;R+=8)O[S++]=this.g[w]>>>R&255;return O};function f(O,w){var S=g;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=w(O)}function d(O,w){this.h=w;for(var S=[],R=!0,M=O.length-1;0<=M;M--){var P=O[M]|0;R&&P==w||(S[M]=P,R=!1)}this.g=S}var g={};function p(O){return-128<=O&&128>O?f(O,function(w){return new d([w|0],0>w?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return H(y(-O));for(var w=[],S=1,R=0;O>=S;R++)w[R]=O/S|0,S*=4294967296;return new d(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return H(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),R=b,M=0;M<O.length;M+=8){var P=Math.min(8,O.length-M),N=parseInt(O.substring(M,M+P),w);8>P?(P=y(Math.pow(w,P)),R=R.j(P).add(y(N))):(R=R.j(S),R=R.add(y(N)))}return R}var b=p(0),D=p(1),x=p(16777216);a=d.prototype,a.m=function(){if(Q(this))return-H(this).m();for(var O=0,w=1,S=0;S<this.g.length;S++){var R=this.i(S);O+=(0<=R?R:4294967296+R)*w,w*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(Q(this))return"-"+H(this).toString(O);for(var w=y(Math.pow(O,6)),S=this,R="";;){var M=ye(S,w).g;S=$(S,M.j(w));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=M,k(S))return P+R;for(;6>P.length;)P="0"+P;R=P+R}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function Q(O){return O.h==-1}a.l=function(O){return O=$(this,O),Q(O)?-1:k(O)?0:1};function H(O){for(var w=O.g.length,S=[],R=0;R<w;R++)S[R]=~O.g[R];return new d(S,~O.h).add(D)}a.abs=function(){return Q(this)?H(this):this},a.add=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],R=0,M=0;M<=w;M++){var P=R+(this.i(M)&65535)+(O.i(M)&65535),N=(P>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);R=N>>>16,P&=65535,N&=65535,S[M]=N<<16|P}return new d(S,S[S.length-1]&-2147483648?-1:0)};function $(O,w){return O.add(H(w))}a.j=function(O){if(k(this)||k(O))return b;if(Q(this))return Q(O)?H(this).j(H(O)):H(H(this).j(O));if(Q(O))return H(this.j(H(O)));if(0>this.l(x)&&0>O.l(x))return y(this.m()*O.m());for(var w=this.g.length+O.g.length,S=[],R=0;R<2*w;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<O.g.length;M++){var P=this.i(R)>>>16,N=this.i(R)&65535,We=O.i(M)>>>16,ht=O.i(M)&65535;S[2*R+2*M]+=N*ht,ne(S,2*R+2*M),S[2*R+2*M+1]+=P*ht,ne(S,2*R+2*M+1),S[2*R+2*M+1]+=N*We,ne(S,2*R+2*M+1),S[2*R+2*M+2]+=P*We,ne(S,2*R+2*M+2)}for(R=0;R<w;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=w;R<2*w;R++)S[R]=0;return new d(S,0)};function ne(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function te(O,w){this.g=O,this.h=w}function ye(O,w){if(k(w))throw Error("division by zero");if(k(O))return new te(b,b);if(Q(O))return w=ye(H(O),w),new te(H(w.g),H(w.h));if(Q(w))return w=ye(O,H(w)),new te(H(w.g),w.h);if(30<O.g.length){if(Q(O)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var S=D,R=w;0>=R.l(O);)S=ce(S),R=ce(R);var M=Se(S,1),P=Se(R,1);for(R=Se(R,2),S=Se(S,2);!k(R);){var N=P.add(R);0>=N.l(O)&&(M=M.add(S),P=N),R=Se(R,1),S=Se(S,1)}return w=$(O,M.j(w)),new te(M,w)}for(M=b;0<=O.l(w);){for(S=Math.max(1,Math.floor(O.m()/w.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),P=y(S),N=P.j(w);Q(N)||0<N.l(O);)S-=R,P=y(S),N=P.j(w);k(P)&&(P=D),M=M.add(P),O=$(O,N)}return new te(M,O)}a.A=function(O){return ye(this,O).h},a.and=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],R=0;R<w;R++)S[R]=this.i(R)&O.i(R);return new d(S,this.h&O.h)},a.or=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],R=0;R<w;R++)S[R]=this.i(R)|O.i(R);return new d(S,this.h|O.h)},a.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],R=0;R<w;R++)S[R]=this.i(R)^O.i(R);return new d(S,this.h^O.h)};function ce(O){for(var w=O.g.length+1,S=[],R=0;R<w;R++)S[R]=O.i(R)<<1|O.i(R-1)>>>31;return new d(S,O.h)}function Se(O,w){var S=w>>5;w%=32;for(var R=O.g.length-S,M=[],P=0;P<R;P++)M[P]=0<w?O.i(P+S)>>>w|O.i(P+S+1)<<32-w:O.i(P+S);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Dr=d}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gv,Xl,pv,Xo,sd,yv,_v,vv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,_){return o==Array.prototype||o==Object.prototype||(o[m]=_.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof qo=="object"&&qo];for(var m=0;m<o.length;++m){var _=o[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)e:{var _=s;o=o.split(".");for(var A=0;A<o.length-1;A++){var z=o[A];if(!(z in _))break e;_=_[z]}o=o[o.length-1],A=_[o],m=m(A),m!=A&&m!=null&&t(_,o,{configurable:!0,writable:!0,value:m})}}function f(o,m){o instanceof String&&(o+="");var _=0,A=!1,z={next:function(){if(!A&&_<o.length){var F=_++;return{value:m(F,o[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return f(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function E(o,m,_){return o.call.apply(o.bind,arguments)}function b(o,m,_){if(!o)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function D(o,m,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,D.apply(null,arguments)}function x(o,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),o.apply(this,A)}}function k(o,m){function _(){}_.prototype=m.prototype,o.aa=m.prototype,o.prototype=new _,o.prototype.constructor=o,o.Qb=function(A,z,F){for(var ie=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ie[Oe-2]=arguments[Oe];return m.prototype[z].apply(A,ie)}}function Q(o){const m=o.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=o[A];return _}return[]}function H(o,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=o.length||0,F=A.length||0;o.length=z+F;for(let ie=0;ie<F;ie++)o[z+ie]=A[ie]}else o.push(A)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(o){return/^[\s\xa0]*$/.test(o)}function te(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function ye(o){return ye[" "](o),o}ye[" "]=function(){};var ce=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Se(o,m,_){for(const A in o)m.call(_,o[A],A,o)}function O(o,m){for(const _ in o)m.call(void 0,o[_],_,o)}function w(o){const m={};for(const _ in o)m[_]=o[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(o,m){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)o[_]=A[_];for(let F=0;F<S.length;F++)_=S[F],Object.prototype.hasOwnProperty.call(A,_)&&(o[_]=A[_])}}function M(o){var m=1;o=o.split(":");const _=[];for(;0<m&&o.length;)_.push(o.shift()),m--;return o.length&&_.push(o.join(":")),_}function P(o){g.setTimeout(()=>{throw o},0)}function N(){var o=qe;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class We{constructor(){this.h=this.g=null}add(m,_){const A=ht.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new $(()=>new re,o=>o.reset());class re{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,me=!1,qe=new We,V=()=>{const o=g.Promise.resolve(void 0);_e=()=>{o.then(ee)}};var ee=()=>{for(var o;o=N();){try{o.h.call(o.g)}catch(_){P(_)}var m=ht;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}me=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return o}();function we(o,m){if(ae.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var _=this.type=o.type,A=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(ce){e:{try{ye(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=o.fromElement:_=="mouseout"&&(m=o.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:be[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&we.aa.h.call(this)}}k(we,ae);var be={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function rt(o,m,_,A,z){this.listener=o,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=z,this.key=++ze,this.da=this.fa=!1}function Fe(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Kt(o){this.src=o,this.g={},this.h=0}Kt.prototype.add=function(o,m,_,A,z){var F=o.toString();o=this.g[F],o||(o=this.g[F]=[],this.h++);var ie=dn(o,m,A,z);return-1<ie?(m=o[ie],_||(m.fa=!1)):(m=new rt(m,this.src,F,!!A,z),m.fa=_,o.push(m)),m};function ui(o,m){var _=m.type;if(_ in o.g){var A=o.g[_],z=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=z)&&Array.prototype.splice.call(A,z,1),F&&(Fe(m),o.g[_].length==0&&(delete o.g[_],o.h--))}}function dn(o,m,_,A){for(var z=0;z<o.length;++z){var F=o[z];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==A)return z}return-1}var ji="closure_lm_"+(1e6*Math.random()|0),qi={};function oi(o,m,_,A,z){if(Array.isArray(m)){for(var F=0;F<m.length;F++)oi(o,m[F],_,A,z);return null}return _=vu(_),o&&o[dt]?o.K(m,_,y(A)?!!A.capture:!1,z):Bs(o,m,_,!1,A,z)}function Bs(o,m,_,A,z,F){if(!m)throw Error("Invalid event type");var ie=y(z)?!!z.capture:!!z,Oe=js(o);if(Oe||(o[ji]=Oe=new Kt(o)),_=Oe.add(m,_,A,ie,F),_.proxy)return _;if(A=Ra(),_.proxy=A,A.src=o,A.listener=_,o.addEventListener)se||(z=ie),z===void 0&&(z=!1),o.addEventListener(m.toString(),A,z);else if(o.attachEvent)o.attachEvent(Ca(m.toString()),A);else if(o.addListener&&o.removeListener)o.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ra(){function o(_){return m.call(o.src,o.listener,_)}const m=Lc;return o}function wa(o,m,_,A,z){if(Array.isArray(m))for(var F=0;F<m.length;F++)wa(o,m[F],_,A,z);else A=y(A)?!!A.capture:!!A,_=vu(_),o&&o[dt]?(o=o.i,m=String(m).toString(),m in o.g&&(F=o.g[m],_=dn(F,_,A,z),-1<_&&(Fe(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete o.g[m],o.h--)))):o&&(o=js(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dn(m,_,A,z)),(_=-1<o?m[o]:null)&&zr(_))}function zr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[dt])ui(m.i,o);else{var _=o.type,A=o.proxy;m.removeEventListener?m.removeEventListener(_,A,o.capture):m.detachEvent?m.detachEvent(Ca(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=js(m))?(ui(_,o),_.h==0&&(_.src=null,m[ji]=null)):Fe(o)}}}function Ca(o){return o in qi?qi[o]:qi[o]="on"+o}function Lc(o,m){if(o.da)o=!0;else{m=new we(m,this);var _=o.listener,A=o.ha||o.src;o.fa&&zr(o),o=_.call(A,m)}return o}function js(o){return o=o[ji],o instanceof Kt?o:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(o){return typeof o=="function"?o:(o[en]||(o[en]=function(m){return o.handleEvent(m)}),o[en])}function vt(){he.call(this),this.i=new Kt(this),this.M=this,this.F=null}k(vt,he),vt.prototype[dt]=!0,vt.prototype.removeEventListener=function(o,m,_,A){wa(this,o,m,_,A)};function Ct(o,m){var _,A=o.F;if(A)for(_=[];A;A=A.F)_.push(A);if(o=o.M,A=m.type||m,typeof m=="string")m=new ae(m,o);else if(m instanceof ae)m.target=m.target||o;else{var z=m;m=new ae(A,o),R(m,z)}if(z=!0,_)for(var F=_.length-1;0<=F;F--){var ie=m.g=_[F];z=ci(ie,A,!0,m)&&z}if(ie=m.g=o,z=ci(ie,A,!0,m)&&z,z=ci(ie,A,!1,m)&&z,_)for(F=0;F<_.length;F++)ie=m.g=_[F],z=ci(ie,A,!1,m)&&z}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var _=o.g[m],A=0;A<_.length;A++)Fe(_[A]);delete o.g[m],o.h--}}this.F=null},vt.prototype.K=function(o,m,_,A){return this.i.add(String(o),m,!1,_,A)},vt.prototype.L=function(o,m,_,A){return this.i.add(String(o),m,!0,_,A)};function ci(o,m,_,A){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,F=0;F<m.length;++F){var ie=m[F];if(ie&&!ie.da&&ie.capture==_){var Oe=ie.listener,Tt=ie.ha||ie.src;ie.fa&&ui(o.i,ie),z=Oe.call(Tt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Eu(o,m,_){if(typeof o=="function")_&&(o=D(o,_));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function qs(o){o.g=Eu(()=>{o.g=null,o.i&&(o.i=!1,qs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Pc extends he{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(o){he.call(this),this.h=o,this.g={}}k(kr,he);var Hi=[];function qt(o){Se(o.g,function(m,_){this.g.hasOwnProperty(_)&&zr(m)},o),o.g={}}kr.prototype.N=function(){kr.aa.N.call(this),qt(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=g.JSON.stringify,qn=g.JSON.parse,Xt=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Gs(){}Gs.prototype.h=null;function Tu(o){return o.h||(o.h=o.i())}function Au(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){ae.call(this,"d")}k(Gi,ae);function xn(){ae.call(this,"c")}k(xn,ae);var mn={},Fi=null;function Da(){return Fi=Fi||new vt}mn.La="serverreachability";function Fs(o){ae.call(this,mn.La,o)}k(Fs,ae);function Qi(o){const m=Da();Ct(m,new Fs(m))}mn.STAT_EVENT="statevent";function Na(o,m){ae.call(this,mn.STAT_EVENT,o),this.stat=m}k(Na,ae);function ot(o){const m=Da();Ct(m,new Na(m,o))}mn.Ma="timingevent";function Su(o,m){ae.call(this,mn.Ma,o),this.size=m}k(Su,ae);function Yi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function bu(o,m,_,A,z,F){o.info(function(){if(o.g)if(F)for(var ie="",Oe=F.split("&"),Tt=0;Tt<Oe.length;Tt++){var Me=Oe[Tt].split("=");if(1<Me.length){var Vt=Me[0];Me=Me[1];var At=Vt.split("_");ie=2<=At.length&&At[1]=="type"?ie+(Vt+"="+Me+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+_+`
`+ie})}function Ru(o,m,_,A,z,F,ie){o.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+_+`
`+F+" "+ie})}function Xi(o,m,_,A){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dt(o,_)+(A?" "+A:"")})}function Gn(o,m){o.info(function(){return"TIMEOUT: "+m})}Ki.prototype.info=function(){};function Dt(o,m){if(!o.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(o=0;o<_.length;o++)if(Array.isArray(_[o])){var A=_[o];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return Hs(_)}catch{return m}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function Va(){}k(Va,Gs),Va.prototype.g=function(){return new XMLHttpRequest},Va.prototype.i=function(){return{}},Br=new Va;function Fn(o,m,_,A){this.j=o,this.i=m,this.l=_,this.R=A||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qs}function Qs(){this.i=null,this.g="",this.h=!1}var $i={},jr={};function On(o,m,_){o.L=1,o.v=Gr(at(m)),o.m=_,o.P=!0,hi(o,null)}function hi(o,m){o.F=Date.now(),et(o),o.A=at(o.v);var _=o.A,A=o.R;Array.isArray(A)||(A=[String(A)]),gi(_.i,"t",A),o.C=0,_=o.j.J,o.h=new Qs,o.g=ku(o.j,_?m:null,!o.m),0<o.O&&(o.M=new Pc(D(o.Y,o,o.g),o.O)),m=o.U,_=o.g,A=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Hi[0]=z.toString()),z=Hi);for(var F=0;F<z.length;F++){var ie=oi(_,z[F],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=o.H?w(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Qi(),bu(o.i,o.u,o.A,o.l,o.R,o.m)}Fn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},Fn.prototype.Y=function(o){try{if(o==this.g)e:{const At=vn(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||At!=4||m==7||(m==8||0>=vi?Qi(3):Qi(2)),Ia(this);var _=this.g.Z();this.X=_;t:if(Zi(this)){var A=Iu(this.g);o="";var z=A.length,F=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),an(this);var ie="";break t}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(A[m],{stream:!(F&&m==z-1)});A.length=0,this.h.g+=o,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Ru(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Tt=this.g;if((Oe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Oe)){var Me=Oe;break t}}Me=null}if(_=Me)Xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,_);else{this.o=!1,this.s=3,ot(12),tn(this),an(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<ie.length;)if(Ut=Ji(this,ie),Ut==jr){At==4&&(this.s=4,ot(14),_=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==$i){this.s=4,ot(15),Xi(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Xi(this.i,this.l,Ut,null),sn(this,Ut);if(Zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ie.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Xi(this.i,this.l,ie,"[Invalid Chunked Response]"),tn(this),an(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Zr(Vt),Vt.M=!0,ot(11))}}else Xi(this.i,this.l,ie,null),sn(this,ie);At==4&&tn(this),this.o&&!this.J&&(At==4?Lu(this.j,this):(this.o=!1,et(this)))}else Hc(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),tn(this),an(this)}}}catch{}finally{}};function Zi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Ji(o,m){var _=o.C,A=m.indexOf(`
`,_);return A==-1?jr:(_=Number(m.substring(_,A)),isNaN(_)?$i:(A+=1,A+_>m.length?jr:(m=m.slice(A,A+_),o.C=A+_,m)))}Fn.prototype.cancel=function(){this.J=!0,tn(this)};function et(o){o.S=Date.now()+o.I,Ys(o,o.I)}function Ys(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Yi(D(o.ba,o),m)}function Ia(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Fn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Gn(this.i,this.A),this.L!=2&&(Qi(),ot(17)),tn(this),this.s=2,an(this)):Ys(this,this.S-o)};function an(o){o.j.G==0||o.J||Lu(o.j,o)}function tn(o){Ia(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,qt(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var _=o.j;if(_.G!=0&&(_.g==o||Wi(_.h,o))){if(!o.K&&Wi(_.h,o)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<o.F)ja(_),ka(_);else break e;rl(_),ot(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yi(D(_.Za,_),6e3));if(1>=wu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _i(_,11)}else if((o.K||_.g==o)&&ja(_),!ne(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let Me=z[m];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const Vt=Me[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const At=Me[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const vi=Me[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ut=o.g;if(Ut){const Jn=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var F=A.h;F.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(er(F,F.h),F.h=null))}if(A.D){const sl=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(A.ya=sl,ke(A.I,A.D,sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-o.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=o;if(A.qa=zu(A,A.J?A.ia:null,A.W),ie.K){gn(A.h,ie);var Oe=ie,Tt=A.L;Tt&&(Oe.I=Tt),Oe.B&&(Ia(Oe),et(Oe)),A.g=ie}else Mu(A);0<_.i.length&&Ba(_)}else Me[0]!="stop"&&Me[0]!="close"||_i(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?_i(_,7):nl(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}Qi(4)}catch{}}var zc=class{constructor(o,m){this.g=o,this.map=m}};function Ks(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function wu(o){return o.h?1:o.g?o.g.size:0}function Wi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function er(o,m){o.g?o.g.add(m):o.h=m}function gn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ks.prototype.cancel=function(){if(this.i=$t(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function $t(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const _ of o.g.values())m=m.concat(_.D);return m}return Q(o.i)}function Cu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(p(o)){for(var m=[],_=o.length,A=0;A<_;A++)m.push(o[A]);return m}m=[],_=0;for(A in o)m[_++]=o[A];return m}function kc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(p(o)||typeof o=="string"){var m=[];o=o.length;for(var _=0;_<o;_++)m.push(_);return m}m=[],_=0;for(const A in o)m[_++]=A;return m}}}function qr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(p(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var _=kc(o),A=Cu(o),z=A.length,F=0;F<z;F++)m.call(void 0,A[F],_&&_[F],o)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(o,m){if(o){o=o.split("&");for(var _=0;_<o.length;_++){var A=o[_].indexOf("="),z=null;if(0<=A){var F=o[_].substring(0,A);z=o[_].substring(A+1)}else F=o[_];m(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function di(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof di){this.h=o.h,tr(this,o.j),this.o=o.o,this.g=o.g,Hr(this,o.s),this.l=o.l;var m=o.i,_=new Qn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Oa(this,_),this.m=o.m}else o&&(m=String(o).match($s))?(this.h=!1,tr(this,m[1]||"",!0),this.o=nr(m[2]||""),this.g=nr(m[3]||"",!0),Hr(this,m[4]),this.l=nr(m[5]||"",!0),Oa(this,m[6]||"",!0),this.m=nr(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}di.prototype.toString=function(){var o=[],m=this.j;m&&o.push(pn(m,Zs,!0),":");var _=this.g;return(_||m=="file")&&(o.push("//"),(m=this.o)&&o.push(pn(m,Zs,!0),"@"),o.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&o.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&o.push("/"),o.push(pn(_,_.charAt(0)=="/"?Js:Du,!0))),(_=this.i.toString())&&o.push("?",_),(_=this.m)&&o.push("#",pn(_,qc)),o.join("")};function at(o){return new di(o)}function tr(o,m,_){o.j=_?nr(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Hr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Oa(o,m,_){m instanceof Qn?(o.i=m,Ws(o.i,o.h)):(_||(m=pn(m,jc)),o.i=new Qn(m,o.h))}function ke(o,m,_){o.i.set(m,_)}function Gr(o){return ke(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function nr(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pn(o,m,_){return typeof o=="string"?(o=encodeURI(o).replace(m,Bc),_&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Bc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Zs=/[#\/\?@]/g,Du=/[#\?:]/g,Js=/[#\?]/g,jc=/[#\?@]/g,qc=/#/g;function Qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&xa(o.i,function(m,_){o.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=Qn.prototype,a.add=function(o,m){yn(this),this.i=null,o=pi(this,o);var _=this.g.get(o);return _||this.g.set(o,_=[]),_.push(m),this.h+=1,this};function Ma(o,m){yn(o),m=pi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function mi(o,m){return yn(o),m=pi(o,m),o.g.has(m)}a.forEach=function(o,m){yn(this),this.g.forEach(function(_,A){_.forEach(function(z){o.call(m,z,A,this)},this)},this)},a.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const z=o[A];for(let F=0;F<z.length;F++)_.push(m[A])}return _},a.V=function(o){yn(this);let m=[];if(typeof o=="string")mi(this,o)&&(m=m.concat(this.g.get(pi(this,o))));else{o=Array.from(this.g.values());for(let _=0;_<o.length;_++)m=m.concat(o[_])}return m},a.set=function(o,m){return yn(this),this.i=null,o=pi(this,o),mi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function gi(o,m,_){Ma(o,m),0<_.length&&(o.i=null,o.g.set(pi(o,m),Q(_)),o.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const F=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var z=F;ie[A]!==""&&(z+="="+encodeURIComponent(String(ie[A]))),o.push(z)}}return this.i=o.join("&")};function pi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Ws(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(Ma(this,A),gi(this,z,_))},o)),o.j=m}function Nu(o,m){const _=new Ki;if(g.Image){const A=new Image;A.onload=x(_n,_,"TestLoadImage: loaded",!0,m,A),A.onerror=x(_n,_,"TestLoadImage: error",!1,m,A),A.onabort=x(_n,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=x(_n,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=o}else m(!1)}function Fr(o,m){const _=new Ki,A=new AbortController,z=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:A.signal}).then(F=>{clearTimeout(z),F.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),_n(_,"TestPingServer: error",!1,m)})}function _n(o,m,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Qr(){this.g=new Xt}function Yn(o,m,_){const A=_||"";try{qr(o,function(z,F){let ie=z;y(z)&&(ie=Hs(z)),m.push(A+F+"="+encodeURIComponent(ie))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function ir(o){this.l=o.Ub||null,this.j=o.eb||!1}k(ir,Gs),ir.prototype.g=function(){return new yi(this.l,this.j)},ir.prototype.i=function(o){return function(){return o}}({});function yi(o,m){vt.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(yi,vt),a=yi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Xn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Kn(this):Xn(this),this.readyState==3&&el(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Kn(this))},a.Qa=function(o){this.g&&(this.response=o,Kn(this))},a.ga=function(){this.g&&Kn(this)};function Kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Xn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,o.push(_[0]+": "+_[1]),_=m.next();return o.join(`\r
`)};function Xn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function tl(o){let m="";return Se(o,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Nt(o,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=tl(_),typeof o=="string"?_!=null&&encodeURIComponent(String(_)):ke(o,m,_))}function He(o){vt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(He,vt);var Ua=/^https?$/i,Yr=["POST","PUT"];a=He.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?Tu(this.o):Tu(Br),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(F){Vu(this,F);return}if(o=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Yr,m,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of _)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(o),this.u=!1}catch(F){Vu(this,F)}};function Vu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,La(o),$n(o)}function La(o){o.A||(o.A=!0,Ct(o,"complete"),Ct(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ct(this,"complete"),Ct(this,"abort"),$n(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),He.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},a.bb=function(){Pa(this)};function Pa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)Eu(o.Ea,0,o);else if(Ct(o,"readystatechange"),vn(o)==4){o.h=!1;try{const ie=o.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=ie===0){var z=String(o.D).match($s)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!Ua.test(z?z.toLowerCase():"")}_=A}if(_)Ct(o,"complete"),Ct(o,"success");else{o.m=6;try{var F=2<vn(o)?o.g.statusText:""}catch{F=""}o.l=F+" ["+o.Z()+"]",La(o)}}finally{$n(o)}}}}function $n(o,m){if(o.g){Kr(o);const _=o.g,A=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ct(o,"ready");try{_.onreadystatechange=A}catch{}}}function Kr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),qn(m)}};function Iu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Hc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<o.length;A++){if(ne(o[A]))continue;var _=M(o[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[z]||[];m[z]=F,F.push(_)}O(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(o,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[o]||m}function za(o){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,o),this.cb=Xr("retryDelaySeedMs",1e4,o),this.Wa=Xr("forwardChannelMaxRetries",2,o),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(o&&o.concurrentRequestLimit),this.Da=new Qr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=za.prototype,a.la=8,a.G=1,a.connect=function(o,m,_,A){ot(0),this.W=o,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=zu(this,null,this.W),Ba(this)};function nl(o){if(xu(o),o.G==3){var m=o.U++,_=at(o.I);if(ke(_,"SID",o.K),ke(_,"RID",m),ke(_,"TYPE","terminate"),$r(o,_),m=new Fn(o,o.j,m),m.L=2,m.v=Gr(at(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=ku(m.j,null),m.g.ea(m.v)),m.F=Date.now(),et(m)}Pu(o)}function ka(o){o.g&&(Zr(o),o.g.cancel(),o.g=null)}function xu(o){ka(o),o.u&&(g.clearTimeout(o.u),o.u=null),ja(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ba(o){if(!Xs(o.h)&&!o.s){o.s=!0;var m=o.Ga;_e||V(),me||(_e(),me=!0),qe.add(m,o),o.B=0}}function Gc(o,m){return wu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Yi(D(o.Ga,o,m),al(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Fn(this,this.j,o);let F=this.o;if(this.S&&(F?(F=w(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Ou(this,z,m),_=at(this.I),ke(_,"RID",o),ke(_,"CVER",22),this.D&&ke(_,"X-HTTP-Session-Id",this.D),$r(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(tl(F)))+"&"+m:this.m&&Nt(_,this.m,F)),er(this.h,z),this.Ua&&ke(_,"TYPE","init"),this.P?(ke(_,"$req",m),ke(_,"SID","null"),z.T=!0,On(z,_,null)):On(z,_,m),this.G=2}}else this.G==3&&(o?il(this,o):this.i.length==0||Xs(this.h)||il(this))};function il(o,m){var _;m?_=m.l:_=o.U++;const A=at(o.I);ke(A,"SID",o.K),ke(A,"RID",_),ke(A,"AID",o.T),$r(o,A),o.m&&o.o&&Nt(A,o.m,o.o),_=new Fn(o,o.j,_,o.B+1),o.m===null&&(_.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Ou(o,_,1e3),_.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),er(o.h,_),On(_,A,m)}function $r(o,m){o.H&&Se(o.H,function(_,A){ke(m,A,_)}),o.l&&qr({},function(_,A){ke(m,A,_)})}function Ou(o,m,_){_=Math.min(o.i.length,_);var A=o.l?D(o.l.Na,o.l,o):null;e:{var z=o.i;let F=-1;for(;;){const ie=["count="+_];F==-1?0<_?(F=z[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Oe=!0;for(let Tt=0;Tt<_;Tt++){let Me=z[Tt].g;const Vt=z[Tt].map;if(Me-=F,0>Me)F=Math.max(0,z[Tt].g-100),Oe=!1;else try{Yn(Vt,ie,"req"+Me+"_")}catch{A&&A(Vt)}}if(Oe){A=ie.join("&");break e}}}return o=o.i.splice(0,_),m.D=o,A}function Mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;_e||V(),me||(_e(),me=!0),qe.add(m,o),o.v=0}}function rl(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Yi(D(o.Fa,o),al(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Yi(D(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),ka(this),Uu(this))};function Zr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Uu(o){o.g=new Fn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=at(o.qa);ke(m,"RID","rpc"),ke(m,"SID",o.K),ke(m,"AID",o.T),ke(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&ke(m,"TO",o.ja),ke(m,"TYPE","xmlhttp"),$r(o,m),o.m&&o.o&&Nt(m,o.m,o.o),o.L&&(o.g.I=o.L);var _=o.g;o=o.ia,_.L=1,_.v=Gr(at(m)),_.m=null,_.P=!0,hi(_,o)}a.Za=function(){this.C!=null&&(this.C=null,ka(this),rl(this),ot(19))};function ja(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Lu(o,m){var _=null;if(o.g==m){ja(o),Zr(o),o.g=null;var A=2}else if(Wi(o.h,m))_=m.D,gn(o.h,m),A=1;else return;if(o.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;A=Da(),Ct(A,new Su(A,_)),Ba(o)}else Mu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&Gc(o,m)||A==2&&rl(o)))switch(_&&0<_.length&&(m=o.h,m.i=m.i.concat(_)),z){case 1:_i(o,5);break;case 4:_i(o,10);break;case 3:_i(o,6);break;default:_i(o,2)}}}function al(o,m){let _=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(_*=2),_*m}function _i(o,m){if(o.j.info("Error code "+m),m==2){var _=D(o.fb,o),A=o.Xa;const z=!A;A=new di(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||tr(A,"https"),Gr(A),z?Nu(A.toString(),_):Fr(A.toString(),_)}else ot(2);o.G=0,o.l&&o.l.sa(m),Pu(o),xu(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Pu(o){if(o.G=0,o.ka=[],o.l){const m=$t(o.h);(m.length!=0||o.i.length!=0)&&(H(o.ka,m),H(o.ka,o.i),o.h.i.length=0,Q(o.i),o.i.length=0),o.l.ra()}}function zu(o,m,_){var A=_ instanceof di?at(_):new di(_);if(A.g!="")m&&(A.g=m+"."+A.g),Hr(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var F=new di(null);A&&tr(F,A),m&&(F.g=m),z&&Hr(F,z),_&&(F.l=_),A=F}return _=o.D,m=o.ya,_&&m&&ke(A,_,m),ke(A,"VER",o.la),$r(o,A),A}function ku(o,m,_){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new He(new ir({eb:_})):new He(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}a=Bu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function qa(){}qa.prototype.g=function(o,m){return new Zt(o,m)};function Zt(o,m){vt.call(this),this.g=new za(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ne(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ne(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Zn(this)}k(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){nl(this.g)},Zt.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var _={};_.__data__=o,o=_}else this.u&&(_={},_.__data__=Hs(o),o=_);m.i.push(new zc(m.Ya++,o)),m.G==3&&Ba(m)},Zt.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,Zt.aa.N.call(this)};function ju(o){Gi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){e:{for(const _ in m){o=_;break e}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}k(ju,Gi);function qu(){xn.call(this),this.status=1}k(qu,xn);function Zn(o){this.g=o}k(Zn,Bu),Zn.prototype.ua=function(){Ct(this.g,"a")},Zn.prototype.ta=function(o){Ct(this.g,new ju(o))},Zn.prototype.sa=function(o){Ct(this.g,new qu)},Zn.prototype.ra=function(){Ct(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,vv=function(){return new qa},_v=function(){return Da()},yv=mn,sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Xo=Et,fi.COMPLETE="complete",pv=fi,Au.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Xl=Au,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,gv=He}).apply(typeof qo<"u"?qo:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Fy="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new uv("@firebase/firestore");function gs(){return _a.logLevel}function le(a,...t){if(_a.logLevel<=Pe.DEBUG){const i=t.map(Ld);_a.debug(`Firestore (${Us}): ${a}`,...i)}}function ki(a,...t){if(_a.logLevel<=Pe.ERROR){const i=t.map(Ld);_a.error(`Firestore (${Us}): ${a}`,...i)}}function As(a,...t){if(_a.logLevel<=Pe.WARN){const i=t.map(Ld);_a.warn(`Firestore (${Us}): ${a}`,...i)}}function Ld(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a="Unexpected state"){const t=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: `+a;throw ki(t),new Error(t)}function Ge(a,t){a||ve()}function Ae(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ms{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Hb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Qt.UNAUTHENTICATED))}shutdown(){}}class Gb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Fb{constructor(t){this.t=t,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ge(this.o===void 0);let s=this.i;const u=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let f=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Li,t.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const p=f;t.enqueueRetryable(async()=>{await p.promise,await u(this.currentUser)})},g=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Li)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new Ev(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ge(t===null||typeof t=="string"),new Qt(t)}}class Qb{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yb{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new Qb(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kb{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wb(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Ge(this.o===void 0);const s=f=>{f.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const u=f=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ge(typeof i.token=="string"),this.R=i.token,new Qy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=Xb(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+=t.charAt(u[f]%62))}return s}}function Ve(a,t){return a<t?-1:a>t?1:0}function ud(a,t){const i=ld().encode(a),s=ld().encode(t);for(let u=0;u<Math.min(i.length,s.length);u++){const f=Ve(i[u],s[u]);if(f!==0)return f}return Ve(i.length,s.length)}function Ss(a,t,i){return a.length===t.length&&a.every((s,u)=>i(s,t[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-62135596800,Ky=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(t){return Rt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Ky);return new Rt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Yy)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ky}_compareTo(t){return this.seconds===t.seconds?Ve(this.nanoseconds,t.nanoseconds):Ve(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Yy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(t){return new Ee(t)}static min(){return new Ee(new Rt(0,0))}static max(){return new Ee(new Rt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class ri{constructor(t,i,s){i===void 0?i=0:i>t.length&&ve(),s===void 0?s=t.length-i:s>t.length-i&&ve(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const f=ri.compareSegments(t.get(u),i.get(u));if(f!==0)return f}return Ve(t.length,i.length)}static compareSegments(t,i){const s=ri.isNumericId(t),u=ri.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?ri.extractNumericId(t).compare(ri.extractNumericId(i)):ud(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Dr.fromString(t.substring(4,t.length-2))}}class Ze extends ri{construct(t,i,s){return new Ze(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Ze(i)}static emptyPath(){return new Ze([])}}const $b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ri{construct(t,i,s){return new Bt(t,i,s)}static isValidIdentifier(t){return $b.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new Bt([Xy])}static fromServerFormat(t){const i=[];let s="",u=0;const f=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<t.length;){const g=t[u];if(g==="\\"){if(u+1===t.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[u+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(f(),u++)}if(f(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bt(i)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.path=t}static fromPath(t){return new ge(Ze.fromString(t))}static fromName(t){return new ge(Ze.fromString(t).popFirst(5))}static empty(){return new ge(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ze.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ze.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ge(new Ze(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function Zb(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Ee.fromTimestamp(s===1e9?new Rt(i+1,0):new Rt(i,s));return new Ir(u,ge.empty(),t)}function Jb(a){return new Ir(a.readTime,a.key,su)}class Ir{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ir(Ee.min(),ge.empty(),su)}static max(){return new Ir(Ee.max(),ge.empty(),su)}}function Wb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ge.comparator(a.documentKey,t.documentKey),i!==0?i:Ve(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==eR)throw a;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Z.reject(i)}static resolve(t){return new Z((i,s)=>{i(t)})}static reject(t){return new Z((i,s)=>{s(t)})}static waitFor(t){return new Z((i,s)=>{let u=0,f=0,d=!1;t.forEach(g=>{++u,g.next(()=>{++f,d&&f===u&&i()},p=>s(p))}),d=!0,f===u&&i()})}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next(u=>u?Z.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(t,i){return new Z((s,u)=>{const f=t.length,d=new Array(f);let g=0;for(let p=0;p<f;p++){const y=p;i(t[y]).next(E=>{d[y]=E,++g,g===f&&s(d)},E=>u(E))}})}static doWhile(t,i){return new Z((s,u)=>{const f=()=>{t()===!0?i().next(()=>{f()},u):s()};f()})}}function nR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ps(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Tc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function Ac(a){return a==null}function ac(a){return a===0&&1/a==-1/0}function iR(a){return typeof a=="number"&&Number.isInteger(a)&&!ac(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="";function rR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=$y(t)),t=aR(a.get(i),t);return $y(t)}function aR(a,t){let i=t;const s=a.length;for(let u=0;u<s;u++){const f=a.charAt(u);switch(f){case"\0":i+="";break;case Av:i+="";break;default:i+=f}}return i}function $y(a){return a+Av+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ta(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function Sv(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t,i){this.comparator=t,this.root=i||kt.EMPTY}insert(t,i){return new it(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(t){return new it(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kt.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ho(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ho(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ho(this.root,t,this.comparator,!0)}}class Ho{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=i?s(t.key,i):1,i&&u&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(f===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kt{constructor(t,i,s,u,f){this.key=t,this.value=i,this.color=s??kt.RED,this.left=u??kt.EMPTY,this.right=f??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,f){return new kt(t??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const f=s(t,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(t,i,s),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(t,u.key)===0){if(u.right.isEmpty())return kt.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const t=this.left.check();if(t!==this.right.check())throw ve();return t+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(t,i,s,u,f){return this}insert(t,i,s){return new kt(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.comparator=t,this.data=new it(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Jy(this.data.getIterator())}getIteratorFrom(t){return new Jy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof wt)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new wt(this.comparator);return i.data=t,i}}class Jy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(Bt.comparator)}static empty(){return new zn([])}unionWith(t){let i=new wt(Bt.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ss(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new bv("Invalid base64 string: "+f):f}}(t);return new jt(i)}static fromUint8Array(t){const i=function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f}(t);return new jt(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ve(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const sR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(a){if(Ge(!!a),typeof a=="string"){let t=0;const i=sR.exec(a);if(Ge(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ft(a.seconds),nanos:ft(a.nanos)}}function ft(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Or(a){return typeof a=="string"?jt.fromBase64String(a):jt.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="server_timestamp",wv="__type__",Cv="__previous_value__",Dv="__local_write_time__";function zd(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[wv])===null||i===void 0?void 0:i.stringValue)===Rv}function Sc(a){const t=a.mapValue.fields[Cv];return zd(t)?Sc(t):t}function lu(a){const t=xr(a.mapValue.fields[Dv].timestampValue);return new Rt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,i,s,u,f,d,g,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const sc="(default)";class uu{constructor(t,i){this.projectId=t,this.database=i||sc}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===sc}isEqual(t){return t instanceof uu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__type__",uR="__max__",Go={mapValue:{}},Vv="__vector__",lc="value";function Mr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?zd(a)?4:cR(a)?9007199254740991:oR(a)?10:11:ve()}function li(a,t){if(a===t)return!0;const i=Mr(a);if(i!==Mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return lu(a).isEqual(lu(t));case 3:return function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=xr(u.timestampValue),g=xr(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(u,f){return Or(u.bytesValue).isEqual(Or(f.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(u,f){return ft(u.geoPointValue.latitude)===ft(f.geoPointValue.latitude)&&ft(u.geoPointValue.longitude)===ft(f.geoPointValue.longitude)}(a,t);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return ft(u.integerValue)===ft(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=ft(u.doubleValue),g=ft(f.doubleValue);return d===g?ac(d)===ac(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Ss(a.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return function(u,f){const d=u.mapValue.fields||{},g=f.mapValue.fields||{};if(Zy(d)!==Zy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!li(d[p],g[p])))return!1;return!0}(a,t);default:return ve()}}function ou(a,t){return(a.values||[]).find(i=>li(i,t))!==void 0}function bs(a,t){if(a===t)return 0;const i=Mr(a),s=Mr(t);if(i!==s)return Ve(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(a.booleanValue,t.booleanValue);case 2:return function(f,d){const g=ft(f.integerValue||f.doubleValue),p=ft(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,t);case 3:return Wy(a.timestampValue,t.timestampValue);case 4:return Wy(lu(a),lu(t));case 5:return ud(a.stringValue,t.stringValue);case 6:return function(f,d){const g=Or(f),p=Or(d);return g.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(f,d){const g=f.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Ve(g[y],p[y]);if(E!==0)return E}return Ve(g.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(f,d){const g=Ve(ft(f.latitude),ft(d.latitude));return g!==0?g:Ve(ft(f.longitude),ft(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return e_(a.arrayValue,t.arrayValue);case 10:return function(f,d){var g,p,y,E;const b=f.fields||{},D=d.fields||{},x=(g=b[lc])===null||g===void 0?void 0:g.arrayValue,k=(p=D[lc])===null||p===void 0?void 0:p.arrayValue,Q=Ve(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:e_(x,k)}(a.mapValue,t.mapValue);case 11:return function(f,d){if(f===Go.mapValue&&d===Go.mapValue)return 0;if(f===Go.mapValue)return 1;if(d===Go.mapValue)return-1;const g=f.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const D=ud(p[b],E[b]);if(D!==0)return D;const x=bs(g[p[b]],y[E[b]]);if(x!==0)return x}return Ve(p.length,E.length)}(a.mapValue,t.mapValue);default:throw ve()}}function Wy(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ve(a,t);const i=xr(a),s=xr(t),u=Ve(i.seconds,s.seconds);return u!==0?u:Ve(i.nanos,s.nanos)}function e_(a,t){const i=a.values||[],s=t.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=bs(i[u],s[u]);if(f)return f}return Ve(i.length,s.length)}function Rs(a){return od(a)}function od(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=xr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Or(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ge.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=od(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of s)f?f=!1:u+=",",u+=`${d}:${od(i.fields[d])}`;return u+"}"}(a.mapValue):ve()}function $o(a){switch(Mr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sc(a);return t?16+$o(t):16;case 5:return 2*a.stringValue.length;case 6:return Or(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,f)=>u+$o(f),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return Ta(s.fields,(f,d)=>{u+=f.length+$o(d)}),u}(a.mapValue);default:throw ve()}}function t_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function cd(a){return!!a&&"integerValue"in a}function kd(a){return!!a&&"arrayValue"in a}function n_(a){return!!a&&"nullValue"in a}function i_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Zo(a){return!!a&&"mapValue"in a}function oR(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nv])===null||i===void 0?void 0:i.stringValue)===Vv}function Wl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Ta(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Wl(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Wl(a.arrayValue.values[i]);return t}return Object.assign({},a)}function cR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Zo(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wl(i)}setAll(t){let i=Bt.emptyPath(),s={},u=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Wl(d):u.push(g.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(t){const i=this.field(t.popLast());Zo(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];Zo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){Ta(i,(u,f)=>t[u]=f);for(const u of s)delete t[u]}clone(){return new Vn(Wl(this.value))}}function Iv(a){const t=[];return Ta(a.fields,(i,s)=>{const u=new Bt([i]);if(Zo(s)){const f=Iv(s.mapValue).fields;if(f.length===0)t.push(u);else for(const d of f)t.push(u.child(d))}else t.push(u)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,i,s,u,f,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Yt(t,0,Ee.min(),Ee.min(),Ee.min(),Vn.empty(),0)}static newFoundDocument(t,i,s,u){return new Yt(t,1,i,Ee.min(),s,u,0)}static newNoDocument(t,i){return new Yt(t,2,i,Ee.min(),Ee.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Yt(t,3,i,Ee.min(),Ee.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Yt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,i){this.position=t,this.inclusive=i}}function r_(a,t,i){let s=0;for(let u=0;u<a.position.length;u++){const f=t[u],d=a.position[u];if(f.field.isKeyField()?s=ge.comparator(ge.fromName(d.referenceValue),i.key):s=bs(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function a_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!li(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,i="asc"){this.field=t,this.dir=i}}function fR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{}class _t extends xv{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new dR(t,i,s):i==="array-contains"?new pR(t,s):i==="in"?new yR(t,s):i==="not-in"?new _R(t,s):i==="array-contains-any"?new vR(t,s):new _t(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new mR(t,s):new gR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(bs(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends xv{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new kn(t,i)}matches(t){return Ov(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ov(a){return a.op==="and"}function Mv(a){return hR(a)&&Ov(a)}function hR(a){for(const t of a.filters)if(t instanceof kn)return!1;return!0}function fd(a){if(a instanceof _t)return a.field.canonicalString()+a.op.toString()+Rs(a.value);if(Mv(a))return a.filters.map(t=>fd(t)).join(",");{const t=a.filters.map(i=>fd(i)).join(",");return`${a.op}(${t})`}}function Uv(a,t){return a instanceof _t?function(s,u){return u instanceof _t&&s.op===u.op&&s.field.isEqual(u.field)&&li(s.value,u.value)}(a,t):a instanceof kn?function(s,u){return u instanceof kn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((f,d,g)=>f&&Uv(d,u.filters[g]),!0):!1}(a,t):void ve()}function Lv(a){return a instanceof _t?function(i){return`${i.field.canonicalString()} ${i.op} ${Rs(i.value)}`}(a):a instanceof kn?function(i){return i.op.toString()+" {"+i.getFilters().map(Lv).join(" ,")+"}"}(a):"Filter"}class dR extends _t{constructor(t,i,s){super(t,i,s),this.key=ge.fromName(s.referenceValue)}matches(t){const i=ge.comparator(t.key,this.key);return this.matchesComparison(i)}}class mR extends _t{constructor(t,i){super(t,"in",i),this.keys=Pv("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class gR extends _t{constructor(t,i){super(t,"not-in",i),this.keys=Pv("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Pv(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ge.fromName(s.referenceValue))}class pR extends _t{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return kd(i)&&ou(i.arrayValue,this.value)}}class yR extends _t{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class _R extends _t{constructor(t,i){super(t,"not-in",i)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!ou(this.value.arrayValue,i)}}class vR extends _t{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,i=null,s=[],u=[],f=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=d,this.endAt=g,this.le=null}}function s_(a,t=null,i=[],s=[],u=null,f=null,d=null){return new ER(a,t,i,s,u,f,d)}function Bd(a){const t=Ae(a);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>fd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),Ac(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Rs(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Rs(s)).join(",")),t.le=i}return t.le}function jd(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!fR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Uv(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!a_(a.startAt,t.startAt)&&a_(a.endAt,t.endAt)}function hd(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,i=null,s=[],u=[],f=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TR(a,t,i,s,u,f,d,g){return new mu(a,t,i,s,u,f,d,g)}function qd(a){return new mu(a)}function l_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function zv(a){return a.collectionGroup!==null}function eu(a){const t=Ae(a);if(t.he===null){t.he=[];const i=new Set;for(const f of t.explicitOrderBy)t.he.push(f),i.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new wt(Bt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||t.he.push(new oc(f,s))}),i.has(Bt.keyField().canonicalString())||t.he.push(new oc(Bt.keyField(),s))}return t.he}function ai(a){const t=Ae(a);return t.Pe||(t.Pe=AR(t,eu(a))),t.Pe}function AR(a,t){if(a.limitType==="F")return s_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(u=>{const f=u.dir==="desc"?"asc":"desc";return new oc(u.field,f)});const i=a.endAt?new uc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new uc(a.startAt.position,a.startAt.inclusive):null;return s_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function dd(a,t){const i=a.filters.concat([t]);return new mu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function md(a,t,i){return new mu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function bc(a,t){return jd(ai(a),ai(t))&&a.limitType===t.limitType}function kv(a){return`${Bd(ai(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Lv(u)).join(", ")}]`),Ac(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Rs(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Rs(u)).join(",")),`Target(${s})`}(ai(a))}; limitType=${a.limitType})`}function Rc(a,t){return t.isFoundDocument()&&function(s,u){const f=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ge.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,t)&&function(s,u){for(const f of eu(s))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0}(a,t)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(a,t)&&function(s,u){return!(s.startAt&&!function(d,g,p){const y=r_(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,eu(s),u)||s.endAt&&!function(d,g,p){const y=r_(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,eu(s),u))}(a,t)}function SR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Bv(a){return(t,i)=>{let s=!1;for(const u of eu(a)){const f=bR(u,t,i);if(f!==0)return f;s=s||u.field.isKeyField()}return 0}}function bR(a,t,i){const s=a.field.isKeyField()?ge.comparator(t.key,i.key):function(f,d,g){const p=d.data.field(f),y=g.data.field(f);return p!==null&&y!==null?bs(p,y):ve()}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[u,f]of s)if(this.equalsFn(u,t))return f}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(u===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],t))return void(u[f]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Ta(this.inner,(i,s)=>{for(const[u,f]of s)t(u,f)})}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new it(ge.comparator);function Bi(){return RR}const jv=new it(ge.comparator);function $l(...a){let t=jv;for(const i of a)t=t.insert(i.key,i);return t}function qv(a){let t=jv;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function ya(){return tu()}function Hv(){return tu()}function tu(){return new Aa(a=>a.toString(),(a,t)=>a.isEqual(t))}const wR=new it(ge.comparator),CR=new wt(ge.comparator);function Ie(...a){let t=CR;for(const i of a)t=t.add(i);return t}const DR=new wt(Ve);function NR(){return DR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(t)?"-0":t}}function Gv(a){return{integerValue:""+a}}function VR(a,t){return iR(t)?Gv(t):Hd(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function IR(a,t,i){return a instanceof cc?function(u,f){const d={fields:{[wv]:{stringValue:Rv},[Dv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&zd(f)&&(f=Sc(f)),f&&(d.fields[Cv]=f),{mapValue:d}}(i,t):a instanceof cu?Qv(a,t):a instanceof fu?Yv(a,t):function(u,f){const d=Fv(u,f),g=u_(d)+u_(u.Ie);return cd(d)&&cd(u.Ie)?Gv(g):Hd(u.serializer,g)}(a,t)}function xR(a,t,i){return a instanceof cu?Qv(a,t):a instanceof fu?Yv(a,t):i}function Fv(a,t){return a instanceof fc?function(s){return cd(s)||function(f){return!!f&&"doubleValue"in f}(s)}(t)?t:{integerValue:0}:null}class cc extends wc{}class cu extends wc{constructor(t){super(),this.elements=t}}function Qv(a,t){const i=Kv(t);for(const s of a.elements)i.some(u=>li(u,s))||i.push(s);return{arrayValue:{values:i}}}class fu extends wc{constructor(t){super(),this.elements=t}}function Yv(a,t){let i=Kv(t);for(const s of a.elements)i=i.filter(u=>!li(u,s));return{arrayValue:{values:i}}}class fc extends wc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function u_(a){return ft(a.integerValue||a.doubleValue)}function Kv(a){return kd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function OR(a,t){return a.field.isEqual(t.field)&&function(s,u){return s instanceof cu&&u instanceof cu||s instanceof fu&&u instanceof fu?Ss(s.elements,u.elements,li):s instanceof fc&&u instanceof fc?li(s.Ie,u.Ie):s instanceof cc&&u instanceof cc}(a.transform,t.transform)}class MR{constructor(t,i){this.version=t,this.transformResults=i}}class Pi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jo(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Cc{}function Xv(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Zv(a.key,Pi.none()):new gu(a.key,a.data,Pi.none());{const i=a.data,s=Vn.empty();let u=new wt(Bt.comparator);for(let f of t.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),u=u.add(f)}return new Sa(a.key,s,new zn(u.toArray()),Pi.none())}}function UR(a,t,i){a instanceof gu?function(u,f,d){const g=u.value.clone(),p=c_(u.fieldTransforms,f,d.transformResults);g.setAll(p),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Sa?function(u,f,d){if(!Jo(u.precondition,f))return void f.convertToUnknownDocument(d.version);const g=c_(u.fieldTransforms,f,d.transformResults),p=f.data;p.setAll($v(u)),p.setAll(g),f.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,t,i):function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function nu(a,t,i,s){return a instanceof gu?function(f,d,g,p){if(!Jo(f.precondition,d))return g;const y=f.value.clone(),E=f_(f.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,t,i,s):a instanceof Sa?function(f,d,g,p){if(!Jo(f.precondition,d))return g;const y=f_(f.fieldTransforms,p,d),E=d.data;return E.setAll($v(f)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(b=>b.field))}(a,t,i,s):function(f,d,g){return Jo(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function LR(a,t){let i=null;for(const s of a.fieldTransforms){const u=t.data.field(s.field),f=Fv(s.transform,u||null);f!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,f))}return i||null}function o_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Ss(s,u,(f,d)=>OR(f,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class gu extends Cc{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sa extends Cc{constructor(t,i,s,u,f=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function $v(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function c_(a,t,i){const s=new Map;Ge(a.length===i.length);for(let u=0;u<i.length;u++){const f=a[u],d=f.transform,g=t.data.field(f.field);s.set(f.field,xR(d,g,i[u]))}return s}function f_(a,t,i){const s=new Map;for(const u of a){const f=u.transform,d=i.data.field(u.field);s.set(u.field,IR(f,d,t))}return s}class Zv extends Cc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PR extends Cc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(t.key)&&UR(f,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=nu(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=nu(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Hv();return this.mutations.forEach(u=>{const f=t.get(u.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(u.key)?null:g;const p=Xv(d,g);p!==null&&s.set(u.key,p),d.isValidDocument()||d.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ie())}isEqual(t){return this.batchId===t.batchId&&Ss(this.mutations,t.mutations,(i,s)=>o_(i,s))&&Ss(this.baseMutations,t.baseMutations,(i,s)=>o_(i,s))}}class Gd{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){Ge(t.mutations.length===s.length);let u=function(){return wR}();const f=t.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,s[d].version);return new Gd(t,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Le;function jR(a){switch(a){case J.OK:return ve();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve()}}function Jv(a){if(a===void 0)return ki("GRPC error has no .code"),J.UNKNOWN;switch(a){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return ve()}}(Le=yt||(yt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Dr([4294967295,4294967295],0);function h_(a){const t=ld().encode(a),i=new mv;return i.update(t),new Uint8Array(i.digest())}function d_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new Dr([i,s],0),new Dr([u,f],0)]}class Fd{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Dr.fromNumber(this.Ee)}Ae(t,i,s){let u=t.add(i.multiply(Dr.fromNumber(s)));return u.compare(qR)===1&&(u=new Dr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=h_(t),[s,u]=d_(i);for(let f=0;f<this.hashCount;f++){const d=this.Ae(s,u,f);if(!this.Re(d))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),d=new Fd(f,u,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=h_(t),[s,u]=d_(i);for(let f=0;f<this.hashCount;f++){const d=this.Ae(s,u,f);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i,s,u,f){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,pu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Dc(Ee.min(),u,new it(Ve),Bi(),Ie())}}class pu{constructor(t,i,s,u,f){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new pu(s,i,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,i,s,u){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=u}}class Wv{constructor(t,i){this.targetId=t,this.ge=i}}class eE{constructor(t,i,s=jt.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class m_{constructor(){this.pe=0,this.ye=g_(),this.we=jt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ie(),i=Ie(),s=Ie();return this.ye.forEach((u,f)=>{switch(f){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:ve()}}),new pu(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=g_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Bi(),this.$e=Fo(),this.Ue=Fo(),this.Ke=new it(Ve)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:ve()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,u)=>{this.Je(u)&&i(u)})}Ze(t){const i=t.targetId,s=t.ge.count,u=this.Xe(i);if(u){const f=u.target;if(hd(f))if(s===0){const d=new ge(f.path);this.ze(i,d,Yt.newNoDocument(d,Ee.min()))}else Ge(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let d,g;try{d=Or(s).toUint8Array()}catch(p){if(p instanceof bv)return As("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Fd(d,u,f)}catch(p){return As(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,f,null),u++)}),u}ot(t){const i=new Map;this.qe.forEach((f,d)=>{const g=this.Xe(d);if(g){if(f.current&&hd(g.target)){const p=new ge(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Yt.newNoDocument(p,t))}f.ve&&(i.set(d,f.Fe()),f.Me())}});let s=Ie();this.Ue.forEach((f,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(f))}),this.Qe.forEach((f,d)=>d.setReadTime(t));const u=new Dc(t,i,this.Ke,this.Qe,s);return this.Qe=Bi(),this.$e=Fo(),this.Ue=Fo(),this.Ke=new it(Ve),u}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const u=this.He(t);this.ut(t,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new m_,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new wt(Ve),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new wt(Ve),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||le("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new m_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Fo(){return new it(ge.comparator)}function g_(){return new it(ge.comparator)}const GR={asc:"ASCENDING",desc:"DESCENDING"},FR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QR={and:"AND",or:"OR"};class YR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gd(a,t){return a.useProto3Json||Ac(t)?t:{value:t}}function hc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function KR(a,t){return hc(a,t.toTimestamp())}function si(a){return Ge(!!a),Ee.fromTimestamp(function(i){const s=xr(i);return new Rt(s.seconds,s.nanos)}(a))}function Qd(a,t){return pd(a,t).canonicalString()}function pd(a,t){const i=function(u){return new Ze(["projects",u.projectId,"databases",u.database])}(a).child("documents");return t===void 0?i:i.child(t)}function nE(a){const t=Ze.fromString(a);return Ge(lE(t)),t}function yd(a,t){return Qd(a.databaseId,t.path)}function Kh(a,t){const i=nE(t);if(i.get(1)!==a.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ge(rE(i))}function iE(a,t){return Qd(a.databaseId,t)}function XR(a){const t=nE(a);return t.length===4?Ze.emptyPath():rE(t)}function _d(a){return new Ze(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function rE(a){return Ge(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function p_(a,t,i){return{name:yd(a,t),fields:i.value.mapValue.fields}}function $R(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve()}(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],f=function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string"),jt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),jt.fromUint8Array(E||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(y){const E=y.code===void 0?J.UNKNOWN:Jv(y.code);return new ue(E,y.message||"")}(d);i=new eE(s,u,f,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const u=Kh(a,s.document.name),f=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):Ee.min(),g=new Vn({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(u,f,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Wo(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const u=Kh(a,s.document),f=s.readTime?si(s.readTime):Ee.min(),d=Yt.newNoDocument(u,f),g=s.removedTargetIds||[];i=new Wo([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const u=Kh(a,s.document),f=s.removedTargetIds||[];i=new Wo([],f,u,null)}else{if(!("filter"in t))return ve();{t.filter;const s=t.filter;s.targetId;const{count:u=0,unchangedNames:f}=s,d=new BR(u,f),g=s.targetId;i=new Wv(g,d)}}return i}function ZR(a,t){let i;if(t instanceof gu)i={update:p_(a,t.key,t.value)};else if(t instanceof Zv)i={delete:yd(a,t.key)};else if(t instanceof Sa)i={update:p_(a,t.key,t.data),updateMask:s1(t.fieldMask)};else{if(!(t instanceof PR))return ve();i={verify:yd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(f,d){const g=d.transform;if(g instanceof cc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof cu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof fu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw ve()}(0,s))),t.precondition.isNone||(i.currentDocument=function(u,f){return f.updateTime!==void 0?{updateTime:KR(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:ve()}(a,t.precondition)),i}function JR(a,t){return a&&a.length>0?(Ge(t!==void 0),a.map(i=>function(u,f){let d=u.updateTime?si(u.updateTime):si(f);return d.isEqual(Ee.min())&&(d=si(f)),new MR(d,u.transformResults||[])}(i,t))):[]}function WR(a,t){return{documents:[iE(a,t.path)]}}function e1(a,t){const i={structuredQuery:{}},s=t.path;let u;t.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=iE(a,u);const f=function(y){if(y.length!==0)return sE(kn.create(y,"and"))}(t.filters);f&&(i.structuredQuery.where=f);const d=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:ys(D.field),direction:i1(D.dir)}}(E))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:u}}function t1(a){let t=XR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ge(s===1);const E=i.from[0];E.allDescendants?u=E.collectionId:t=t.child(E.collectionId)}let f=[];i.where&&(f=function(b){const D=aE(b);return D instanceof kn&&Mv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(D=>function(k){return new oc(_s(k.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(b){let D;return D=typeof b=="object"?b.value:b,Ac(D)?null:D}(i.limit));let p=null;i.startAt&&(p=function(b){const D=!!b.before,x=b.values||[];return new uc(x,D)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const D=!b.before,x=b.values||[];return new uc(x,D)}(i.endAt)),TR(t,u,d,f,g,"F",p,y)}function n1(a,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function aE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_s(i.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=_s(i.unaryFilter.field);return _t.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=_s(i.unaryFilter.field);return _t.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return _t.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(a):a.fieldFilter!==void 0?function(i){return _t.create(_s(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return kn.create(i.compositeFilter.filters.map(s=>aE(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ve()}}(i.compositeFilter.op))}(a):ve()}function i1(a){return GR[a]}function r1(a){return FR[a]}function a1(a){return QR[a]}function ys(a){return{fieldPath:a.canonicalString()}}function _s(a){return Bt.fromServerFormat(a.fieldPath)}function sE(a){return a instanceof _t?function(i){if(i.op==="=="){if(i_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(n_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(n_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:r1(i.op),value:i.value}}}(a):a instanceof kn?function(i){const s=i.getFilters().map(u=>sE(u));return s.length===1?s[0]:{compositeFilter:{op:a1(i.op),filters:s}}}(a):ve()}function s1(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function lE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,i,s,u,f=Ee.min(),d=Ee.min(),g=jt.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.Tt=t}}function u1(a){const t=t1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.Tn=new c1}addToCollectionParentIndex(t,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Ir.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class c1{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new wt(Ze.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new wt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uE=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(uE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new ws(0)}static Kn(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",f1=1048576;function v_([a,t],[i,s]){const u=Ve(a,i);return u===0?Ve(t,s):u}class h1{constructor(t){this.Hn=t,this.buffer=new wt(v_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();v_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class d1{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){le(__,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ps(i)?le(__,"Ignoring IndexedDB error during garbage collection: ",i):await Ls(i)}await this.er(3e5)})}}class m1{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Tc.ae);const s=new h1(i);return this.tr.forEachTarget(t,u=>s.Zn(u.sequenceNumber)).next(()=>this.tr.rr(t,u=>s.Zn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(y_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,u,f,d,g,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(t,u))).next(b=>(s=b,g=Date.now(),this.removeTargets(t,s,i))).next(b=>(f=b,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),gs()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${f} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:b})))}}function g1(a,t){return new m1(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.changes=new Aa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Yt.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(s!==null&&nu(s.mutation,u,zn.empty(),Rt.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Ie()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Ie()){const u=ya();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(f=>{let d=$l();return f.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=ya();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Ie()))}populateOverlays(t,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(t,u).next(f=>{f.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,u){let f=Bi();const d=tu(),g=function(){return tu()}();return i.forEach((p,y)=>{const E=s.get(y.key);u.has(y.key)&&(E===void 0||E.mutation instanceof Sa)?f=f.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),nu(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):d.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(t,f).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var b;return g.set(y,new y1(E,(b=d.get(y))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(t,i){const s=tu();let u=new it((d,g)=>d-g),f=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||zn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const b=(u.get(g.batchId)||Ie()).add(p);u=u.insert(g.batchId,b)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,b=Hv();E.forEach(D=>{if(!f.has(D)){const x=Xv(i.get(D),s.get(D));x!==null&&b.set(D,x),f=f.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):zv(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u)}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-f.size):Z.resolve(ya());let g=su,p=f;return d.next(y=>Z.forEach(y,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),f.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(t,y,f)).next(()=>this.computeViews(t,p,y,Ie())).next(E=>({batchId:g,changes:qv(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ge(i)).next(s=>{let u=$l();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const f=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(t,f).next(g=>Z.forEach(g,p=>{const y=function(b,D){return new mu(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(f));return this.getDocumentsMatchingCollectionQuery(t,y,s,u).next(E=>{E.forEach((b,D)=>{d=d.insert(b,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,f,u))).next(d=>{f.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Yt.newInvalidDocument(E)))});let g=$l();return d.forEach((p,y)=>{const E=f.get(p);E!==void 0&&nu(E.mutation,y,zn.empty(),Rt.now()),Rc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:si(u.createTime)}}(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:u1(u.bundledQuery),readTime:si(u.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.overlays=new it(ge.comparator),this.Rr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=ya();return Z.forEach(i,u=>this.getOverlay(t,u).next(f=>{f!==null&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,f)=>{this.Et(t,i,f)}),Z.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.Rr.get(s);return u!==void 0&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const u=ya(),f=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===f&&p.largestBatchId>s&&u.set(p.getKey(),p)}return Z.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let f=new it((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=f.get(y.largestBatchId);E===null&&(E=ya(),f=f.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ya(),p=f.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=u)););return Z.resolve(g)}Et(t,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(s.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new kR(i,s));let f=this.Rr.get(i);f===void 0&&(f=Ie(),this.Rr.set(i,f)),this.Rr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Vr=new wt(Mt.mr),this.gr=new wt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Mt(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Mt(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new ge(new Ze([])),s=new Mt(i,t),u=new Mt(i,t+1),f=[];return this.gr.forEachInRange([s,u],d=>{this.wr(d),f.push(d.key)}),f}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new ge(new Ze([])),s=new Mt(i,t),u=new Mt(i,t+1);let f=Ie();return this.gr.forEachInRange([s,u],d=>{f=f.add(d.key)}),f}containsKey(t){const i=new Mt(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Mt{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return ge.comparator(t.key,i.key)||Ve(t.Cr,i.Cr)}static pr(t,i){return Ve(t.Cr,i.Cr)||ge.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Mt.mr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,u){const f=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zR(f,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Mt(g.key,f)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=this.Nr(s),f=u<0?0:u;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Pd:this.Fr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Mt(i,0),u=new Mt(i,Number.POSITIVE_INFINITY),f=[];return this.Mr.forEachInRange([s,u],d=>{const g=this.Or(d.Cr);f.push(g)}),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new wt(Ve);return i.forEach(u=>{const f=new Mt(u,0),d=new Mt(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([f,d],g=>{s=s.add(g.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let f=s;ge.isDocumentKey(f)||(f=f.child(""));const d=new Mt(new ge(f),0);let g=new wt(Ve);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===u&&(g=g.add(p.Cr)),!0)},d),Z.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const u=this.Or(s);u!==null&&i.push(u)}),i}removeMutationBatch(t,i){Ge(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(i.mutations,u=>{const f=new Mt(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Mt(i,0),u=this.Mr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.kr=t,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(i))}getEntries(t,i){let s=Bi();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Yt.newInvalidDocument(u))}),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let f=Bi();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Wb(Jb(E),s)<=0||(u.has(E.key)||Rc(i,E))&&(f=f.insert(E.key,E.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(t,i,s,u){ve()}qr(t,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new b1(this)}getSize(t){return Z.resolve(this.size)}}class b1 extends p1{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(t,u)):this.Ir.removeEntry(s)}),Z.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t){this.persistence=t,this.Qr=new Aa(i=>Bd(i),jd),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Yd,this.targetCount=0,this.Kr=ws.Un()}forEachTarget(t,i){return this.Qr.forEach((s,u)=>i(u)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Z.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new ws(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.zn(i),Z.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let u=0;const f=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),f.push(this.removeMatchingKeysForTargetId(t,g.targetId)),u++)}),Z.waitFor(f).next(()=>u)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(d=>{f.push(u.markPotentiallyOrphaned(t,d))}),Z.waitFor(f)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Tc(0),this.zr=!1,this.zr=!0,this.jr=new T1,this.referenceDelegate=t(this),this.Hr=new R1(this),this.indexManager=new o1,this.remoteDocumentCache=function(u){return new S1(u)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new l1(i),this.Yr=new v1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new E1,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new A1(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){le("MemoryPersistence","Starting transaction:",t);const u=new w1(this.Gr.next());return this.referenceDelegate.Zr(),s(u).next(f=>this.referenceDelegate.Xr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}ei(t,i){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class w1 extends tR{constructor(t){super(),this.currentSequenceNumber=t}}class Kd{constructor(t){this.persistence=t,this.ti=new Yd,this.ni=null}static ri(t){return new Kd(t)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(f=>this.ii.add(f.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const u=ge.fromPath(s);return this.si(t,u).next(f=>{f||i.removeEntry(u,Ee.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class dc{constructor(t,i){this.persistence=t,this.oi=new Aa(s=>rR(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=g1(this,i)}static ri(t,i){return new dc(t,i)}Zr(){}Xr(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return Z.forEach(this.oi,(s,u)=>this.ar(t,s,u).next(f=>f?Z.resolve():i(u)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,f.removeEntry(d,Ee.min()))})).next(()=>f.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),Z.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=$o(t.data.value)),i}ar(t,i,s){return Z.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const u=this.oi.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=u}static Yi(t,i){let s=Ie(),u=Ie();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Xd(t,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return SS()?8:nR(TS())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,u){const f={result:null};return this.rs(t,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.ss(t,i,u,s).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new C1;return this._s(t,i,d).next(g=>{if(f.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>f.result)}us(t,i,s,u){return s.documentReadCount<this.es?(gs()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(gs()<=Pe.DEBUG&&le("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ts*u?(gs()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(i))):Z.resolve())}rs(t,i){if(l_(i))return Z.resolve(null);let s=ai(i);return this.indexManager.getIndexType(t,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=md(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const d=Ie(...f);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(t,md(i,null,"F")):this.hs(t,y,i,p)}))})))}ss(t,i,s,u){return l_(i)||u.isEqual(Ee.min())?Z.resolve(null):this.ns.getDocuments(t,s).next(f=>{const d=this.cs(i,f);return this.ls(i,d,s,u)?Z.resolve(null):(gs()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ps(i)),this.hs(t,d,i,Zb(u,su)).next(g=>g))})}cs(t,i){let s=new wt(Bv(t));return i.forEach((u,f)=>{Rc(t,f)&&(s=s.add(f))}),s}ls(t,i,s,u){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const f=t.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}_s(t,i,s){return gs()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ns.getDocumentsMatchingQuery(t,i,Ir.min(),s)}hs(t,i,s,u){return this.ns.getDocumentsMatchingQuery(t,s,u).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",N1=3e8;class V1{constructor(t,i,s,u){this.persistence=t,this.Ps=i,this.serializer=u,this.Ts=new it(Ve),this.Is=new Aa(f=>Bd(f),jd),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function I1(a,t,i,s){return new V1(a,t,i,s)}async function cE(a,t){const i=Ae(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const d=[],g=[];let p=Ie();for(const y of u){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of f){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function x1(a,t){const i=Ae(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),f=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const b=y.batch,D=b.keys();let x=Z.resolve();return D.forEach(k=>{x=x.next(()=>E.getEntry(p,k)).next(Q=>{const H=y.docVersions.get(k);Ge(H!==null),Q.version.compareTo(H)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),x.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(i,s,t,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ie();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}function fE(a){const t=Ae(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function O1(a,t){const i=Ae(a),s=t.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];t.targetChanges.forEach((E,b)=>{const D=u.get(b);if(!D)return;g.push(i.Hr.removeMatchingKeys(f,E.removedDocuments,b).next(()=>i.Hr.addMatchingKeys(f,E.addedDocuments,b)));let x=D.withSequenceNumber(f.currentSequenceNumber);t.targetMismatches.get(b)!==null?x=x.withResumeToken(jt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),u=u.insert(b,x),function(Q,H,$){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=N1?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(D,x,E)&&g.push(i.Hr.updateTargetData(f,x))});let p=Bi(),y=Ie();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,E))}),g.push(M1(f,d,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Ee.min())){const E=i.Hr.getLastRemoteSnapshotVersion(f).next(b=>i.Hr.setTargetsMetadata(f,f.currentSequenceNumber,s));g.push(E)}return Z.waitFor(g).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,p,y)).next(()=>p)}).then(f=>(i.Ts=u,f))}function M1(a,t,i){let s=Ie(),u=Ie();return i.forEach(f=>s=s.add(f)),t.getEntries(a,s).next(f=>{let d=Bi();return i.forEach((g,p)=>{const y=f.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(u=u.add(g)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):le($d,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:u}})}function U1(a,t){const i=Ae(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Pd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function L1(a,t){const i=Ae(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Hr.getTargetData(s,t).next(f=>f?(u=f,Z.resolve(u)):i.Hr.allocateTargetId(s).next(d=>(u=new Rr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ts.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function vd(a,t,i){const s=Ae(a),u=s.Ts.get(t),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ps(d))throw d;le($d,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(u.target)}function E_(a,t,i){const s=Ae(a);let u=Ee.min(),f=Ie();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const b=Ae(p),D=b.Is.get(E);return D!==void 0?Z.resolve(b.Ts.get(D)):b.Hr.getTargetData(y,E)}(s,d,ai(t)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{f=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?u:Ee.min(),i?f:Ie())).next(g=>(P1(s,SR(t),g),{documents:g,gs:f})))}function P1(a,t,i){let s=a.Es.get(t)||Ee.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.Es.set(t,s)}class T_{constructor(){this.activeTargetIds=NR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class z1{constructor(){this.ho=new T_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new T_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class S_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(A_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){le(A_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo=null;function Ed(){return Qo===null?Qo=function(){return 268435456+Math.round(2147483648*Math.random())}():Qo++,"0x"+Qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RestConnection",B1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${u}`,this.wo=this.databaseId.database===sc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}So(t,i,s,u,f){const d=Ed(),g=this.bo(t,i.toUriEncodedString());le(Xh,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,u,f),this.vo(t,g,p,s).then(y=>(le(Xh,`Received RPC '${t}' ${d}: `,y),y),y=>{throw As(Xh,`RPC '${t}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(t,i,s,u,f,d){return this.So(t,i,s,u,f)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,f)=>t[f]=u),s&&s.headers.forEach((u,f)=>t[f]=u)}bo(t,i){const s=B1[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class H1 extends j1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,u){const f=Ed();return new Promise((d,g)=>{const p=new gv;p.setWithCredentials(!0),p.listenOnce(pv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xo.NO_ERROR:const E=p.getResponseJson();le(Ft,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(E)),d(E);break;case Xo.TIMEOUT:le(Ft,`RPC '${t}' ${f} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xo.HTTP_ERROR:const b=p.getStatus();if(le(Ft,`RPC '${t}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const x=D==null?void 0:D.error;if(x&&x.status&&x.message){const k=function(H){const $=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(x.status);g(new ue(k,x.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{le(Ft,`RPC '${t}' ${f} completed.`)}});const y=JSON.stringify(u);le(Ft,`RPC '${t}' ${f} sending request:`,u),p.send(i,"POST",y,s,15)})}Wo(t,i,s){const u=Ed(),f=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vv(),g=_v(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=f.join("");le(Ft,`Creating RPC '${t}' stream ${u}: ${E}`,p);const b=d.createWebChannel(E,p);let D=!1,x=!1;const k=new q1({Fo:H=>{x?le(Ft,`Not sending because RPC '${t}' stream ${u} is closed:`,H):(D||(le(Ft,`Opening RPC '${t}' stream ${u} transport.`),b.open(),D=!0),le(Ft,`RPC '${t}' stream ${u} sending:`,H),b.send(H))},Mo:()=>b.close()}),Q=(H,$,ne)=>{H.listen($,te=>{try{ne(te)}catch(ye){setTimeout(()=>{throw ye},0)}})};return Q(b,Xl.EventType.OPEN,()=>{x||(le(Ft,`RPC '${t}' stream ${u} transport opened.`),k.Qo())}),Q(b,Xl.EventType.CLOSE,()=>{x||(x=!0,le(Ft,`RPC '${t}' stream ${u} transport closed`),k.Uo())}),Q(b,Xl.EventType.ERROR,H=>{x||(x=!0,As(Ft,`RPC '${t}' stream ${u} transport errored:`,H),k.Uo(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Xl.EventType.MESSAGE,H=>{var $;if(!x){const ne=H.data[0];Ge(!!ne);const te=ne,ye=(te==null?void 0:te.error)||(($=te[0])===null||$===void 0?void 0:$.error);if(ye){le(Ft,`RPC '${t}' stream ${u} received error:`,ye);const ce=ye.status;let Se=function(S){const R=yt[S];if(R!==void 0)return Jv(R)}(ce),O=ye.message;Se===void 0&&(Se=J.INTERNAL,O="Unknown error status: "+ce+" with message "+ye.message),x=!0,k.Uo(new ue(Se,O)),b.close()}else le(Ft,`RPC '${t}' stream ${u} received:`,ne),k.Ko(ne)}}),Q(g,yv.STAT_EVENT,H=>{H.stat===sd.PROXY?le(Ft,`RPC '${t}' stream ${u} detected buffering proxy`):H.stat===sd.NOPROXY&&le(Ft,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(a){return new YR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,i,s=1e3,u=1.5,f=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=u,this.jo=f,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-s);u>0&&le("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="PersistentStream";class dE{constructor(t,i,s,u,f,d,g,p){this.Ti=t,this.n_=s,this.r_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.i_===i&&this.V_(s,u)},s=>{t(()=>{const u=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(u)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{s(()=>this.m_(u))}),this.stream.onMessage(u=>{s(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return le(b_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(le(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G1 extends dE{constructor(t,i,s,u,f,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=$R(this.serializer,t),s=function(f){if(!("targetChange"in f))return Ee.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?si(d.readTime):Ee.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=_d(this.serializer),i.addTarget=function(f,d){let g;const p=d.target;if(g=hd(p)?{documents:WR(f,p)}:{query:e1(f,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=tE(f,d.resumeToken);const y=gd(f,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ee.min())>0){g.readTime=hc(f,d.snapshotVersion.toTimestamp());const y=gd(f,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const s=n1(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=_d(this.serializer),i.removeTarget=t,this.I_(i)}}class F1 extends dE{constructor(t,i,s,u,f,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Ge(!!t.streamToken),this.lastStreamToken=t.streamToken,Ge(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ge(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=JR(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=_d(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>ZR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{}class Y1 extends Q1{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.So(t,pd(i,s),u,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())})}Co(t,i,s,u,f){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,pd(i,s),u,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class K1{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(i),this.N_=!1):le("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class X1{constructor(t,i,s,u,f){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=f,this.z_.To(d=>{s.enqueueAndForget(async()=>{ba(this)&&(le(va,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.W_.add(4),await yu(y),y.j_.set("Unknown"),y.W_.delete(4),await Vc(y)}(this))})}),this.j_=new K1(s,u)}}async function Vc(a){if(ba(a))for(const t of a.G_)await t(!0)}async function yu(a){for(const t of a.G_)await t(!1)}function mE(a,t){const i=Ae(a);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),em(i)?Wd(i):zs(i).c_()&&Jd(i,t))}function Zd(a,t){const i=Ae(a),s=zs(i);i.K_.delete(t),s.c_()&&gE(i,t),i.K_.size===0&&(s.c_()?s.P_():ba(i)&&i.j_.set("Unknown"))}function Jd(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ee.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}zs(a).y_(t)}function gE(a,t){a.H_.Ne(t),zs(a).w_(t)}function Wd(a){a.H_=new HR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.K_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),zs(a).start(),a.j_.B_()}function em(a){return ba(a)&&!zs(a).u_()&&a.K_.size>0}function ba(a){return Ae(a).W_.size===0}function pE(a){a.H_=void 0}async function $1(a){a.j_.set("Online")}async function Z1(a){a.K_.forEach((t,i)=>{Jd(a,t)})}async function J1(a,t){pE(a),em(a)?(a.j_.q_(t),Wd(a)):a.j_.set("Unknown")}async function W1(a,t,i){if(a.j_.set("Online"),t instanceof eE&&t.state===2&&t.cause)try{await async function(u,f){const d=f.cause;for(const g of f.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(a,t)}catch(s){le(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await mc(a,s)}else if(t instanceof Wo?a.H_.We(t):t instanceof Wv?a.H_.Ze(t):a.H_.je(t),!i.isEqual(Ee.min()))try{const s=await fE(a.localStore);i.compareTo(s)>=0&&await function(f,d){const g=f.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=f.K_.get(y);E&&f.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=f.K_.get(p);if(!E)return;f.K_.set(p,E.withResumeToken(jt.EMPTY_BYTE_STRING,E.snapshotVersion)),gE(f,p);const b=new Rr(E.target,p,y,E.sequenceNumber);Jd(f,b)}),f.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){le(va,"Failed to raise snapshot:",s),await mc(a,s)}}async function mc(a,t,i){if(!Ps(t))throw t;a.W_.add(1),await yu(a),a.j_.set("Offline"),i||(i=()=>fE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{le(va,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Vc(a)})}function yE(a,t){return t().catch(i=>mc(a,i,t))}async function Ic(a){const t=Ae(a),i=Ur(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Pd;for(;ew(t);)try{const u=await U1(t.localStore,s);if(u===null){t.U_.length===0&&i.P_();break}s=u.batchId,tw(t,u)}catch(u){await mc(t,u)}_E(t)&&vE(t)}function ew(a){return ba(a)&&a.U_.length<10}function tw(a,t){a.U_.push(t);const i=Ur(a);i.c_()&&i.S_&&i.b_(t.mutations)}function _E(a){return ba(a)&&!Ur(a).u_()&&a.U_.length>0}function vE(a){Ur(a).start()}async function nw(a){Ur(a).C_()}async function iw(a){const t=Ur(a);for(const i of a.U_)t.b_(i.mutations)}async function rw(a,t,i){const s=a.U_.shift(),u=Gd.from(s,t,i);await yE(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await Ic(a)}async function aw(a,t){t&&Ur(a).S_&&await async function(s,u){if(function(d){return jR(d)&&d!==J.ABORTED}(u.code)){const f=s.U_.shift();Ur(s).h_(),await yE(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u)),await Ic(s)}}(a,t),_E(a)&&vE(a)}async function R_(a,t){const i=Ae(a);i.asyncQueue.verifyOperationInProgress(),le(va,"RemoteStore received new credentials");const s=ba(i);i.W_.add(3),await yu(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Vc(i)}async function sw(a,t){const i=Ae(a);t?(i.W_.delete(2),await Vc(i)):t||(i.W_.add(2),await yu(i),i.j_.set("Unknown"))}function zs(a){return a.J_||(a.J_=function(i,s,u){const f=Ae(i);return f.M_(),new G1(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{xo:$1.bind(null,a),No:Z1.bind(null,a),Lo:J1.bind(null,a),p_:W1.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),em(a)?Wd(a):a.j_.set("Unknown")):(await a.J_.stop(),pE(a))})),a.J_}function Ur(a){return a.Y_||(a.Y_=function(i,s,u){const f=Ae(i);return f.M_(),new F1(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:nw.bind(null,a),Lo:aw.bind(null,a),D_:iw.bind(null,a),v_:rw.bind(null,a)}),a.G_.push(async t=>{t?(a.Y_.h_(),await Ic(a)):(await a.Y_.stop(),a.U_.length>0&&(le(va,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,i,s,u,f){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,f){const d=Date.now()+s,g=new tm(t,i,d,u,f);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(a,t){if(ki("AsyncQueue",`${t}: ${a}`),Ps(a))return new ue(J.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(t){return new Es(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ge.comparator(i.key,s.key):(i,s)=>ge.comparator(i.key,s.key),this.keyedMap=$l(),this.sortedSet=new it(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Es)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Es;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.Z_=new it(ge.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):ve():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class Cs{constructor(t,i,s,u,f,d,g,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,u,f){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Cs(t,i,Es.emptySet(i),d,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class uw{constructor(){this.queries=C_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const u=Ae(i),f=u.queries;u.queries=C_(),f.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function C_(){return new Aa(a=>kv(a),bc)}async function EE(a,t){const i=Ae(a);let s=3;const u=t.query;let f=i.queries.get(u);f?!f.na()&&t.ra()&&(s=2):(f=new lw,s=t.ra()?0:1);try{switch(s){case 0:f.ea=await i.onListen(u,!0);break;case 1:f.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=nm(d,`Initialization of query '${ps(t.query)}' failed`);return void t.onError(g)}i.queries.set(u,f),f.ta.push(t),t.sa(i.onlineState),f.ea&&t.oa(f.ea)&&im(i)}async function TE(a,t){const i=Ae(a),s=t.query;let u=3;const f=i.queries.get(s);if(f){const d=f.ta.indexOf(t);d>=0&&(f.ta.splice(d,1),f.ta.length===0?u=t.ra()?0:1:!f.na()&&t.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ow(a,t){const i=Ae(a);let s=!1;for(const u of t){const f=u.query,d=i.queries.get(f);if(d){for(const g of d.ta)g.oa(u)&&(s=!0);d.ea=u}}s&&im(i)}function cw(a,t,i){const s=Ae(a),u=s.queries.get(t);if(u)for(const f of u.ta)f.onError(i);s.queries.delete(t)}function im(a){a.ia.forEach(t=>{t.next()})}var Td,D_;(D_=Td||(Td={}))._a="default",D_.Cache="cache";class AE{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)u.type!==3&&s.push(u);t=new Cs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Cs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this.key=t}}class bE{constructor(t){this.key=t}}class fw{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ie(),this.mutatedKeys=Ie(),this.ya=Bv(t),this.wa=new Es(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new w_,u=i?i.wa:this.wa;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const p=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,y=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((E,b)=>{const D=u.get(E),x=Rc(this.query,b)?b:null,k=!!D&&this.mutatedKeys.has(D.key),Q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;D&&x?D.data.isEqual(x.data)?k!==Q&&(s.track({type:3,doc:x}),H=!0):this.va(D,x)||(s.track({type:2,doc:x}),H=!0,(p&&this.ya(x,p)>0||y&&this.ya(x,y)<0)&&(g=!0)):!D&&x?(s.track({type:0,doc:x}),H=!0):D&&!x&&(s.track({type:1,doc:D}),H=!0,(p||y)&&(g=!0)),H&&(x?(d=d.add(x),f=Q?f.add(E):f.delete(E)):(d=d.delete(E),f=f.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),f=f.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:g,mutatedKeys:f}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const f=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((E,b)=>function(x,k){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return Q(x)-Q(k)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),u=u!=null&&u;const g=i&&!u?this.Fa():[],p=this.pa.size===0&&this.current&&!u?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Cs(this.query,t.wa,f,d,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new w_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ie(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new bE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new SE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Ie();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return Cs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const rm="SyncEngine";class hw{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class dw{constructor(t){this.key=t,this.Ba=!1}}class mw{constructor(t,i,s,u,f,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Aa(g=>kv(g),bc),this.qa=new Map,this.Qa=new Set,this.$a=new it(ge.comparator),this.Ua=new Map,this.Ka=new Yd,this.Wa={},this.Ga=new Map,this.za=ws.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gw(a,t,i=!0){const s=VE(a);let u;const f=s.ka.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Na()):u=await RE(s,t,i,!0),u}async function pw(a,t){const i=VE(a);await RE(i,t,!0,!1)}async function RE(a,t,i,s){const u=await L1(a.localStore,ai(t)),f=u.targetId,d=a.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await yw(a,t,f,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&mE(a.remoteStore,u),g}async function yw(a,t,i,s,u){a.Ha=(b,D,x)=>async function(Q,H,$,ne){let te=H.view.ba($);te.ls&&(te=await E_(Q.localStore,H.query,!1).then(({documents:O})=>H.view.ba(O,te)));const ye=ne&&ne.targetChanges.get(H.targetId),ce=ne&&ne.targetMismatches.get(H.targetId)!=null,Se=H.view.applyChanges(te,Q.isPrimaryClient,ye,ce);return V_(Q,H.targetId,Se.Ma),Se.snapshot}(a,b,D,x);const f=await E_(a.localStore,t,!0),d=new fw(t,f.gs),g=d.ba(f.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),y=d.applyChanges(g,a.isPrimaryClient,p);V_(a,i,y.Ma);const E=new hw(t,i,d);return a.ka.set(t,E),a.qa.has(i)?a.qa.get(i).push(t):a.qa.set(i,[t]),y.snapshot}async function _w(a,t,i){const s=Ae(a),u=s.ka.get(t),f=s.qa.get(u.targetId);if(f.length>1)return s.qa.set(u.targetId,f.filter(d=>!bc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await vd(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Zd(s.remoteStore,u.targetId),Ad(s,u.targetId)}).catch(Ls)):(Ad(s,u.targetId),await vd(s.localStore,u.targetId,!0))}async function vw(a,t){const i=Ae(a),s=i.ka.get(t),u=i.qa.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Zd(i.remoteStore,s.targetId))}async function Ew(a,t,i){const s=Cw(a);try{const u=await function(d,g){const p=Ae(d),y=Rt.now(),E=g.reduce((x,k)=>x.add(k.key),Ie());let b,D;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=Bi(),Q=Ie();return p.ds.getEntries(x,E).next(H=>{k=H,k.forEach(($,ne)=>{ne.isValidDocument()||(Q=Q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,k)).next(H=>{b=H;const $=[];for(const ne of g){const te=LR(ne,b.get(ne.key).overlayedDocument);te!=null&&$.push(new Sa(ne.key,te,Iv(te.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,$,g)}).next(H=>{D=H;const $=H.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(x,H.batchId,$)})}).then(()=>({batchId:D.batchId,changes:qv(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new it(Ve)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,u.batchId,i),await _u(s,u.changes),await Ic(s.remoteStore)}catch(u){const f=nm(u,"Failed to persist write");i.reject(f)}}async function wE(a,t){const i=Ae(a);try{const s=await O1(i.localStore,t);t.targetChanges.forEach((u,f)=>{const d=i.Ua.get(f);d&&(Ge(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Ge(d.Ba):u.removedDocuments.size>0&&(Ge(d.Ba),d.Ba=!1))}),await _u(i,s,t)}catch(s){await Ls(s)}}function N_(a,t,i){const s=Ae(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ka.forEach((f,d)=>{const g=d.view.sa(t);g.snapshot&&u.push(g.snapshot)}),function(d,g){const p=Ae(d);p.onlineState=g;let y=!1;p.queries.forEach((E,b)=>{for(const D of b.ta)D.sa(g)&&(y=!0)}),y&&im(p)}(s.eventManager,t),u.length&&s.La.p_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Tw(a,t,i){const s=Ae(a);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Ua.get(t),f=u&&u.key;if(f){let d=new it(ge.comparator);d=d.insert(f,Yt.newNoDocument(f,Ee.min()));const g=Ie().add(f),p=new Dc(Ee.min(),new Map,new it(Ve),d,g);await wE(s,p),s.$a=s.$a.remove(f),s.Ua.delete(t),am(s)}else await vd(s.localStore,t,!1).then(()=>Ad(s,t,i)).catch(Ls)}async function Aw(a,t){const i=Ae(a),s=t.batch.batchId;try{const u=await x1(i.localStore,t);DE(i,s,null),CE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await _u(i,u)}catch(u){await Ls(u)}}async function Sw(a,t,i){const s=Ae(a);try{const u=await function(d,g){const p=Ae(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(Ge(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);DE(s,t,i),CE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await _u(s,u)}catch(u){await Ls(u)}}function CE(a,t){(a.Ga.get(t)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(t)}function DE(a,t,i){const s=Ae(a);let u=s.Wa[s.currentUser.toKey()];if(u){const f=u.get(t);f&&(i?f.reject(i):f.resolve(),u=u.remove(t)),s.Wa[s.currentUser.toKey()]=u}}function Ad(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.qa.get(t))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(t),a.isPrimaryClient&&a.Ka.br(t).forEach(s=>{a.Ka.containsKey(s)||NE(a,s)})}function NE(a,t){a.Qa.delete(t.path.canonicalString());const i=a.$a.get(t);i!==null&&(Zd(a.remoteStore,i),a.$a=a.$a.remove(t),a.Ua.delete(i),am(a))}function V_(a,t,i){for(const s of i)s instanceof SE?(a.Ka.addReference(s.key,t),bw(a,s)):s instanceof bE?(le(rm,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,t),a.Ka.containsKey(s.key)||NE(a,s.key)):ve()}function bw(a,t){const i=t.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(le(rm,"New document in limbo: "+i),a.Qa.add(s),am(a))}function am(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const i=new ge(Ze.fromString(t)),s=a.za.next();a.Ua.set(s,new dw(i)),a.$a=a.$a.insert(i,s),mE(a.remoteStore,new Rr(ai(qd(i.path)),s,"TargetPurposeLimboResolution",Tc.ae))}}async function _u(a,t,i){const s=Ae(a),u=[],f=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){u.push(y);const b=Xd.Yi(p.targetId,y);f.push(b)}}))}),await Promise.all(d),s.La.p_(u),await async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(y,D=>Z.forEach(D.Hi,x=>E.persistence.referenceDelegate.addReference(b,D.targetId,x)).next(()=>Z.forEach(D.Ji,x=>E.persistence.referenceDelegate.removeReference(b,D.targetId,x)))))}catch(b){if(!Ps(b))throw b;le($d,"Failed to update sequence numbers: "+b)}for(const b of y){const D=b.targetId;if(!b.fromCache){const x=E.Ts.get(D),k=x.snapshotVersion,Q=x.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(D,Q)}}}(s.localStore,f))}async function Rw(a,t){const i=Ae(a);if(!i.currentUser.isEqual(t)){le(rm,"User change. New user:",t.toKey());const s=await cE(i.localStore,t);i.currentUser=t,function(f,d){f.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ue(J.CANCELLED,d))})}),f.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await _u(i,s.Rs)}}function ww(a,t){const i=Ae(a),s=i.Ua.get(t);if(s&&s.Ba)return Ie().add(s.key);{let u=Ie();const f=i.qa.get(t);if(!f)return u;for(const d of f){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function VE(a){const t=Ae(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ww.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tw.bind(null,t),t.La.p_=ow.bind(null,t.eventManager),t.La.Ja=cw.bind(null,t.eventManager),t}function Cw(a){const t=Ae(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Aw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sw.bind(null,t),t}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return I1(this.persistence,new D1,t.initialUser,this.serializer)}Xa(t){return new oE(Kd.ri,this.serializer)}Za(t){return new z1}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class Dw extends gc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Ge(this.persistence.referenceDelegate instanceof dc);const s=this.persistence.referenceDelegate.garbageCollector;return new d1(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new oE(s=>dc.ri(s,i),this.serializer)}}class Sd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rw.bind(null,this.syncEngine),await sw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uw}()}createDatastore(t){const i=Nc(t.databaseInfo.databaseId),s=function(f){return new H1(f)}(t.databaseInfo);return function(f,d,g,p){return new Y1(f,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,u,f,d,g){return new X1(s,u,f,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>N_(this.syncEngine,i,0),function(){return S_.D()?new S_:new k1}())}createSyncEngine(t,i){return function(u,f,d,g,p,y,E){const b=new mw(u,f,d,g,p,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(u){const f=Ae(u);le(va,"RemoteStore shutting down."),f.W_.add(5),await yu(f),f.z_.shutdown(),f.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Sd.provider={build:()=>new Sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class Nw{constructor(t,i,s,u,f){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Qt.UNAUTHENTICATED,this.clientId=Tv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async d=>{le(Lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(le(Lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=nm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Zh(a,t){a.asyncQueue.verifyOperationInProgress(),le(Lr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await cE(t.localStore,u),s=u)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function I_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await Vw(a);le(Lr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>R_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>R_(t.remoteStore,u)),a._onlineComponents=t}async function Vw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){le(Lr,"Using user provided OfflineComponentProvider");try{await Zh(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(u){return u.name==="FirebaseError"?u.code===J.FAILED_PRECONDITION||u.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;As("Error using user provided cache. Falling back to memory cache: "+i),await Zh(a,new gc)}}else le(Lr,"Using default OfflineComponentProvider"),await Zh(a,new Dw(void 0));return a._offlineComponents}async function xE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(le(Lr,"Using user provided OnlineComponentProvider"),await I_(a,a._uninitializedComponentsProvider._online)):(le(Lr,"Using default OnlineComponentProvider"),await I_(a,new Sd))),a._onlineComponents}function Iw(a){return xE(a).then(t=>t.syncEngine)}async function OE(a){const t=await xE(a),i=t.eventManager;return i.onListen=gw.bind(null,t.syncEngine),i.onUnlisten=_w.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=pw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vw.bind(null,t.syncEngine),i}function xw(a,t,i={}){const s=new Li;return a.asyncQueue.enqueueAndForget(async()=>function(f,d,g,p,y){const E=new IE({next:D=>{E.su(),d.enqueueAndForget(()=>TE(f,b));const x=D.docs.has(g);!x&&D.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&D.fromCache&&p&&p.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),b=new AE(qd(g.path),E,{includeMetadataChanges:!0,Ta:!0});return EE(f,b)}(await OE(a),a.asyncQueue,t,i,s)),s.promise}function Ow(a,t,i={}){const s=new Li;return a.asyncQueue.enqueueAndForget(async()=>function(f,d,g,p,y){const E=new IE({next:D=>{E.su(),d.enqueueAndForget(()=>TE(f,b)),D.fromCache&&p.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),b=new AE(g,E,{includeMetadataChanges:!0,Ta:!0});return EE(f,b)}(await OE(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(a,t,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Mw(a,t,i,s){if(t===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function O_(a){if(!ge.isDocumentKey(a))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function M_(a){if(ge.isDocumentKey(a))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function xc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":ve()}function Ds(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xc(a);throw new ue(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="firestore.googleapis.com",U_=!0;class L_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LE,this.ssl=U_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:U_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<f1)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Mw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ME((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oc{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Hb;switch(s.type){case"firstParty":return new Yb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=x_.get(i);s&&(le("ComponentProvider","Removing Datastore"),x_.delete(i),s.terminate())}(this),Promise.resolve()}}function Uw(a,t,i,s={}){var u;const f=(a=Ds(a,Oc))._getSettings(),d=`${t}:${i}`;if(f.host!==LE&&f.host!==d&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=Qt.MOCK_USER;else{g=ES(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qt(y)}a._authCredentials=new Gb(new Ev(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ks(this.firestore,t,this._query)}}class hn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class Nr extends ks{constructor(t,i,s){super(t,i,qd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new ge(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function bd(a,t,...i){if(a=Ts(a),UE("collection","path",t),a instanceof Oc){const s=Ze.fromString(t,...i);return M_(s),new Nr(a,null,s)}{if(!(a instanceof hn||a instanceof Nr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Ze.fromString(t,...i));return M_(s),new Nr(a.firestore,null,s)}}function pc(a,t,...i){if(a=Ts(a),arguments.length===1&&(t=Tv.newId()),UE("doc","path",t),a instanceof Oc){const s=Ze.fromString(t,...i);return O_(s),new hn(a,null,new ge(s))}{if(!(a instanceof hn||a instanceof Nr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Ze.fromString(t,...i));return O_(s),new hn(a.firestore,a instanceof Nr?a.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class z_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hE(this,"async_queue_retry"),this.Su=()=>{const s=$h();s&&le(P_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=$h();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=$h();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Li;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ps(t))throw t;le(P_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw ki("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const u=tm.createAndSchedule(this,t,i,s,f=>this.Fu(f));return this.fu.push(u),u}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Mc extends Oc{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new z_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new z_(t),this._firestoreClient=void 0,await t}}}function Lw(a,t){const i=typeof a=="object"?a:Vb(),s=typeof a=="string"?a:sc,u=Rb(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=_S("firestore");f&&Uw(u,...f)}return u}function sm(a){if(a._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Pw(a),a._firestoreClient}function Pw(a){var t,i,s;const u=a._freezeSettings(),f=function(g,p,y,E){return new lR(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ME(E.experimentalLongPollingOptions),E.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new Nw(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ns(jt.fromBase64String(t))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ns(jt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ve(this._lat,t._lat)||Ve(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/^__.*__$/;class kw{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Sa(t,this.data,this.fieldMask,i,this.fieldTransforms):new gu(t,this.data,i,this.fieldTransforms)}}function zE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class cm{constructor(t,i,s,u,f,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,f===void 0&&this.Bu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new cm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),u=this.ku({path:s,Qu:!1});return u.$u(t),u}Uu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),u=this.ku({path:s,Qu:!1});return u.Bu(),u}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return yc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(zE(this.Lu)&&zw.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Bw{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Nc(t)}ju(t,i,s,u=!1){return new cm({Lu:t,methodName:i,zu:s,path:Bt.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kE(a){const t=a._freezeSettings(),i=Nc(a._databaseId);return new Bw(a._databaseId,!!t.ignoreUndefinedProperties,i)}function jw(a,t,i,s,u,f={}){const d=a.ju(f.merge||f.mergeFields?2:0,t,i,u);qE("Data must be an object, but it was:",d,s);const g=BE(s,d);let p,y;if(f.merge)p=new zn(d.fieldMask),y=d.fieldTransforms;else if(f.mergeFields){const E=[];for(const b of f.mergeFields){const D=Hw(t,b,i);if(!d.contains(D))throw new ue(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);Fw(E,D)||E.push(D)}p=new zn(E),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new kw(new Vn(g),p,y)}function qw(a,t,i,s=!1){return fm(i,a.ju(s?4:3,t))}function fm(a,t){if(jE(a=Ts(a)))return qE("Unsupported field value:",t,a),BE(a,t);if(a instanceof PE)return function(s,u){if(!zE(u.Lu))throw u.Wu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,u){const f=[];let d=0;for(const g of s){let p=fm(g,u.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),f.push(p),d++}return{arrayValue:{values:f}}}(a,t)}return function(s,u){if((s=Ts(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VR(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Rt.fromDate(s);return{timestampValue:hc(u.serializer,f)}}if(s instanceof Rt){const f=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hc(u.serializer,f)}}if(s instanceof um)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ns)return{bytesValue:tE(u.serializer,s._byteString)};if(s instanceof hn){const f=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Qd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof om)return function(d,g){return{mapValue:{fields:{[Nv]:{stringValue:Vv},[lc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Hd(g.serializer,y)})}}}}}}(s,u);throw u.Wu(`Unsupported field value: ${xc(s)}`)}(a,t)}function BE(a,t){const i={};return Sv(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ta(a,(s,u)=>{const f=fm(u,t.qu(s));f!=null&&(i[s]=f)}),{mapValue:{fields:i}}}function jE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Rt||a instanceof um||a instanceof Ns||a instanceof hn||a instanceof PE||a instanceof om)}function qE(a,t,i){if(!jE(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=xc(i);throw s==="an object"?t.Wu(a+" a custom object"):t.Wu(a+" "+s)}}function Hw(a,t,i){if((t=Ts(t))instanceof lm)return t._internalPath;if(typeof t=="string")return HE(a,t);throw yc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Gw=new RegExp("[~\\*/\\[\\]]");function HE(a,t,i){if(t.search(Gw)>=0)throw yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new lm(...t.split("."))._internalPath}catch{throw yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function yc(a,t,i,s,u){const f=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(f||d)&&(p+=" (found",f&&(p+=` in field ${s}`),d&&(p+=` in document ${u}`),p+=")"),new ue(J.INVALID_ARGUMENT,g+a+p)}function Fw(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,i,s,u,f){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(hm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Qw extends GE{data(){return super.data()}}function hm(a,t){return typeof t=="string"?HE(a,t):t instanceof lm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dm{}class Kw extends dm{}function Xw(a,t,...i){let s=[];t instanceof dm&&s.push(t),s=s.concat(i),function(f){const d=f.filter(p=>p instanceof mm).length,g=f.filter(p=>p instanceof Uc).length;if(d>1||d>0&&g>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class Uc extends Kw{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Uc(t,i,s)}_apply(t){const i=this._parse(t);return FE(t._query,i),new ks(t.firestore,t.converter,dd(t._query,i))}_parse(t){const i=kE(t.firestore);return function(f,d,g,p,y,E,b){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){B_(b,E);const k=[];for(const Q of b)k.push(k_(p,f,Q));D={arrayValue:{values:k}}}else D=k_(p,f,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||B_(b,E),D=qw(g,d,b,E==="in"||E==="not-in");return _t.create(y,E,D)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function $w(a,t,i){const s=t,u=hm("where",a);return Uc._create(u,s,i)}class mm extends dm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new mm(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(u,f){let d=u;const g=f.getFlattenedFilters();for(const p of g)FE(d,p),d=dd(d,p)}(t._query,i),new ks(t.firestore,t.converter,dd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function k_(a,t,i){if(typeof(i=Ts(i))=="string"){if(i==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zv(t)&&i.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Ze.fromString(i));if(!ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return t_(a,new ge(s))}if(i instanceof hn)return t_(a,i._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(i)}.`)}function B_(a,t){if(!Array.isArray(a)||a.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FE(a,t){const i=function(u,f){for(const d of u)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Zw{convertValue(t,i="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ve()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ta(t,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertVectorValue(t){var i,s,u;const f=(u=(s=(i=t.fields)===null||i===void 0?void 0:i[lc].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>ft(d.doubleValue));return new om(f)}convertGeoPoint(t){return new um(ft(t.latitude),ft(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Sc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(lu(t));default:return null}}convertTimestamp(t){const i=xr(t);return new Rt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Ze.fromString(t);Ge(lE(s));const u=new uu(s.get(1),s.get(3)),f=new ge(s.popFirst(5));return u.isEqual(i)||ki(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(a,t,i){let s;return s=a?a.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class QE extends GE{constructor(t,i,s,u,f,d){super(t,i,s,u,d),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(hm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ec extends QE{data(t={}){return super.data(t)}}class Ww{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new Jl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new ec(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const p=new ec(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Jl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>f||g.type!==3).map(g=>{const p=new ec(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Jl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:eC(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function eC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(a){a=Ds(a,hn);const t=Ds(a.firestore,Mc);return xw(sm(t),a._key).then(i=>iC(t,a,i))}class YE extends Zw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ns(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,i)}}function KE(a){a=Ds(a,ks);const t=Ds(a.firestore,Mc),i=sm(t),s=new YE(t);return Yw(a._query),Ow(i,a._query).then(u=>new Ww(t,s,a,u))}function tC(a,t){const i=Ds(a.firestore,Mc),s=pc(a),u=Jw(a.converter,t);return nC(i,[jw(kE(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then(()=>s)}function nC(a,t){return function(s,u){const f=new Li;return s.asyncQueue.enqueueAndForget(async()=>Ew(await Iw(s),u,f)),f.promise}(sm(a),t)}function iC(a,t,i){const s=i.docs.get(t._key),u=new YE(a);return new QE(a,u,t._key,s,new Jl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(u){Us=u})(Nb),rc(new ru("firestore",(s,{instanceIdentifier:u,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new Mc(new Fb(s.getProvider("auth-internal")),new Kb(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(y.options.projectId,E)}(d,u),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),vs(Gy,Fy,t),vs(Gy,Fy,"esm2017")})();const rC={apiKey:"AIzaSyCnay_U8JXu4KqQKIVCPVMnLFF1SAn31fQ",authDomain:"stal-b1faa.firebaseapp.com",projectId:"stal-b1faa",storageBucket:"stal-b1faa.firebasestorage.app",messagingSenderId:"138725395926",appId:"1:138725395926:web:4547791578080370dfe877",measurementId:"G-TFZM26ZGSD"},aC=fv(rC),Vs=Lw(aC),sC=""+new URL("line3-DkF1AC-t.png",import.meta.url).href,XE=()=>{const[a,t]=G.useState([]),[i,s]=G.useState(""),u=Os();G.useEffect(()=>{(async()=>{try{const g=bd(Vs,"courses"),y=(await KE(g)).docs.map(E=>({id:E.id,name:E.data().name}));t(y)}catch(g){console.error("Ошибка при получении курсов: ",g),s("Не удалось загрузить курсы")}})()},[]);const f=d=>{u(`/courses/${d}`)};return B.jsxs("section",{className:"main-programm",id:"programm",children:[B.jsx("h2",{className:"common-title",id:"programms",children:"Программы переподготовки"}),B.jsx("img",{src:sC,alt:"line",className:"line3"})," ",B.jsxs("div",{className:"container",children:[i&&B.jsx("p",{children:i})," ",B.jsx("ul",{className:"programms",children:a.map(d=>B.jsx("li",{className:"programm",children:B.jsxs("div",{className:"programm__text",onClick:()=>f(d.id),children:[B.jsx("span",{children:d.name})," "]})},d.id))})]})]})},lC=()=>{const[a,t]=G.useState(0),i=[{className:"gallery_image_title"},{className:"gallery_image_second"},{className:"gallery_image_third"},{className:"gallery_image_fourth"},{className:"gallery_image_five"}];return G.useEffect(()=>{const s=setInterval(()=>{t(u=>(u+1)%i.length)},3e3);return()=>clearInterval(s)},[i.length]),B.jsx("section",{className:"love",id:"love",children:B.jsxs("div",{className:"container",children:[B.jsx("h2",{className:"common-title",children:"Уральская сталь"}),B.jsxs("ul",{className:"galleries",children:[B.jsxs("li",{className:"gallery gallery-item-orange",children:[B.jsx("div",{className:"gallery-item-title",children:"Уральская сталь — это металлургический комбинат"}),B.jsx("div",{className:"gallery-item-text",children:"Это один из ведущих производителей чёрной металлургии в России. Уральская сталь имеет богатую историю и множество достижений. Комбинат активно внедряет современные технологии и инновации, что позволяет ему оставаться конкурентоспособным на мировом рынке. Уральская сталь экспортирует свою продукцию в различные страны мира, обеспечивая рабочие места и развитие экономики региона."})]}),B.jsx("li",{className:"gallery",children:B.jsx("div",{className:"gallery__slides",children:i.map((s,u)=>B.jsx("div",{className:`gallery__slide ${a===u?"gallery__slide_active":""}`,style:{transform:a===u?"translateX(0)":"translateX(-100%)",opacity:a===u?"1":"0"},children:B.jsx("div",{className:`gallery_box ${s.className}`})},u))})})]})]})})},uC=()=>{const[a,t]=G.useState(""),[i,s]=G.useState(""),[u,f]=G.useState(!1);return B.jsxs("div",{className:"container",children:[B.jsx("h2",{className:"contact",children:"Свяжитесь с нами"}),B.jsxs("div",{className:"contacts__block",children:[B.jsx("a",{className:"contacts-phone",href:"tel:+7 935  895-45-35",children:"+7 935  895-45-35"}),B.jsx("a",{className:"contacts-mail",href:"mailto:hello@mail.com",children:"hello@mail.com"})]})]})},oC=()=>B.jsx("div",{className:"help",title:"Помощь",id:"helping",children:"?"}),cC=({onLoginClick:a})=>B.jsxs("main",{className:"main",children:[B.jsx(oC,{}),B.jsx(aS,{}),B.jsx(uS,{}),B.jsx(XE,{}),B.jsx(lC,{}),B.jsx(uC,{})]}),$E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAnVJREFUeF7t3FFSgmAUxfGPndRS2khlvbiLbBe8YNBKWoo7oWEcRlSQD/TjnMs9PWtX/z8uJsyUBf1AC2TQ6RoeBAA+CAQgAHAB8HhtgADABcDjtQECABcAj9cGCABcADxeGyAAcAHweG2AAMAFwOO1AQKYX+Dtc/tT1+Hwu8+/5/8W7DPNbkATP4Tw3uSr67CzimASoBu/PX6tIpgD6ItvGcEUwK34VhHMAMTEbxGyOmzKfV5iP17jppsAmBI/hPBXFflL3NvHP4oeYM3xG35qgLXHpwbwEJ8WwEt8SgBP8ekAvMWnAvAYnwbAa3wKAM/x4QDe40MBFP94GQTyTVjxT9egFgdQ/PMLgIsCKP711dfFABS//9L3IgCKP3zfITmA4t++6ZMUQPHH77glA1D88fjJvgcoflz8JACKHx//4QAT4097paSPror8rtP4XU/uNvEYv3n/FABe41MAeI5PAfD6sf3KsrAjPUUnf1kUpyDPCBQAzWHmFYEGwCsCFcAMhENV5M/JT9TEAx72PaD7HieejlwjJAHQJsSvXDIAIcQhJAUQwjhCcgAhAO+I6YOZZAPal6G/jq5BFjkFaROGN2FxAH0mnGNAAIRwQoABCOGIAAUQAgGAdwT4Bnj/E5UGwOsmUAF4RKAD8IZACeAJgRbACwI1gAcEeoC1I5gAmIpg6X+ImgGYgFBWRb4ZvxXC8QhTABEIpuJTXIybcxwO3FkzF98sQM8mmIxvGqCD8GTpnH+58eY+A+acspifIwCwjgAEAC4AHq8NEAC4AHi8NkAA4ALg8doAAYALgMdrAwQALgAerw0QALgAeLw2QADgAuDx/1WRRHADhx4JAAAAAElFTkSuQmCC",fC=({setUserId:a})=>{const[t,i]=G.useState(""),[s,u]=G.useState(""),[f,d]=G.useState(""),g=Os(),p=E=>{E.preventDefault();const D=[{id:"1",email:"user@example.com",password:"password123"},{id:"2",email:"admin@example.com",password:"admin123"}].find(x=>x.email===t&&x.password===s);D?(a(D.id),g("/profile")):d("Неверные почта или пароль")},y=()=>{g("/")};return B.jsxs("div",{children:[B.jsxs("div",{className:"Arrow-back",onClick:y,children:[B.jsx("img",{className:"backImage",src:$E,alt:"Назад"}),B.jsx("h3",{className:"back",children:"Назад"})]}),B.jsx("div",{className:"LoginContainer",children:B.jsxs("form",{onSubmit:p,children:[B.jsx("h2",{className:"OpenLog",children:"Вход"}),B.jsx("div",{className:"form_item",children:B.jsx("input",{type:"email",className:"form__name form",name:"email",placeholder:"Адрес эл. почты",value:t,onChange:E=>i(E.target.value),required:!0})}),B.jsx("div",{className:"form_item",children:B.jsx("input",{type:"password",className:"form__name form",name:"password",placeholder:"Пароль",value:s,onChange:E=>u(E.target.value),required:!0})}),B.jsx("button",{className:"Open",type:"submit",children:"Войти"}),f&&B.jsx("p",{children:f})," "]})})]})},hC=({userId:a})=>{const[t,i]=G.useState(null),[s,u]=G.useState(null),[f,d]=G.useState(!0),g=Os();return G.useEffect(()=>{(async()=>{if(d(!0),!a){console.error("userId не предоставлен"),d(!1);return}try{const y=pc(Vs,"employees",a),E=await Rd(y);if(E.exists()){const b=E.data();if(i(b),b.courseId){const D=pc(Vs,"courses",b.courseId),x=await Rd(D);if(x.exists()){const k=x.data();k.startDate&&k.startDate.seconds&&(k.startDate=new Date(k.startDate.seconds*1e3).toLocaleDateString()),u(k)}else console.log("Курс не существует")}}else console.error("Документ сотрудников не существует")}catch(y){console.error("Ошибка при получении данных:",y)}finally{d(!1)}})()},[a]),f?B.jsx("p",{children:"Загрузка..."}):B.jsxs("div",{className:"profile-container",children:[B.jsx("h2",{className:"PersonalAccount",children:"Личный кабинет"}),t?B.jsxs("div",{className:"profile-info",children:[B.jsxs("p",{children:[B.jsx("strong",{children:"Имя:"})," ",t.firstName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Фамилия:"})," ",t.lastName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Отчество:"})," ",t.middleName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Курс:"})," ",t.courseName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Статус заявки:"})," ",t.statusCourse]}),s&&B.jsxs(B.Fragment,{children:[B.jsxs("p",{children:[B.jsx("strong",{children:"Дата начала:"})," ",s.startDate]})," ",B.jsxs("p",{children:[B.jsx("strong",{children:"Место проведения:"})," ",s.location]})," "]})]}):B.jsx("p",{children:"Информация о пользователе недоступна."}),B.jsx("button",{onClick:()=>g("/"),className:"go-home-button",children:"На главную страницу"})]})},ZE=({isOpen:a,onClose:t,course:i})=>{const[s,u]=G.useState(""),[f,d]=G.useState(""),[g,p]=G.useState(""),[y,E]=G.useState(""),[b,D]=G.useState(""),[x,k]=G.useState(""),[Q,H]=G.useState({}),[$,ne]=G.useState(""),[te,ye]=G.useState(!1),[ce,Se]=G.useState(!1),[O,w]=G.useState(!1);if(!a)return null;const S=async()=>{const R={};if(s||(R.firstName="Пожалуйста, введите имя."),f||(R.lastName="Пожалуйста, введите фамилию."),g||(R.middleName="Пожалуйста, введите отчество."),y||(R.email="Пожалуйста, введите адрес электронной почты."),b||(R.password="Пожалуйста, введите пароль."),x||(R.confirmPassword="Пожалуйста, подтвердите пароль."),!i){alert("Ошибка: недоступен курс.");return}if(b!==x&&(R.confirmPassword="Пароли не совпадают."),b.length<6&&(R.password="Пароль должен содержать не менее 6 символов."),O||(R.checkbox="Пожалуйста, подтвердите данные."),Object.keys(R).length>0){H(R);return}const M=bd(Vs,"employees"),P=Xw(M,$w("email","==",y));if(!(await KE(P)).empty){R.email="Пользователь с таким логином уже существует. Пожалуйста, выберите другой логин.",H(R);return}try{const We=await tC(bd(Vs,"employees"),{firstName:s,lastName:f,middleName:g,email:y,password:b,courseId:i.id,courseName:i.name,statusCourse:"На рассмотрении"});console.log("Документ успешно записан с ID: ",We.id),ne("Вашу заявку успешно отправили!"),u(""),d(""),p(""),E(""),D(""),k(""),H({}),setTimeout(()=>{t(),ne("")},2e3)}catch(We){console.error("Ошибка при добавлении документа: ",We),alert("Произошла ошибка при отправке формы. Пожалуйста, попробуйте позже.")}};return B.jsx("div",{className:"popup popup_open",children:B.jsxs("div",{className:"popup__content",children:[B.jsx("p",{className:"popup__title",children:"Записаться на курс"}),B.jsx("p",{className:"popup__text",children:"Заполните форму, мы рассмотрим вашу заявку"}),$&&B.jsx("p",{className:"success-message",children:$}),B.jsx("input",{className:"input",type:"text",placeholder:"Имя",value:s,onChange:R=>u(R.target.value)}),Q.firstName&&B.jsx("p",{className:"error-message",children:Q.firstName}),B.jsx("input",{className:"input",type:"text",placeholder:"Фамилия",value:f,onChange:R=>d(R.target.value)}),Q.lastName&&B.jsx("p",{className:"error-message",children:Q.lastName}),B.jsx("input",{className:"input",type:"text",placeholder:"Отчество",value:g,onChange:R=>p(R.target.value)}),Q.middleName&&B.jsx("p",{className:"error-message",children:Q.middleName}),B.jsx("input",{className:"input",type:"text",placeholder:"Адрес электронной почты",value:y,onChange:R=>E(R.target.value)}),Q.email&&B.jsx("p",{className:"error-message",children:Q.email}),B.jsxs("div",{className:"password-container",children:[B.jsx("input",{className:"input",type:te?"text":"password",placeholder:"Пароль",value:b,onChange:R=>D(R.target.value)}),B.jsx("button",{type:"button",onClick:()=>ye(R=>!R),className:"toggle-password",children:te?"Скрыть":"Показать"})]}),Q.password&&B.jsx("p",{className:"error-message",children:Q.password}),B.jsxs("div",{className:"password-container",children:[B.jsx("input",{className:"input",type:ce?"text":"password",placeholder:"Повтор пароля",value:x,onChange:R=>k(R.target.value)}),B.jsx("button",{type:"button",onClick:()=>Se(R=>!R),className:"toggle-password",children:ce?"Скрыть":"Показать"})]}),Q.confirmPassword&&B.jsx("p",{className:"error-message",children:Q.confirmPassword}),B.jsxs("label",{className:"checkbox-label",children:[B.jsx("input",{type:"checkbox",className:"checkbox-input",checked:O,onChange:R=>w(R.target.checked)}),"Подтверждаю данные"]}),Q.checkbox&&B.jsx("p",{className:"error-message",children:Q.checkbox})," ",B.jsx("button",{onClick:S,className:"widthBtn_popup",children:"Отправить"}),B.jsx("div",{className:"popup__close-btn",onClick:t,children:B.jsx("img",{src:iv,className:"popup__close-btn",alt:"Закрыть"})})]})})},dC=""+new URL("CourseDetails-Ds9jRGbN.png",import.meta.url).href,mC=()=>{const{id:a}=u0(),t=Os(),[i,s]=G.useState(null),[u,f]=G.useState(""),[d,g]=G.useState(!1);if(G.useEffect(()=>{(async()=>{try{const b=pc(Vs,"courses",a),D=await Rd(b);D.exists()?s({id:D.id,...D.data()}):f("Курс не найден")}catch(b){console.error("Ошибка при получении данных курса: ",b),f("Не удалось загрузить данные курса")}})()},[a]),u)return B.jsx("p",{className:"error-message",children:u});if(!i)return B.jsx("p",{className:"loading-message",children:"Загрузка..."});const p=()=>{g(E=>{const b=!E;return b?document.body.classList.add("body_fixed"):document.body.classList.remove("body_fixed"),b})},y=()=>{t("/")};return B.jsxs("div",{children:[B.jsxs("div",{className:"Arrow-back",onClick:y,children:[B.jsx("img",{className:"backImage",src:$E,alt:"Назад"}),B.jsx("h3",{className:"back",children:"Назад"})]}),B.jsxs("div",{className:"course-details container",children:[B.jsx("h1",{className:"common-title",children:i.name}),B.jsx("img",{src:dC,className:"CourseDetailsImage",alt:"Курс"}),B.jsx("p",{className:"course-text",children:i.text}),B.jsx("button",{className:"widthBtn widthBtn_inverted",onClick:p,children:"Зарегистрироваться на курс"}),B.jsx(ZE,{isOpen:d,onClose:p,course:i})]})]})},gC=()=>{const[a,t]=G.useState(null);return B.jsx(Y0,{basename:"/",children:B.jsxs(S0,{children:[B.jsx(br,{path:"/",element:B.jsx(cC,{})}),B.jsx(br,{path:"/login",element:B.jsx(fC,{setUserId:t})}),B.jsx(br,{path:"/profile",element:a?B.jsx(hC,{userId:a}):B.jsx(Iy,{to:"/login",replace:!0})}),B.jsx(br,{path:"*",element:B.jsx(Iy,{to:"/",replace:!0})}),B.jsx(br,{path:"/programs",element:B.jsx(XE,{})}),B.jsx(br,{path:"/courses/:id",element:B.jsx(mC,{})})," ",B.jsx(br,{path:"/popup",element:B.jsx(ZE,{})})]})})},pC=xA.createRoot(document.getElementById("root"));pC.render(B.jsx(q_.StrictMode,{children:B.jsx(gC,{})}));
