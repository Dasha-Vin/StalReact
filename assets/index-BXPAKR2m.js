(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var _ in l)_!=="key"&&(c[_]=l[_])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:c}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=r,reactJsxRuntime_production.jsxs=r,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function V(z){return z===null||typeof z!="object"?null:(z=R&&z[R]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,J={};function te(z,ue,ye){this.props=z,this.context=ue,this.refs=J,this.updater=ye||k}te.prototype.isReactComponent={},te.prototype.setState=function(z,ue){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ue,"setState")},te.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function oe(){}oe.prototype=te.prototype;function he(z,ue,ye){this.props=z,this.context=ue,this.refs=J,this.updater=ye||k}var ce=he.prototype=new oe;ce.constructor=he,q(ce,te.prototype),ce.isPureReactComponent=!0;var ve=Array.isArray,ge={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function G(z,ue,ye,_e,me,be){return ye=be.ref,{$$typeof:a,type:z,key:ue,ref:ye!==void 0?ye:null,props:be}}function L(z,ue){return G(z.type,ue,void 0,void 0,void 0,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===a}function w(z){var ue={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ye){return ue[ye]})}var K=/\/+/g;function W(z,ue){return typeof z=="object"&&z!==null&&z.key!=null?w(""+z.key):ue.toString(36)}function j(){}function Ye(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(ue){z.status==="pending"&&(z.status="fulfilled",z.value=ue)},function(ue){z.status==="pending"&&(z.status="rejected",z.reason=ue)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ct(z,ue,ye,_e,me){var be=typeof z;(be==="undefined"||be==="boolean")&&(z=null);var Pe=!1;if(z===null)Pe=!0;else switch(be){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(z.$$typeof){case a:case t:Pe=!0;break;case T:return Pe=z._init,Ct(Pe(z._payload),ue,ye,_e,me)}}if(Pe)return me=me(z),Pe=_e===""?"."+W(z,0):_e,ve(me)?(ye="",Pe!=null&&(ye=Pe.replace(K,"$&/")+"/"),Ct(me,ue,ye,"",function(ut){return ut})):me!=null&&(P(me)&&(me=L(me,ye+(me.key==null||z&&z.key===me.key?"":(""+me.key).replace(K,"$&/")+"/")+Pe)),ue.push(me)),1;Pe=0;var xt=_e===""?".":_e+":";if(ve(z))for(var Le=0;Le<z.length;Le++)_e=z[Le],be=xt+W(_e,Le),Pe+=Ct(_e,ue,ye,be,me);else if(Le=V(z),typeof Le=="function")for(z=Le.call(z),Le=0;!(_e=z.next()).done;)_e=_e.value,be=xt+W(_e,Le++),Pe+=Ct(_e,ue,ye,be,me);else if(be==="object"){if(typeof z.then=="function")return Ct(Ye(z),ue,ye,_e,me);throw ue=String(z),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function de(z,ue,ye){if(z==null)return z;var _e=[],me=0;return Ct(z,_e,"","",function(be){return ue.call(ye,be,me++)}),_e}function Ie(z){if(z._status===-1){var ue=z._result;ue=ue(),ue.then(function(ye){(z._status===0||z._status===-1)&&(z._status=1,z._result=ye)},function(ye){(z._status===0||z._status===-1)&&(z._status=2,z._result=ye)}),z._status===-1&&(z._status=0,z._result=ue)}if(z._status===1)return z._result.default;throw z._result}var Re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ke(){}return react_production.Children={map:de,forEach:function(z,ue,ye){de(z,function(){ue.apply(this,arguments)},ye)},count:function(z){var ue=0;return de(z,function(){ue++}),ue},toArray:function(z){return de(z,function(ue){return ue})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},react_production.Component=te,react_production.Fragment=r,react_production.Profiler=l,react_production.PureComponent=he,react_production.StrictMode=s,react_production.Suspense=p,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(z){return function(){return z.apply(null,arguments)}},react_production.cloneElement=function(z,ue,ye){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var _e=q({},z.props),me=z.key,be=void 0;if(ue!=null)for(Pe in ue.ref!==void 0&&(be=void 0),ue.key!==void 0&&(me=""+ue.key),ue)!Se.call(ue,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ue.ref===void 0||(_e[Pe]=ue[Pe]);var Pe=arguments.length-2;if(Pe===1)_e.children=ye;else if(1<Pe){for(var xt=Array(Pe),Le=0;Le<Pe;Le++)xt[Le]=arguments[Le+2];_e.children=xt}return G(z.type,me,void 0,void 0,be,_e)},react_production.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},react_production.createElement=function(z,ue,ye){var _e,me={},be=null;if(ue!=null)for(_e in ue.key!==void 0&&(be=""+ue.key),ue)Se.call(ue,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(me[_e]=ue[_e]);var Pe=arguments.length-2;if(Pe===1)me.children=ye;else if(1<Pe){for(var xt=Array(Pe),Le=0;Le<Pe;Le++)xt[Le]=arguments[Le+2];me.children=xt}if(z&&z.defaultProps)for(_e in Pe=z.defaultProps,Pe)me[_e]===void 0&&(me[_e]=Pe[_e]);return G(z,be,void 0,void 0,null,me)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(z){return{$$typeof:_,render:z}},react_production.isValidElement=P,react_production.lazy=function(z){return{$$typeof:T,_payload:{_status:-1,_result:z},_init:Ie}},react_production.memo=function(z,ue){return{$$typeof:g,type:z,compare:ue===void 0?null:ue}},react_production.startTransition=function(z){var ue=ge.T,ye={};ge.T=ye;try{var _e=z(),me=ge.S;me!==null&&me(ye,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(ke,Re)}catch(be){Re(be)}finally{ge.T=ue}},react_production.unstable_useCacheRefresh=function(){return ge.H.useCacheRefresh()},react_production.use=function(z){return ge.H.use(z)},react_production.useActionState=function(z,ue,ye){return ge.H.useActionState(z,ue,ye)},react_production.useCallback=function(z,ue){return ge.H.useCallback(z,ue)},react_production.useContext=function(z){return ge.H.useContext(z)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(z,ue){return ge.H.useDeferredValue(z,ue)},react_production.useEffect=function(z,ue){return ge.H.useEffect(z,ue)},react_production.useId=function(){return ge.H.useId()},react_production.useImperativeHandle=function(z,ue,ye){return ge.H.useImperativeHandle(z,ue,ye)},react_production.useInsertionEffect=function(z,ue){return ge.H.useInsertionEffect(z,ue)},react_production.useLayoutEffect=function(z,ue){return ge.H.useLayoutEffect(z,ue)},react_production.useMemo=function(z,ue){return ge.H.useMemo(z,ue)},react_production.useOptimistic=function(z,ue){return ge.H.useOptimistic(z,ue)},react_production.useReducer=function(z,ue,ye){return ge.H.useReducer(z,ue,ye)},react_production.useRef=function(z){return ge.H.useRef(z)},react_production.useState=function(z){return ge.H.useState(z)},react_production.useSyncExternalStore=function(z,ue,ye){return ge.H.useSyncExternalStore(z,ue,ye)},react_production.useTransition=function(){return ge.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(a){function t(de,Ie){var Re=de.length;de.push(Ie);e:for(;0<Re;){var ke=Re-1>>>1,z=de[ke];if(0<l(z,Ie))de[ke]=Ie,de[Re]=z,Re=ke;else break e}}function r(de){return de.length===0?null:de[0]}function s(de){if(de.length===0)return null;var Ie=de[0],Re=de.pop();if(Re!==Ie){de[0]=Re;e:for(var ke=0,z=de.length,ue=z>>>1;ke<ue;){var ye=2*(ke+1)-1,_e=de[ye],me=ye+1,be=de[me];if(0>l(_e,Re))me<z&&0>l(be,_e)?(de[ke]=be,de[me]=Re,ke=me):(de[ke]=_e,de[ye]=Re,ke=ye);else if(me<z&&0>l(be,Re))de[ke]=be,de[me]=Re,ke=me;else break e}}return Ie}function l(de,Ie){var Re=de.sortIndex-Ie.sortIndex;return Re!==0?Re:de.id-Ie.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,_=f.now();a.unstable_now=function(){return f.now()-_}}var p=[],g=[],T=1,R=null,V=3,k=!1,q=!1,J=!1,te=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function ce(de){for(var Ie=r(g);Ie!==null;){if(Ie.callback===null)s(g);else if(Ie.startTime<=de)s(g),Ie.sortIndex=Ie.expirationTime,t(p,Ie);else break;Ie=r(g)}}function ve(de){if(J=!1,ce(de),!q)if(r(p)!==null)q=!0,Ye();else{var Ie=r(g);Ie!==null&&Ct(ve,Ie.startTime-de)}}var ge=!1,Se=-1,G=5,L=-1;function P(){return!(a.unstable_now()-L<G)}function w(){if(ge){var de=a.unstable_now();L=de;var Ie=!0;try{e:{q=!1,J&&(J=!1,oe(Se),Se=-1),k=!0;var Re=V;try{t:{for(ce(de),R=r(p);R!==null&&!(R.expirationTime>de&&P());){var ke=R.callback;if(typeof ke=="function"){R.callback=null,V=R.priorityLevel;var z=ke(R.expirationTime<=de);if(de=a.unstable_now(),typeof z=="function"){R.callback=z,ce(de),Ie=!0;break t}R===r(p)&&s(p),ce(de)}else s(p);R=r(p)}if(R!==null)Ie=!0;else{var ue=r(g);ue!==null&&Ct(ve,ue.startTime-de),Ie=!1}}break e}finally{R=null,V=Re,k=!1}Ie=void 0}}finally{Ie?K():ge=!1}}}var K;if(typeof he=="function")K=function(){he(w)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,j=W.port2;W.port1.onmessage=w,K=function(){j.postMessage(null)}}else K=function(){te(w,0)};function Ye(){ge||(ge=!0,K())}function Ct(de,Ie){Se=te(function(){de(a.unstable_now())},Ie)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(de){de.callback=null},a.unstable_continueExecution=function(){q||k||(q=!0,Ye())},a.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<de?Math.floor(1e3/de):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_getFirstCallbackNode=function(){return r(p)},a.unstable_next=function(de){switch(V){case 1:case 2:case 3:var Ie=3;break;default:Ie=V}var Re=V;V=Ie;try{return de()}finally{V=Re}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(de,Ie){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Re=V;V=de;try{return Ie()}finally{V=Re}},a.unstable_scheduleCallback=function(de,Ie,Re){var ke=a.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?ke+Re:ke):Re=ke,de){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Re+z,de={id:T++,callback:Ie,priorityLevel:de,startTime:Re,expirationTime:z,sortIndex:-1},Re>ke?(de.sortIndex=Re,t(g,de),r(p)===null&&de===r(g)&&(J?(oe(Se),Se=-1):J=!0,Ct(ve,Re-ke))):(de.sortIndex=z,t(p,de),q||k||(q=!0,Ye())),de},a.unstable_shouldYield=P,a.unstable_wrapCallback=function(de){var Ie=V;return function(){var Re=V;V=Ie;try{return de.apply(this,arguments)}finally{V=Re}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var a=requireReact();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,g,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:g,implementation:T}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,reactDom_production.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(p,g,null,T)},reactDom_production.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},reactDom_production.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},reactDom_production.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},reactDom_production.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,R=_(T,g.crossOrigin),V=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:k}):T==="script"&&s.d.X(p,{crossOrigin:R,integrity:V,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},reactDom_production.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=_(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},reactDom_production.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,R=_(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},reactDom_production.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=_(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},reactDom_production.requestFormReset=function(p){s.d.r(p)},reactDom_production.unstable_batchedUpdates=function(p,g){return p(g)},reactDom_production.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},reactDom_production.useFormStatus=function(){return f.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var a=requireScheduler(),t=requireReact(),r=requireReactDom();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),ve=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var G=Symbol.for("react.client.reference");function L(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case _:return"Portal";case T:return"Profiler";case g:return"StrictMode";case J:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k:return(e.displayName||"Context")+".Provider";case V:return(e._context.displayName||"Context")+".Consumer";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return n=e.displayName||null,n!==null?n:L(e.type)||"Memo";case he:n=e._payload,e=e._init;try{return L(e(n))}catch{}}return null}var P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,K,W;function j(e){if(K===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);K=n&&n[1]||"",W=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+e+W}var Ye=!1;function Ct(e,n){if(!e||Ye)return"";Ye=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ie){var ne=ie}Reflect.construct(e,[],le)}else{try{le.call()}catch(ie){ne=ie}e.call(le.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],A=d[1];if(y&&A){var U=y.split(`
`),Y=A.split(`
`);for(h=o=0;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(o===U.length||h===Y.length)for(o=U.length-1,h=Y.length-1;1<=o&&0<=h&&U[o]!==Y[h];)h--;for(;1<=o&&0<=h;o--,h--)if(U[o]!==Y[h]){if(o!==1||h!==1)do if(o--,h--,0>h||U[o]!==Y[h]){var ae=`
`+U[o].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=o&&0<=h);break}}}finally{Ye=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?j(i):""}function de(e){switch(e.tag){case 26:case 27:case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 15:return e=Ct(e.type,!1),e;case 11:return e=Ct(e.type.render,!1),e;case 1:return e=Ct(e.type,!0),e;default:return""}}function Ie(e){try{var n="";do n+=de(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Re(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function ke(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function z(e){if(Re(e)!==e)throw Error(s(188))}function ue(e){var n=e.alternate;if(!n){if(n=Re(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,o=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return z(h),e;if(d===o)return z(h),n;d=d.sibling}throw Error(s(188))}if(i.return!==o.return)i=h,o=d;else{for(var y=!1,A=h.child;A;){if(A===i){y=!0,i=h,o=d;break}if(A===o){y=!0,o=h,i=d;break}A=A.sibling}if(!y){for(A=d.child;A;){if(A===i){y=!0,i=d,o=h;break}if(A===o){y=!0,o=d,i=h;break}A=A.sibling}if(!y)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function ye(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ye(e),n!==null)return n;e=e.sibling}return null}var _e=Array.isArray,me=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Pe=[],xt=-1;function Le(e){return{current:e}}function ut(e){0>xt||(e.current=Pe[xt],Pe[xt]=null,xt--)}function Fe(e,n){xt++,Pe[xt]=e.current,e.current=n}var Rn=Le(null),Ar=Le(null),Un=Le(null),$r=Le(null);function Xr(e,n){switch(Fe(Un,n),Fe(Ar,e),Fe(Rn,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?rd(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=rd(e),n=id(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ut(Rn),Fe(Rn,n)}function vr(){ut(Rn),ut(Ar),ut(Un)}function es(e){e.memoizedState!==null&&Fe($r,e);var n=Rn.current,i=id(n,e.type);n!==i&&(Fe(Ar,e),Fe(Rn,i))}function ca(e){Ar.current===e&&(ut(Rn),ut(Ar)),$r.current===e&&(ut($r),to._currentValue=be)}var ha=Object.prototype.hasOwnProperty,wi=a.unstable_scheduleCallback,fa=a.unstable_cancelCallback,bl=a.unstable_shouldYield,ts=a.unstable_requestPaint,Pn=a.unstable_now,so=a.unstable_getCurrentPriorityLevel,kt=a.unstable_ImmediatePriority,ln=a.unstable_UserBlockingPriority,Ir=a.unstable_NormalPriority,oo=a.unstable_LowPriority,ns=a.unstable_IdlePriority,Cl=a.log,Ni=a.unstable_setDisableYieldValue,Wr=null,yn=null;function rs(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Wr,e,void 0,(e.current.flags&128)===128)}catch{}}function sr(e){if(typeof Cl=="function"&&Ni(e),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(Wr,e)}catch{}}var An=Math.clz32?Math.clz32:uo,is=Math.log,lo=Math.LN2;function uo(e){return e>>>=0,e===0?32:31-(is(e)/lo|0)|0}var or=128,Zr=4194304;function er(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var A=i&134217727;return A!==0?(i=A&~h,i!==0?o=er(i):(d&=A,d!==0?o=er(d):e||(y=A&~y,y!==0&&(o=er(y))))):(A=i&~h,A!==0?o=er(A):d!==0?o=er(d):e||(y=i&~y,y!==0&&(o=er(y)))),o===0?0:n!==0&&n!==o&&(n&h)===0&&(h=o&-o,y=n&-n,h>=y||h===32&&(y&4194176)!==0)?n:o}function Jr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function da(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function as(){var e=or;return or<<=1,(or&4194176)===0&&(or=128),e}function ei(){var e=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),e}function _a(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function At(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function co(e,n,i,o,h,d){var y=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var A=e.entanglements,U=e.expirationTimes,Y=e.hiddenUpdates;for(i=y&~i;0<i;){var ae=31-An(i),le=1<<ae;A[ae]=0,U[ae]=-1;var ne=Y[ae];if(ne!==null)for(Y[ae]=null,ae=0;ae<ne.length;ae++){var ie=ne[ae];ie!==null&&(ie.lane&=-536870913)}i&=~le}o!==0&&ti(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~n))}function ti(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-An(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194218}function ni(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-An(i),h=1<<o;h&n|e[o]&n&&(e[o]|=n),i&=~h}}function ho(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fo(){var e=me.p;return e!==0?e:(e=window.event,e===void 0?32:Ad(e.type))}function ri(e,n){var i=me.p;try{return me.p=e,n()}finally{me.p=i}}var lr=Math.random().toString(36).slice(2),un="__reactFiber$"+lr,Ft="__reactProps$"+lr,Vr="__reactContainer$"+lr,Mi="__reactEvents$"+lr,ma="__reactListeners$"+lr,ur="__reactHandles$"+lr,ss="__reactResources$"+lr,ii="__reactMarker$"+lr;function Oi(e){delete e[un],delete e[Ft],delete e[Mi],delete e[ma],delete e[ur]}function tr(e){var n=e[un];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Vr]||i[un]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=od(e);e!==null;){if(i=e[un])return i;e=od(e)}return n}e=i,i=e.parentNode}return null}function Sr(e){if(e=e[un]||e[Vr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ai(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function si(e){var n=e[ss];return n||(n=e[ss]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $e(e){e[ii]=!0}var os=new Set,pa={};function xn(e,n){bn(e,n),bn(e+"Capture",n)}function bn(e,n){for(pa[e]=n,e=0;e<n.length;e++)os.add(n[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ls={},us={};function _o(e){return ha.call(us,e)?!0:ha.call(ls,e)?!1:xl.test(e)?us[e]=!0:(ls[e]=!0,!1)}function oi(e,n,i){if(_o(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function li(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Bn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(e){var n=mo(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Li(e){e._valueTracker||(e._valueTracker=Dl(e))}function cs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=mo(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pr=/[\n"\\]/g;function ct(e){return e.replace(Pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ui(e,n,i,o,h,d,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+vn(n)):e.value!==""+vn(n)&&(e.value=""+vn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Ea(e,y,vn(n)):i!=null?Ea(e,y,vn(i)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+vn(A):e.removeAttribute("name")}function Ui(e,n,i,o,h,d,y,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;i=i!=null?""+vn(i):"",n=n!=null?""+vn(n):i,A||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=A?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Ea(e,n,i){n==="number"&&ga(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ue(e,n,i,o){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+vn(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ji(e,n,i){if(n!=null&&(n=""+vn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+vn(i):""}function ci(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(s(92));if(_e(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=vn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function kn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var wl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hs(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||wl.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function po(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&i[h]!==o&&hs(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&hs(e,d,n[d])}function fs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ml=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return Ml.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zn=null;function ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var br=null,Cr=null;function xr(e){var n=Sr(e);if(n&&(e=n.stateNode)){var i=e[Ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(ui(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ct(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var h=o[Ft]||null;if(!h)throw Error(s(90));ui(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&cs(o)}break e;case"textarea":ji(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ue(e,!!i.multiple,n,!1)}}}var ds=!1;function go(e,n,i){if(ds)return e(n,i);ds=!0;try{var o=e(n);return o}finally{if(ds=!1,(br!==null||Cr!==null)&&(ll(),br&&(n=br,e=Cr,Cr=br=null,xr(n),e)))for(n=0;n<e.length;n++)xr(e[n])}}function Bi(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Ft]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Fn=!1;if(Dn)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Fn=!1}var hr=null,hi=null,Dr=null;function _s(){if(Dr)return Dr;var e,n=hi,i=n.length,o,h="value"in hr?hr.value:hr.textContent,d=h.length;for(e=0;e<i&&n[e]===h[e];e++);var y=i-e;for(o=1;o<=y&&n[i-o]===h[d-o];o++);return Dr=h.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function ms(){return!1}function cn(e){function n(i,o,h,d,y){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(i=e[A],this[A]=i?i(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?dr:ms,this.isPropagationStopped=ms,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),n}var ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=cn(ze),zi=w({},ze,{view:0,detail:0}),Eo=cn(zi),Ra,Aa,_r,Fi=w({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(Ra=e.screenX-_r.screenX,Aa=e.screenY-_r.screenY):Aa=Ra=0,_r=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),qn=cn(Fi),yo=w({},Fi,{dataTransfer:0}),Ol=cn(yo),qi=w({},zi,{relatedTarget:0}),va=cn(qi),ps=w({},ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=cn(ps),To=w({},ze,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Va=cn(To),Ll=w({},ze,{data:0}),gs=cn(Ll),Hi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ro={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Es(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ao[e])?!!n[e]:!1}function Gi(){return Es}var vo=w({},zi,{key:function(e){if(e.key){var n=Hi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ro[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sa=cn(vo),Io=w({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=cn(Io),wr=w({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),Vo=cn(wr),So=w({},ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Po=cn(So),bo=w({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=cn(bo),In=w({},ze,{newState:0,oldState:0}),Co=cn(In),xo=[9,13,27,32],mr=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,E=Dn&&(!mr||u&&8<u&&11>=u),I=" ",Z=!1;function re(e,n){switch(e){case"keyup":return xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ne=!1;function qt(e,n){switch(e){case"compositionend":return fe(n);case"keypress":return n.which!==32?null:(Z=!0,I);case"textInput":return e=n.data,e===I&&Z?null:e;default:return null}}function Me(e,n){if(Ne)return e==="compositionend"||!mr&&re(e,n)?(e=_s(),Dr=hi=hr=null,Ne=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return E&&n.locale!=="ko"?null:n.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!hn[e.type]:n==="textarea"}function Nr(e,n,i,o){br?Cr?Cr.push(o):Cr=[o]:br=o,n=dl(n,"onChange"),0<n.length&&(i=new Ta("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var mn=null,pr=null;function Ts(e){Zf(e,0)}function Do(e){var n=ai(e);if(cs(n))return e}function Sc(e,n){if(e==="change")return n}var Pc=!1;if(Dn){var Ul;if(Dn){var jl="oninput"in document;if(!jl){var bc=document.createElement("div");bc.setAttribute("oninput","return;"),jl=typeof bc.oninput=="function"}Ul=jl}else Ul=!1;Pc=Ul&&(!document.documentMode||9<document.documentMode)}function Cc(){mn&&(mn.detachEvent("onpropertychange",xc),pr=mn=null)}function xc(e){if(e.propertyName==="value"&&Do(pr)){var n=[];Nr(n,pr,e,ya(e)),go(Ts,n)}}function bd(e,n,i){e==="focusin"?(Cc(),mn=n,pr=i,mn.attachEvent("onpropertychange",xc)):e==="focusout"&&Cc()}function Cd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Do(pr)}function xd(e,n){if(e==="click")return Do(n)}function Dd(e,n){if(e==="input"||e==="change")return Do(n)}function wd(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:wd;function Rs(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!ha.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wc(e,n){var i=Dc(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dc(i)}}function Nc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ga(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ga(e.document)}return n}function Bl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Nd(e,n){var i=Mc(n);n=e.focusedElem;var o=e.selectionRange;if(i!==n&&n&&n.ownerDocument&&Nc(n.ownerDocument.documentElement,n)){if(o!==null&&Bl(n)){if(e=o.start,i=o.end,i===void 0&&(i=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(i,n.value.length);else if(i=(e=n.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var h=n.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!i.extend&&d>o&&(h=o,o=d,d=h),h=wc(n,d);var y=wc(n,o);h&&y&&(i.rangeCount!==1||i.anchorNode!==h.node||i.anchorOffset!==h.offset||i.focusNode!==y.node||i.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),i.removeAllRanges(),d>o?(i.addRange(e),i.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),i.addRange(e)))}}for(e=[],i=n;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)i=e[n],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Md=Dn&&"documentMode"in document&&11>=document.documentMode,ba=null,kl=null,As=null,zl=!1;function Oc(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;zl||ba==null||ba!==ga(o)||(o=ba,"selectionStart"in o&&Bl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),As&&Rs(As,o)||(As=o,o=dl(kl,"onSelect"),0<o.length&&(n=new Ta("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=ba)))}function Qi(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ca={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},Fl={},Lc={};Dn&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ki(e){if(Fl[e])return Fl[e];if(!Ca[e])return e;var n=Ca[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Lc)return Fl[e]=n[i];return e}var Uc=Ki("animationend"),jc=Ki("animationiteration"),Bc=Ki("animationstart"),Od=Ki("transitionrun"),Ld=Ki("transitionstart"),Ud=Ki("transitioncancel"),kc=Ki("transitionend"),zc=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function nr(e,n){zc.set(e,n),xn(n,[e])}var Hn=[],xa=0,ql=0;function wo(){for(var e=xa,n=ql=xa=0;n<e;){var i=Hn[n];Hn[n++]=null;var o=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var d=Hn[n];if(Hn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&qc(i,h,d)}}function No(e,n,i,o){Hn[xa++]=e,Hn[xa++]=n,Hn[xa++]=i,Hn[xa++]=o,ql|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hl(e,n,i,o){return No(e,n,i,o),Mo(e)}function fi(e,n){return No(e,null,null,n),Mo(e)}function qc(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var h=!1,d=e.return;d!==null;)d.childLanes|=i,o=d.alternate,o!==null&&(o.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&n!==null&&e.tag===3&&(d=e.stateNode,h=31-An(i),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[n]:e.push(n),n.lane=i|536870912)}function Mo(e){if(50<Ys)throw Ys=0,Xu=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Da={},Hc=new WeakMap;function Gn(e,n){if(typeof e=="object"&&e!==null){var i=Hc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Ie(n)},Hc.set(e,n),n)}return{value:e,source:n,stack:Ie(n)}}var wa=[],Na=0,Oo=null,Lo=0,Qn=[],Kn=0,Yi=null,Mr=1,Or="";function $i(e,n){wa[Na++]=Lo,wa[Na++]=Oo,Oo=e,Lo=n}function Gc(e,n,i){Qn[Kn++]=Mr,Qn[Kn++]=Or,Qn[Kn++]=Yi,Yi=e;var o=Mr;e=Or;var h=32-An(o)-1;o&=~(1<<h),i+=1;var d=32-An(n)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Mr=1<<32-An(n)+h|i<<h|o,Or=d+e}else Mr=1<<d|i<<h|o,Or=e}function Gl(e){e.return!==null&&($i(e,1),Gc(e,1,0))}function Ql(e){for(;e===Oo;)Oo=wa[--Na],wa[Na]=null,Lo=wa[--Na],wa[Na]=null;for(;e===Yi;)Yi=Qn[--Kn],Qn[Kn]=null,Or=Qn[--Kn],Qn[Kn]=null,Mr=Qn[--Kn],Qn[Kn]=null}var Vn=null,pn=null,je=!1,rr=null,gr=!1,Kl=Error(s(519));function Xi(e){var n=Error(s(418,""));throw Vs(Gn(n,e)),Kl}function Qc(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[un]=e,n[Ft]=o,i){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(i=0;i<Xs.length;i++)we(Xs[i],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":we("invalid",n),Ui(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Li(n);break;case"select":we("invalid",n);break;case"textarea":we("invalid",n),ci(n,o.value,o.defaultValue,o.children),Li(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||nd(n.textContent,i)?(o.popover!=null&&(we("beforetoggle",n),we("toggle",n)),o.onScroll!=null&&we("scroll",n),o.onScrollEnd!=null&&we("scrollend",n),o.onClick!=null&&(n.onclick=_l),n=!0):n=!1,n||Xi(e)}function Kc(e){for(Vn=e.return;Vn;)switch(Vn.tag){case 3:case 27:gr=!0;return;case 5:case 13:gr=!1;return;default:Vn=Vn.return}}function vs(e){if(e!==Vn)return!1;if(!je)return Kc(e),je=!0,!1;var n=!1,i;if((i=e.tag!==3&&e.tag!==27)&&((i=e.tag===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||dc(e.type,e.memoizedProps)),i=!i),i&&(n=!0),n&&pn&&Xi(e),Kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){pn=ar(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}pn=null}}else pn=Vn?ar(e.stateNode.nextSibling):null;return!0}function Is(){pn=Vn=null,je=!1}function Vs(e){rr===null?rr=[e]:rr.push(e)}var Ss=Error(s(460)),Yc=Error(s(474)),Yl={then:function(){}};function $c(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uo(){}function Xc(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Uo,Uo),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ss?Error(s(483)):e;default:if(typeof n.status=="string")n.then(Uo,Uo);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ss?Error(s(483)):e}throw Ps=n,Ss}}var Ps=null;function Wc(){if(Ps===null)throw Error(s(459));var e=Ps;return Ps=null,e}var Ma=null,bs=0;function jo(e){var n=bs;return bs+=1,Ma===null&&(Ma=[]),Xc(Ma,e,n)}function Cs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bo(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zc(e){var n=e._init;return n(e._payload)}function Jc(e){function n(X,H){if(e){var ee=X.deletions;ee===null?(X.deletions=[H],X.flags|=16):ee.push(H)}}function i(X,H){if(!e)return null;for(;H!==null;)n(X,H),H=H.sibling;return null}function o(X){for(var H=new Map;X!==null;)X.key!==null?H.set(X.key,X):H.set(X.index,X),X=X.sibling;return H}function h(X,H){return X=Ii(X,H),X.index=0,X.sibling=null,X}function d(X,H,ee){return X.index=ee,e?(ee=X.alternate,ee!==null?(ee=ee.index,ee<H?(X.flags|=33554434,H):ee):(X.flags|=33554434,H)):(X.flags|=1048576,H)}function y(X){return e&&X.alternate===null&&(X.flags|=33554434),X}function A(X,H,ee,se){return H===null||H.tag!==6?(H=Fu(ee,X.mode,se),H.return=X,H):(H=h(H,ee),H.return=X,H)}function U(X,H,ee,se){var pe=ee.type;return pe===p?ae(X,H,ee.props.children,se,ee.key):H!==null&&(H.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===he&&Zc(pe)===H.type)?(H=h(H,ee.props),Cs(H,ee),H.return=X,H):(H=rl(ee.type,ee.key,ee.props,null,X.mode,se),Cs(H,ee),H.return=X,H)}function Y(X,H,ee,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==ee.containerInfo||H.stateNode.implementation!==ee.implementation?(H=qu(ee,X.mode,se),H.return=X,H):(H=h(H,ee.children||[]),H.return=X,H)}function ae(X,H,ee,se,pe){return H===null||H.tag!==7?(H=sa(ee,X.mode,se,pe),H.return=X,H):(H=h(H,ee),H.return=X,H)}function le(X,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Fu(""+H,X.mode,ee),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return ee=rl(H.type,H.key,H.props,null,X.mode,ee),Cs(ee,H),ee.return=X,ee;case _:return H=qu(H,X.mode,ee),H.return=X,H;case he:var se=H._init;return H=se(H._payload),le(X,H,ee)}if(_e(H)||Se(H))return H=sa(H,X.mode,ee,null),H.return=X,H;if(typeof H.then=="function")return le(X,jo(H),ee);if(H.$$typeof===k)return le(X,el(X,H),ee);Bo(X,H)}return null}function ne(X,H,ee,se){var pe=H!==null?H.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return pe!==null?null:A(X,H,""+ee,se);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case f:return ee.key===pe?U(X,H,ee,se):null;case _:return ee.key===pe?Y(X,H,ee,se):null;case he:return pe=ee._init,ee=pe(ee._payload),ne(X,H,ee,se)}if(_e(ee)||Se(ee))return pe!==null?null:ae(X,H,ee,se,null);if(typeof ee.then=="function")return ne(X,H,jo(ee),se);if(ee.$$typeof===k)return ne(X,H,el(X,ee),se);Bo(X,ee)}return null}function ie(X,H,ee,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return X=X.get(ee)||null,A(H,X,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case f:return X=X.get(se.key===null?ee:se.key)||null,U(H,X,se,pe);case _:return X=X.get(se.key===null?ee:se.key)||null,Y(H,X,se,pe);case he:var xe=se._init;return se=xe(se._payload),ie(X,H,ee,se,pe)}if(_e(se)||Se(se))return X=X.get(ee)||null,ae(H,X,se,pe,null);if(typeof se.then=="function")return ie(X,H,ee,jo(se),pe);if(se.$$typeof===k)return ie(X,H,ee,el(H,se),pe);Bo(H,se)}return null}function Ee(X,H,ee,se){for(var pe=null,xe=null,Te=H,Ae=H=0,_n=null;Te!==null&&Ae<ee.length;Ae++){Te.index>Ae?(_n=Te,Te=null):_n=Te.sibling;var Be=ne(X,Te,ee[Ae],se);if(Be===null){Te===null&&(Te=_n);break}e&&Te&&Be.alternate===null&&n(X,Te),H=d(Be,H,Ae),xe===null?pe=Be:xe.sibling=Be,xe=Be,Te=_n}if(Ae===ee.length)return i(X,Te),je&&$i(X,Ae),pe;if(Te===null){for(;Ae<ee.length;Ae++)Te=le(X,ee[Ae],se),Te!==null&&(H=d(Te,H,Ae),xe===null?pe=Te:xe.sibling=Te,xe=Te);return je&&$i(X,Ae),pe}for(Te=o(Te);Ae<ee.length;Ae++)_n=ie(Te,X,Ae,ee[Ae],se),_n!==null&&(e&&_n.alternate!==null&&Te.delete(_n.key===null?Ae:_n.key),H=d(_n,H,Ae),xe===null?pe=_n:xe.sibling=_n,xe=_n);return e&&Te.forEach(function(Di){return n(X,Di)}),je&&$i(X,Ae),pe}function Ve(X,H,ee,se){if(ee==null)throw Error(s(151));for(var pe=null,xe=null,Te=H,Ae=H=0,_n=null,Be=ee.next();Te!==null&&!Be.done;Ae++,Be=ee.next()){Te.index>Ae?(_n=Te,Te=null):_n=Te.sibling;var Di=ne(X,Te,Be.value,se);if(Di===null){Te===null&&(Te=_n);break}e&&Te&&Di.alternate===null&&n(X,Te),H=d(Di,H,Ae),xe===null?pe=Di:xe.sibling=Di,xe=Di,Te=_n}if(Be.done)return i(X,Te),je&&$i(X,Ae),pe;if(Te===null){for(;!Be.done;Ae++,Be=ee.next())Be=le(X,Be.value,se),Be!==null&&(H=d(Be,H,Ae),xe===null?pe=Be:xe.sibling=Be,xe=Be);return je&&$i(X,Ae),pe}for(Te=o(Te);!Be.done;Ae++,Be=ee.next())Be=ie(Te,X,Ae,Be.value,se),Be!==null&&(e&&Be.alternate!==null&&Te.delete(Be.key===null?Ae:Be.key),H=d(Be,H,Ae),xe===null?pe=Be:xe.sibling=Be,xe=Be);return e&&Te.forEach(function(W_){return n(X,W_)}),je&&$i(X,Ae),pe}function yt(X,H,ee,se){if(typeof ee=="object"&&ee!==null&&ee.type===p&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case f:e:{for(var pe=ee.key;H!==null;){if(H.key===pe){if(pe=ee.type,pe===p){if(H.tag===7){i(X,H.sibling),se=h(H,ee.props.children),se.return=X,X=se;break e}}else if(H.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===he&&Zc(pe)===H.type){i(X,H.sibling),se=h(H,ee.props),Cs(se,ee),se.return=X,X=se;break e}i(X,H);break}else n(X,H);H=H.sibling}ee.type===p?(se=sa(ee.props.children,X.mode,se,ee.key),se.return=X,X=se):(se=rl(ee.type,ee.key,ee.props,null,X.mode,se),Cs(se,ee),se.return=X,X=se)}return y(X);case _:e:{for(pe=ee.key;H!==null;){if(H.key===pe)if(H.tag===4&&H.stateNode.containerInfo===ee.containerInfo&&H.stateNode.implementation===ee.implementation){i(X,H.sibling),se=h(H,ee.children||[]),se.return=X,X=se;break e}else{i(X,H);break}else n(X,H);H=H.sibling}se=qu(ee,X.mode,se),se.return=X,X=se}return y(X);case he:return pe=ee._init,ee=pe(ee._payload),yt(X,H,ee,se)}if(_e(ee))return Ee(X,H,ee,se);if(Se(ee)){if(pe=Se(ee),typeof pe!="function")throw Error(s(150));return ee=pe.call(ee),Ve(X,H,ee,se)}if(typeof ee.then=="function")return yt(X,H,jo(ee),se);if(ee.$$typeof===k)return yt(X,H,el(X,ee),se);Bo(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,H!==null&&H.tag===6?(i(X,H.sibling),se=h(H,ee),se.return=X,X=se):(i(X,H),se=Fu(ee,X.mode,se),se.return=X,X=se),y(X)):i(X,H)}return function(X,H,ee,se){try{bs=0;var pe=yt(X,H,ee,se);return Ma=null,pe}catch(Te){if(Te===Ss)throw Te;var xe=Wn(29,Te,null,X.mode);return xe.lanes=se,xe.return=X,xe}finally{}}}var Wi=Jc(!0),eh=Jc(!1),Oa=Le(null),ko=Le(0);function th(e,n){e=Qr,Fe(ko,e),Fe(Oa,n),Qr=e|n.baseLanes}function $l(){Fe(ko,Qr),Fe(Oa,Oa.current)}function Xl(){Qr=ko.current,ut(Oa),ut(ko)}var Yn=Le(null),Er=null;function di(e){var n=e.alternate;Fe(an,an.current&1),Fe(Yn,e),Er===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Er=e)}function nh(e){if(e.tag===22){if(Fe(an,an.current),Fe(Yn,e),Er===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Er=e)}}else _i()}function _i(){Fe(an,an.current),Fe(Yn,Yn.current)}function Lr(e){ut(Yn),Er===e&&(Er=null),ut(an)}var an=Le(0);function zo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jd=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Bd=a.unstable_scheduleCallback,kd=a.unstable_NormalPriority,on={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wl(){return{controller:new jd,data:new Map,refCount:0}}function xs(e){e.refCount--,e.refCount===0&&Bd(kd,function(){e.controller.abort()})}var Ds=null,Zl=0,La=0,Ua=null;function zd(e,n){if(Ds===null){var i=Ds=[];Zl=0,La=ic(),Ua={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Zl++,n.then(rh,rh),n}function rh(){if(--Zl===0&&Ds!==null){Ua!==null&&(Ua.status="fulfilled");var e=Ds;Ds=null,La=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Fd(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var ih=P.S;P.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&zd(e,n),ih!==null&&ih(e,n)};var Zi=Le(null);function Jl(){var e=Zi.current;return e!==null?e:Qe.pooledCache}function Fo(e,n){n===null?Fe(Zi,Zi.current):Fe(Zi,n.pool)}function ah(){var e=Jl();return e===null?null:{parent:on._currentValue,pool:e}}var mi=0,Ce=null,qe=null,Mt=null,qo=!1,ja=!1,Ji=!1,Ho=0,Ns=0,Ba=null,qd=0;function vt(){throw Error(s(321))}function eu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!wn(e[i],n[i]))return!1;return!0}function tu(e,n,i,o,h,d){return mi=d,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?ea:pi,Ji=!1,d=i(o,h),Ji=!1,ja&&(d=oh(n,i,o,h)),sh(e),d}function sh(e){P.H=yr;var n=qe!==null&&qe.next!==null;if(mi=0,Mt=qe=Ce=null,qo=!1,Ns=0,Ba=null,n)throw Error(s(300));e===null||fn||(e=e.dependencies,e!==null&&Jo(e)&&(fn=!0))}function oh(e,n,i,o){Ce=e;var h=0;do{if(ja&&(Ba=null),Ns=0,ja=!1,25<=h)throw Error(s(301));if(h+=1,Mt=qe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=ta,d=n(i,o)}while(ja);return d}function Hd(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Ms(n):n,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Ce.flags|=1024),n}function nu(){var e=Ho!==0;return Ho=0,e}function ru(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function iu(e){if(qo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qo=!1}mi=0,Mt=qe=Ce=null,ja=!1,Ns=Ho=0,Ba=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ce.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Lt(){if(qe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var n=Mt===null?Ce.memoizedState:Mt.next;if(n!==null)Mt=n,qe=e;else{if(e===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Mt===null?Ce.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}var Go;Go=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ms(e){var n=Ns;return Ns+=1,Ba===null&&(Ba=[]),e=Xc(Ba,e,n),n=Ce,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?ea:pi),e}function Qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ms(e);if(e.$$typeof===k)return Tn(e)}throw Error(s(438,String(e)))}function au(e){var n=null,i=Ce.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Go(),Ce.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=ve;return n.index++,i}function Ur(e,n){return typeof n=="function"?n(e):n}function Ko(e){var n=Lt();return su(n,qe,e)}function su(e,n,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var A=y=null,U=null,Y=n,ae=!1;do{var le=Y.lane&-536870913;if(le!==Y.lane?(Oe&le)===le:(mi&le)===le){var ne=Y.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),le===La&&(ae=!0);else if((mi&ne)===ne){Y=Y.next,ne===La&&(ae=!0);continue}else le={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(A=U=le,y=d):U=U.next=le,Ce.lanes|=ne,Vi|=ne;le=Y.action,Ji&&i(d,le),d=Y.hasEagerState?Y.eagerState:i(d,le)}else ne={lane:le,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(A=U=ne,y=d):U=U.next=ne,Ce.lanes|=le,Vi|=le;Y=Y.next}while(Y!==null&&Y!==n);if(U===null?y=d:U.next=A,!wn(d,e.memoizedState)&&(fn=!0,ae&&(i=Ua,i!==null)))throw i;e.memoizedState=d,e.baseState=y,e.baseQueue=U,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ou(e){var n=Lt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);wn(d,n.memoizedState)||(fn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,o]}function lh(e,n,i){var o=Ce,h=Lt(),d=je;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=n();var y=!wn((qe||h).memoizedState,i);if(y&&(h.memoizedState=i,fn=!0),h=h.queue,cu(hh.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,ka(9,ch.bind(null,o,h,i,n),{destroy:void 0},null),Qe===null)throw Error(s(349));d||(mi&60)!==0||uh(o,n,i)}return i}function uh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ce.updateQueue,n===null?(n=Go(),Ce.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function ch(e,n,i,o){n.value=i,n.getSnapshot=o,fh(n)&&dh(e)}function hh(e,n,i){return i(function(){fh(n)&&dh(e)})}function fh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!wn(e,i)}catch{return!0}}function dh(e){var n=fi(e,2);n!==null&&Sn(n,e,2)}function lu(e){var n=Cn();if(typeof e=="function"){var i=e;if(e=i(),Ji){sr(!0);try{i()}finally{sr(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},n}function _h(e,n,i,o){return e.baseState=i,su(e,qe,typeof o=="function"?o:Ur)}function Gd(e,n,i,o,h){if(Xo(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};P.T!==null?i(!0):d.isTransition=!1,o(d),i=n.pending,i===null?(d.next=n.pending=d,mh(n,d)):(d.next=i.next,n.pending=i.next=d)}}function mh(e,n){var i=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=P.T,y={};P.T=y;try{var A=i(h,o),U=P.S;U!==null&&U(y,A),ph(e,n,A)}catch(Y){uu(e,n,Y)}finally{P.T=d}}else try{d=i(h,o),ph(e,n,d)}catch(Y){uu(e,n,Y)}}function ph(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){gh(e,n,o)},function(o){return uu(e,n,o)}):gh(e,n,i)}function gh(e,n,i){n.status="fulfilled",n.value=i,Eh(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,mh(e,i)))}function uu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Eh(n),n=n.next;while(n!==o)}e.action=null}function Eh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yh(e,n){return n}function Th(e,n){if(je){var i=Qe.formState;if(i!==null){e:{var o=Ce;if(je){if(pn){t:{for(var h=pn,d=gr;h.nodeType!==8;){if(!d){h=null;break t}if(h=ar(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pn=ar(h.nextSibling),o=h.data==="F!";break e}}Xi(o)}o=!1}o&&(n=i[0])}}return i=Cn(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:n},i.queue=o,i=jh.bind(null,Ce,o),o.dispatch=i,o=lu(!1),d=mu.bind(null,Ce,!1,o.queue),o=Cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,i=Gd.bind(null,Ce,h,d,i),h.dispatch=i,o.memoizedState=e,[n,i,!1]}function Rh(e){var n=Lt();return Ah(n,qe,e)}function Ah(e,n,i){n=su(e,n,yh)[0],e=Ko(Ur)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ms(n):n;var o=Lt(),h=o.queue,d=h.dispatch;return i!==o.memoizedState&&(Ce.flags|=2048,ka(9,Qd.bind(null,h,i),{destroy:void 0},null)),[n,d,e]}function Qd(e,n){e.action=n}function vh(e){var n=Lt(),i=qe;if(i!==null)return Ah(n,i,e);Lt(),n=n.memoizedState,i=Lt();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function ka(e,n,i,o){return e={tag:e,create:n,inst:i,deps:o,next:null},n=Ce.updateQueue,n===null&&(n=Go(),Ce.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function Ih(){return Lt().memoizedState}function Yo(e,n,i,o){var h=Cn();Ce.flags|=e,h.memoizedState=ka(1|n,i,{destroy:void 0},o===void 0?null:o)}function $o(e,n,i,o){var h=Lt();o=o===void 0?null:o;var d=h.memoizedState.inst;qe!==null&&o!==null&&eu(o,qe.memoizedState.deps)?h.memoizedState=ka(n,i,d,o):(Ce.flags|=e,h.memoizedState=ka(1|n,i,d,o))}function Vh(e,n){Yo(8390656,8,e,n)}function cu(e,n){$o(2048,8,e,n)}function Sh(e,n){return $o(4,2,e,n)}function Ph(e,n){return $o(4,4,e,n)}function bh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ch(e,n,i){i=i!=null?i.concat([e]):null,$o(4,4,bh.bind(null,n,e),i)}function hu(){}function xh(e,n){var i=Lt();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&eu(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Dh(e,n){var i=Lt();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&eu(n,o[1]))return o[0];if(o=e(),Ji){sr(!0);try{e()}finally{sr(!1)}}return i.memoizedState=[o,n],o}function fu(e,n,i){return i===void 0||(mi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=Mf(),Ce.lanes|=e,Vi|=e,i)}function wh(e,n,i,o){return wn(i,n)?i:Oa.current!==null?(e=fu(e,i,o),wn(e,n)||(fn=!0),e):(mi&42)===0?(fn=!0,e.memoizedState=i):(e=Mf(),Ce.lanes|=e,Vi|=e,n)}function Nh(e,n,i,o,h){var d=me.p;me.p=d!==0&&8>d?d:8;var y=P.T,A={};P.T=A,mu(e,!1,n,i);try{var U=h(),Y=P.S;if(Y!==null&&Y(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=Fd(U,o);Os(e,n,ae,Ln(e))}else Os(e,n,o,Ln(e))}catch(le){Os(e,n,{then:function(){},status:"rejected",reason:le},Ln())}finally{me.p=d,P.T=y}}function Kd(){}function du(e,n,i,o){if(e.tag!==5)throw Error(s(476));var h=Mh(e).queue;Nh(e,h,n,be,i===null?Kd:function(){return Oh(e),i(o)})}function Mh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:be},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Oh(e){var n=Mh(e).next.queue;Os(e,n,{},Ln())}function _u(){return Tn(to)}function Lh(){return Lt().memoizedState}function Uh(){return Lt().memoizedState}function Yd(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ln();e=yi(i);var o=Ti(n,e,i);o!==null&&(Sn(o,n,i),js(o,n,i)),n={cache:Wl()},e.payload=n;return}n=n.return}}function $d(e,n,i){var o=Ln();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Bh(n,i):(i=Hl(e,n,i,o),i!==null&&(Sn(i,e,o),kh(i,n,o)))}function jh(e,n,i){var o=Ln();Os(e,n,i,o)}function Os(e,n,i,o){var h={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Bh(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,A=d(y,i);if(h.hasEagerState=!0,h.eagerState=A,wn(A,y))return No(e,n,h,0),Qe===null&&wo(),!1}catch{}finally{}if(i=Hl(e,n,h,o),i!==null)return Sn(i,e,o),kh(i,n,o),!0}return!1}function mu(e,n,i,o){if(o={lane:2,revertLane:ic(),action:o,hasEagerState:!1,eagerState:null,next:null},Xo(e)){if(n)throw Error(s(479))}else n=Hl(e,i,o,2),n!==null&&Sn(n,e,2)}function Xo(e){var n=e.alternate;return e===Ce||n!==null&&n===Ce}function Bh(e,n){ja=qo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function kh(e,n,i){if((i&4194176)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,ni(e,i)}}var yr={readContext:Tn,use:Qo,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};yr.useCacheRefresh=vt,yr.useMemoCache=vt,yr.useHostTransitionStatus=vt,yr.useFormState=vt,yr.useActionState=vt,yr.useOptimistic=vt;var ea={readContext:Tn,use:Qo,useCallback:function(e,n){return Cn().memoizedState=[e,n===void 0?null:n],e},useContext:Tn,useEffect:Vh,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Yo(4194308,4,bh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Yo(4194308,4,e,n)},useInsertionEffect:function(e,n){Yo(4,2,e,n)},useMemo:function(e,n){var i=Cn();n=n===void 0?null:n;var o=e();if(Ji){sr(!0);try{e()}finally{sr(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=Cn();if(i!==void 0){var h=i(n);if(Ji){sr(!0);try{i(n)}finally{sr(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=$d.bind(null,Ce,e),[o.memoizedState,e]},useRef:function(e){var n=Cn();return e={current:e},n.memoizedState=e},useState:function(e){e=lu(e);var n=e.queue,i=jh.bind(null,Ce,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:hu,useDeferredValue:function(e,n){var i=Cn();return fu(i,e,n)},useTransition:function(){var e=lu(!1);return e=Nh.bind(null,Ce,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=Ce,h=Cn();if(je){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Qe===null)throw Error(s(349));(Oe&60)!==0||uh(o,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,Vh(hh.bind(null,o,d,e),[e]),o.flags|=2048,ka(9,ch.bind(null,o,d,i,n),{destroy:void 0},null),i},useId:function(){var e=Cn(),n=Qe.identifierPrefix;if(je){var i=Or,o=Mr;i=(o&~(1<<32-An(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=Ho++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=qd++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return Cn().memoizedState=Yd.bind(null,Ce)}};ea.useMemoCache=au,ea.useHostTransitionStatus=_u,ea.useFormState=Th,ea.useActionState=Th,ea.useOptimistic=function(e){var n=Cn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=mu.bind(null,Ce,!0,i),i.dispatch=n,[e,n]};var pi={readContext:Tn,use:Qo,useCallback:xh,useContext:Tn,useEffect:cu,useImperativeHandle:Ch,useInsertionEffect:Sh,useLayoutEffect:Ph,useMemo:Dh,useReducer:Ko,useRef:Ih,useState:function(){return Ko(Ur)},useDebugValue:hu,useDeferredValue:function(e,n){var i=Lt();return wh(i,qe.memoizedState,e,n)},useTransition:function(){var e=Ko(Ur)[0],n=Lt().memoizedState;return[typeof e=="boolean"?e:Ms(e),n]},useSyncExternalStore:lh,useId:Lh};pi.useCacheRefresh=Uh,pi.useMemoCache=au,pi.useHostTransitionStatus=_u,pi.useFormState=Rh,pi.useActionState=Rh,pi.useOptimistic=function(e,n){var i=Lt();return _h(i,qe,e,n)};var ta={readContext:Tn,use:Qo,useCallback:xh,useContext:Tn,useEffect:cu,useImperativeHandle:Ch,useInsertionEffect:Sh,useLayoutEffect:Ph,useMemo:Dh,useReducer:ou,useRef:Ih,useState:function(){return ou(Ur)},useDebugValue:hu,useDeferredValue:function(e,n){var i=Lt();return qe===null?fu(i,e,n):wh(i,qe.memoizedState,e,n)},useTransition:function(){var e=ou(Ur)[0],n=Lt().memoizedState;return[typeof e=="boolean"?e:Ms(e),n]},useSyncExternalStore:lh,useId:Lh};ta.useCacheRefresh=Uh,ta.useMemoCache=au,ta.useHostTransitionStatus=_u,ta.useFormState=vh,ta.useActionState=vh,ta.useOptimistic=function(e,n){var i=Lt();return qe!==null?_h(i,qe,e,n):(i.baseState=e,[e,i.queue.dispatch])};function pu(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:w({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var gu={isMounted:function(e){return(e=e._reactInternals)?Re(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var o=Ln(),h=yi(o);h.payload=n,i!=null&&(h.callback=i),n=Ti(e,h,o),n!==null&&(Sn(n,e,o),js(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=Ln(),h=yi(o);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Ti(e,h,o),n!==null&&(Sn(n,e,o),js(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ln(),o=yi(i);o.tag=2,n!=null&&(o.callback=n),n=Ti(e,o,i),n!==null&&(Sn(n,e,i),js(n,e,i))}};function zh(e,n,i,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!Rs(i,o)||!Rs(h,d):!0}function Fh(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&gu.enqueueReplaceState(n,n.state,null)}function na(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=w({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}var Wo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qh(e){Wo(e)}function Hh(e){console.error(e)}function Gh(e){Wo(e)}function Zo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qh(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Eu(e,n,i){return i=yi(i),i.tag=3,i.payload={element:null},i.callback=function(){Zo(e,n)},i}function Kh(e){return e=yi(e),e.tag=3,e}function Yh(e,n,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Qh(n,i,o)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Qh(n,i,o),typeof h!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function Xd(e,n,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Us(n,i,h,!0),i=Yn.current,i!==null){switch(i.tag){case 13:return Er===null?Ju():i.alternate===null&&gt===0&&(gt=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===Yl?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),tc(e,o,h)),!1;case 22:return i.flags|=65536,o===Yl?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),tc(e,o,h)),!1}throw Error(s(435,i.tag))}return tc(e,o,h),Ju(),!1}if(je)return n=Yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kl&&(e=Error(s(422),{cause:o}),Vs(Gn(e,i)))):(o!==Kl&&(n=Error(s(423),{cause:o}),Vs(Gn(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Gn(o,i),h=Eu(e.stateNode,o,h),Nu(e,h),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:o});if(d=Gn(d,i),Qs===null?Qs=[d]:Qs.push(d),gt!==4&&(gt=2),n===null)return!0;o=Gn(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=Eu(i.stateNode,o,e),Nu(i,e),!1;case 1:if(n=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Si===null||!Si.has(d))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Kh(h),Yh(h,e,i,o),Nu(i,h),!1}i=i.return}while(i!==null);return!1}var $h=Error(s(461)),fn=!1;function gn(e,n,i,o){n.child=e===null?eh(n,null,i,o):Wi(n,e.child,i,o)}function Xh(e,n,i,o,h){i=i.render;var d=n.ref;if("ref"in o){var y={};for(var A in o)A!=="ref"&&(y[A]=o[A])}else y=o;return ia(n),o=tu(e,n,i,y,d,h),A=nu(),e!==null&&!fn?(ru(e,n,h),jr(e,n,h)):(je&&A&&Gl(n),n.flags|=1,gn(e,n,o,h),n.child)}function Wh(e,n,i,o,h){if(e===null){var d=i.type;return typeof d=="function"&&!zu(d)&&d.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=d,Zh(e,n,d,o,h)):(e=rl(i.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Pu(e,h)){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:Rs,i(y,o)&&e.ref===n.ref)return jr(e,n,h)}return n.flags|=1,e=Ii(d,o),e.ref=n.ref,e.return=n,n.child=e}function Zh(e,n,i,o,h){if(e!==null){var d=e.memoizedProps;if(Rs(d,o)&&e.ref===n.ref)if(fn=!1,n.pendingProps=o=d,Pu(e,h))(e.flags&131072)!==0&&(fn=!0);else return n.lanes=e.lanes,jr(e,n,h)}return yu(e,n,i,o,h)}function Jh(e,n,i){var o=n.pendingProps,h=o.children,d=(n.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(Ls(e,n),o.mode==="hidden"||d){if((n.flags&128)!==0){if(o=y!==null?y.baseLanes|i:i,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return ef(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fo(n,y!==null?y.cachePool:null),y!==null?th(n,y):$l(),nh(n);else return n.lanes=n.childLanes=536870912,ef(e,n,y!==null?y.baseLanes|i:i,i)}else y!==null?(Fo(n,y.cachePool),th(n,y),_i(),n.memoizedState=null):(e!==null&&Fo(n,null),$l(),_i());return gn(e,n,h,i),n.child}function ef(e,n,i,o){var h=Jl();return h=h===null?null:{parent:on._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Fo(n,null),$l(),nh(n),e!==null&&Us(e,n,o,!0),null}function Ls(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=2097664)}}function yu(e,n,i,o,h){return ia(n),i=tu(e,n,i,o,void 0,h),o=nu(),e!==null&&!fn?(ru(e,n,h),jr(e,n,h)):(je&&o&&Gl(n),n.flags|=1,gn(e,n,i,h),n.child)}function tf(e,n,i,o,h,d){return ia(n),n.updateQueue=null,i=oh(n,o,i,h),sh(e),o=nu(),e!==null&&!fn?(ru(e,n,d),jr(e,n,d)):(je&&o&&Gl(n),n.flags|=1,gn(e,n,i,d),n.child)}function nf(e,n,i,o,h){if(ia(n),n.stateNode===null){var d=Da,y=i.contextType;typeof y=="object"&&y!==null&&(d=Tn(y)),d=new i(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Du(n),y=i.contextType,d.context=typeof y=="object"&&y!==null?Tn(y):Da,d.state=n.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(pu(n,i,y,o),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&gu.enqueueReplaceState(d,d.state,null),ks(n,o,d,h),Bs(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var A=n.memoizedProps,U=na(i,A);d.props=U;var Y=d.context,ae=i.contextType;y=Da,typeof ae=="object"&&ae!==null&&(y=Tn(ae));var le=i.getDerivedStateFromProps;ae=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,ae||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||Y!==y)&&Fh(n,d,o,y),Ei=!1;var ne=n.memoizedState;d.state=ne,ks(n,o,d,h),Bs(),Y=n.memoizedState,A||ne!==Y||Ei?(typeof le=="function"&&(pu(n,i,le,o),Y=n.memoizedState),(U=Ei||zh(n,i,U,o,ne,Y,y))?(ae||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Y),d.props=o,d.state=Y,d.context=y,o=U):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,wu(e,n),y=n.memoizedProps,ae=na(i,y),d.props=ae,le=n.pendingProps,ne=d.context,Y=i.contextType,U=Da,typeof Y=="object"&&Y!==null&&(U=Tn(Y)),A=i.getDerivedStateFromProps,(Y=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==le||ne!==U)&&Fh(n,d,o,U),Ei=!1,ne=n.memoizedState,d.state=ne,ks(n,o,d,h),Bs();var ie=n.memoizedState;y!==le||ne!==ie||Ei||e!==null&&e.dependencies!==null&&Jo(e.dependencies)?(typeof A=="function"&&(pu(n,i,A,o),ie=n.memoizedState),(ae=Ei||zh(n,i,ae,o,ne,ie,U)||e!==null&&e.dependencies!==null&&Jo(e.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,ie,U),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,ie,U)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ie),d.props=o,d.state=ie,d.context=U,o=ae):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Ls(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Wi(n,e.child,null,h),n.child=Wi(n,null,i,h)):gn(e,n,i,h),n.memoizedState=d.state,e=n.child):e=jr(e,n,h),e}function rf(e,n,i,o){return Is(),n.flags|=256,gn(e,n,i,o),n.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:ah()}}function Au(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Zn),e}function af(e,n,i){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(an.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(je){if(h?di(n):_i(),je){var A=pn,U;if(U=A){e:{for(U=A,A=gr;U.nodeType!==8;){if(!A){A=null;break e}if(U=ar(U.nextSibling),U===null){A=null;break e}}A=U}A!==null?(n.memoizedState={dehydrated:A,treeContext:Yi!==null?{id:Mr,overflow:Or}:null,retryLane:536870912},U=Wn(18,null,null,0),U.stateNode=A,U.return=n,n.child=U,Vn=n,pn=null,U=!0):U=!1}U||Xi(n)}if(A=n.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?n.lanes=16:n.lanes=536870912,null;Lr(n)}return A=o.children,o=o.fallback,h?(_i(),h=n.mode,A=Iu({mode:"hidden",children:A},h),o=sa(o,h,i,null),A.return=n,o.return=n,A.sibling=o,n.child=A,h=n.child,h.memoizedState=Ru(i),h.childLanes=Au(e,y,i),n.memoizedState=Tu,o):(di(n),vu(n,A))}if(U=e.memoizedState,U!==null&&(A=U.dehydrated,A!==null)){if(d)n.flags&256?(di(n),n.flags&=-257,n=Vu(e,n,i)):n.memoizedState!==null?(_i(),n.child=e.child,n.flags|=128,n=null):(_i(),h=o.fallback,A=n.mode,o=Iu({mode:"visible",children:o.children},A),h=sa(h,A,i,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,Wi(n,e.child,null,i),o=n.child,o.memoizedState=Ru(i),o.childLanes=Au(e,y,i),n.memoizedState=Tu,n=h);else if(di(n),A.data==="$!"){if(y=A.nextSibling&&A.nextSibling.dataset,y)var Y=y.dgst;y=Y,o=Error(s(419)),o.stack="",o.digest=y,Vs({value:o,source:null,stack:null}),n=Vu(e,n,i)}else if(fn||Us(e,n,i,!1),y=(i&e.childLanes)!==0,fn||y){if(y=Qe,y!==null){if(o=i&-i,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(y.suspendedLanes|i))!==0?0:o,o!==0&&o!==U.retryLane)throw U.retryLane=o,fi(e,o),Sn(y,e,o),$h}A.data==="$?"||Ju(),n=Vu(e,n,i)}else A.data==="$?"?(n.flags|=128,n.child=e.child,n=h_.bind(null,e),A._reactRetry=n,n=null):(e=U.treeContext,pn=ar(A.nextSibling),Vn=n,je=!0,rr=null,gr=!1,e!==null&&(Qn[Kn++]=Mr,Qn[Kn++]=Or,Qn[Kn++]=Yi,Mr=e.id,Or=e.overflow,Yi=n),n=vu(n,o.children),n.flags|=4096);return n}return h?(_i(),h=o.fallback,A=n.mode,U=e.child,Y=U.sibling,o=Ii(U,{mode:"hidden",children:o.children}),o.subtreeFlags=U.subtreeFlags&31457280,Y!==null?h=Ii(Y,h):(h=sa(h,A,i,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,A=e.child.memoizedState,A===null?A=Ru(i):(U=A.cachePool,U!==null?(Y=on._currentValue,U=U.parent!==Y?{parent:Y,pool:Y}:U):U=ah(),A={baseLanes:A.baseLanes|i,cachePool:U}),h.memoizedState=A,h.childLanes=Au(e,y,i),n.memoizedState=Tu,o):(di(n),i=e.child,e=i.sibling,i=Ii(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=i,n.memoizedState=null,i)}function vu(e,n){return n=Iu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Iu(e,n){return Df(e,n,0,null)}function Vu(e,n,i){return Wi(n,e.child,null,i),e=vu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sf(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Cu(e.return,n,i)}function Su(e,n,i,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=i,d.tailMode=h)}function of(e,n,i){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(gn(e,n,o.children,i),o=an.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,i,n);else if(e.tag===19)sf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Fe(an,o),h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&zo(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Su(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zo(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Su(n,!0,i,null,d);break;case"together":Su(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function jr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Vi|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Us(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Ii(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Ii(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Pu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Jo(e)))}function Wd(e,n,i){switch(n.tag){case 3:Xr(n,n.stateNode.containerInfo),gi(n,on,e.memoizedState.cache),Is();break;case 27:case 5:es(n);break;case 4:Xr(n,n.stateNode.containerInfo);break;case 10:gi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(di(n),n.flags|=128,null):(i&n.child.childLanes)!==0?af(e,n,i):(di(n),e=jr(e,n,i),e!==null?e.sibling:null);di(n);break;case 19:var h=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Us(e,n,i,!1),o=(i&n.childLanes)!==0),h){if(o)return of(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Fe(an,an.current),o)break;return null;case 22:case 23:return n.lanes=0,Jh(e,n,i);case 24:gi(n,on,e.memoizedState.cache)}return jr(e,n,i)}function lf(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)fn=!0;else{if(!Pu(e,i)&&(n.flags&128)===0)return fn=!1,Wd(e,n,i);fn=(e.flags&131072)!==0}else fn=!1,je&&(n.flags&1048576)!==0&&Gc(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")zu(o)?(e=na(o,e),n.tag=1,n=nf(null,n,o,e,i)):(n.tag=0,n=yu(null,n,o,e,i));else{if(o!=null){if(h=o.$$typeof,h===q){n.tag=11,n=Xh(null,n,o,e,i);break e}else if(h===oe){n.tag=14,n=Wh(null,n,o,e,i);break e}}throw n=L(o)||o,Error(s(306,n,""))}}return n;case 0:return yu(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,h=na(o,n.pendingProps),nf(e,n,o,h,i);case 3:e:{if(Xr(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var d=n.pendingProps;h=n.memoizedState,o=h.element,wu(e,n),ks(n,d,null,i);var y=n.memoizedState;if(d=y.cache,gi(n,on,d),d!==h.cache&&xu(n,[on],i,!0),Bs(),d=y.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=rf(e,n,d,i);break e}else if(d!==o){o=Gn(Error(s(424)),n),Vs(o),n=rf(e,n,d,i);break e}else for(pn=ar(n.stateNode.containerInfo.firstChild),Vn=n,je=!0,rr=null,gr=!0,i=eh(n,null,d,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Is(),d===o){n=jr(e,n,i);break e}gn(e,n,d,i)}n=n.child}return n;case 26:return Ls(e,n),e===null?(i=hd(n.type,null,n.pendingProps,null))?n.memoizedState=i:je||(i=n.type,e=n.pendingProps,o=ml(Un.current).createElement(i),o[un]=n,o[Ft]=e,En(o,i,e),$e(o),n.stateNode=o):n.memoizedState=hd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return es(n),e===null&&je&&(o=n.stateNode=ld(n.type,n.pendingProps,Un.current),Vn=n,gr=!0,pn=ar(o.firstChild)),o=n.pendingProps.children,e!==null||je?gn(e,n,o,i):n.child=Wi(n,null,o,i),Ls(e,n),n.child;case 5:return e===null&&je&&((h=o=pn)&&(o=P_(o,n.type,n.pendingProps,gr),o!==null?(n.stateNode=o,Vn=n,pn=ar(o.firstChild),gr=!1,h=!0):h=!1),h||Xi(n)),es(n),h=n.type,d=n.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,dc(h,d)?o=null:y!==null&&dc(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=tu(e,n,Hd,null,null,i),to._currentValue=h),Ls(e,n),gn(e,n,o,i),n.child;case 6:return e===null&&je&&((e=i=pn)&&(i=b_(i,n.pendingProps,gr),i!==null?(n.stateNode=i,Vn=n,pn=null,e=!0):e=!1),e||Xi(n)),null;case 13:return af(e,n,i);case 4:return Xr(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Wi(n,null,o,i):gn(e,n,o,i),n.child;case 11:return Xh(e,n,n.type,n.pendingProps,i);case 7:return gn(e,n,n.pendingProps,i),n.child;case 8:return gn(e,n,n.pendingProps.children,i),n.child;case 12:return gn(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,gi(n,n.type,o.value),gn(e,n,o.children,i),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ia(n),h=Tn(h),o=o(h),n.flags|=1,gn(e,n,o,i),n.child;case 14:return Wh(e,n,n.type,n.pendingProps,i);case 15:return Zh(e,n,n.type,n.pendingProps,i);case 19:return of(e,n,i);case 22:return Jh(e,n,i);case 24:return ia(n),o=Tn(on),e===null?(h=Jl(),h===null&&(h=Qe,d=Wl(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=i),h=d),n.memoizedState={parent:o,cache:h},Du(n),gi(n,on,h)):((e.lanes&i)!==0&&(wu(e,n),ks(n,null,null,i),Bs()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gi(n,on,o)):(o=d.cache,gi(n,on,o),o!==h.cache&&xu(n,[on],i,!0))),gn(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var bu=Le(null),ra=null,Br=null;function gi(e,n,i){Fe(bu,n._currentValue),n._currentValue=i}function kr(e){e._currentValue=bu.current,ut(bu)}function Cu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function xu(e,n,i,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var U=0;U<n.length;U++)if(A.context===n[U]){d.lanes|=i,A=d.alternate,A!==null&&(A.lanes|=i),Cu(d.return,i,e),o||(y=null);break e}d=A.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=i,d=y.alternate,d!==null&&(d.lanes|=i),Cu(y,i,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Us(e,n,i,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var A=h.type;wn(h.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(h===$r.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(to):e=[to])}h=h.return}e!==null&&xu(n,e,i,o),n.flags|=262144}function Jo(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){ra=e,Br=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tn(e){return uf(ra,e)}function el(e,n){return ra===null&&ia(e),uf(e,n)}function uf(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Br===null){if(e===null)throw Error(s(308));Br=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Br=Br.next=n;return i}var Ei=!1;function Du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mo(e),qc(e,null,i),n}return No(e,o,n,i),Mo(e)}function js(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,ni(e,i)}}function Nu(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Mu=!1;function Bs(){if(Mu){var e=Ua;if(e!==null)throw e}}function ks(e,n,i,o){Mu=!1;var h=e.updateQueue;Ei=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var U=A,Y=U.next;U.next=null,y===null?d=Y:y.next=Y,y=U;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==y&&(A===null?ae.firstBaseUpdate=Y:A.next=Y,ae.lastBaseUpdate=U))}if(d!==null){var le=h.baseState;y=0,ae=Y=U=null,A=d;do{var ne=A.lane&-536870913,ie=ne!==A.lane;if(ie?(Oe&ne)===ne:(o&ne)===ne){ne!==0&&ne===La&&(Mu=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ee=e,Ve=A;ne=n;var yt=i;switch(Ve.tag){case 1:if(Ee=Ve.payload,typeof Ee=="function"){le=Ee.call(yt,le,ne);break e}le=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ve.payload,ne=typeof Ee=="function"?Ee.call(yt,le,ne):Ee,ne==null)break e;le=w({},le,ne);break e;case 2:Ei=!0}}ne=A.callback,ne!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=h.callbacks,ie===null?h.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(Y=ae=ie,U=le):ae=ae.next=ie,y|=ne;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,h.lastBaseUpdate=ie,h.shared.pending=null}}while(!0);ae===null&&(U=le),h.baseState=U,h.firstBaseUpdate=Y,h.lastBaseUpdate=ae,d===null&&(h.shared.lanes=0),Vi|=y,e.lanes=y,e.memoizedState=le}}function cf(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function hf(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)cf(i[e],n)}function zs(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&e)===e){o=void 0;var d=i.create,y=i.inst;o=d(),y.destroy=o}i=i.next}while(i!==h)}}catch(A){Ge(n,n.return,A)}}function Ri(e,n,i){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,h=n;var U=i;try{A()}catch(Y){Ge(h,U,Y)}}}o=o.next}while(o!==d)}}catch(Y){Ge(n,n.return,Y)}}function ff(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{hf(n,i)}catch(o){Ge(e,e.return,o)}}}function df(e,n,i){i.props=na(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Ge(e,n,o)}}function aa(e,n){try{var i=e.ref;if(i!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof i=="function"?e.refCleanup=i(h):i.current=h}}catch(d){Ge(e,n,d)}}function Nn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){Ge(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Ge(e,n,h)}else i.current=null}function _f(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){Ge(e,e.return,h)}}function mf(e,n,i){try{var o=e.stateNode;A_(o,e.type,i,n),o[Ft]=n}catch(h){Ge(e,e.return,h)}}function pf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=_l));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Lu(e,n,i),e=e.sibling;e!==null;)Lu(e,n,i),e=e.sibling}function tl(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(tl(e,n,i),e=e.sibling;e!==null;)tl(e,n,i),e=e.sibling}var zr=!1,pt=!1,Uu=!1,gf=typeof WeakSet=="function"?WeakSet:Set,dn=null,Ef=!1;function Zd(e,n){if(e=e.containerInfo,hc=Rl,e=Mc(e),Bl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,A=-1,U=-1,Y=0,ae=0,le=e,ne=null;t:for(;;){for(var ie;le!==i||h!==0&&le.nodeType!==3||(A=y+h),le!==d||o!==0&&le.nodeType!==3||(U=y+o),le.nodeType===3&&(y+=le.nodeValue.length),(ie=le.firstChild)!==null;)ne=le,le=ie;for(;;){if(le===e)break t;if(ne===i&&++Y===h&&(A=y),ne===d&&++ae===o&&(U=y),(ie=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=ie}i=A===-1||U===-1?null:{start:A,end:U}}else i=null}i=i||{start:0,end:0}}else i=null;for(fc={focusedElem:e,selectionRange:i},Rl=!1,dn=n;dn!==null;)if(n=dn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,dn=e;else for(;dn!==null;){switch(n=dn,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=n,h=d.memoizedProps,d=d.memoizedState,o=i.stateNode;try{var Ee=na(i.type,h,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Ee,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){Ge(i,i.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)pc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,dn=e;break}dn=n.return}return Ee=Ef,Ef=!1,Ee}function yf(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:qr(e,i),o&4&&zs(5,i);break;case 1:if(qr(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(A){Ge(i,i.return,A)}else{var h=na(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(A){Ge(i,i.return,A)}}o&64&&ff(i),o&512&&aa(i,i.return);break;case 3:if(qr(e,i),o&64&&(o=i.updateQueue,o!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{hf(o,e)}catch(A){Ge(i,i.return,A)}}break;case 26:qr(e,i),o&512&&aa(i,i.return);break;case 27:case 5:qr(e,i),n===null&&o&4&&_f(i),o&512&&aa(i,i.return);break;case 12:qr(e,i);break;case 13:qr(e,i),o&4&&Af(e,i);break;case 22:if(h=i.memoizedState!==null||zr,!h){n=n!==null&&n.memoizedState!==null||pt;var d=zr,y=pt;zr=h,(pt=n)&&!y?Ai(e,i,(i.subtreeFlags&8772)!==0):qr(e,i),zr=d,pt=y}o&512&&(i.memoizedProps.mode==="manual"?aa(i,i.return):Nn(i,i.return));break;default:qr(e,i)}}function Tf(e){var n=e.alternate;n!==null&&(e.alternate=null,Tf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Oi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bt=null,Mn=!1;function Fr(e,n,i){for(i=i.child;i!==null;)Rf(e,n,i),i=i.sibling}function Rf(e,n,i){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Wr,i)}catch{}switch(i.tag){case 26:pt||Nn(i,n),Fr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:pt||Nn(i,n);var o=Bt,h=Mn;for(Bt=i.stateNode,Fr(e,n,i),i=i.stateNode,n=i.attributes;n.length;)i.removeAttributeNode(n[0]);Oi(i),Bt=o,Mn=h;break;case 5:pt||Nn(i,n);case 6:h=Bt;var d=Mn;if(Bt=null,Fr(e,n,i),Bt=h,Mn=d,Bt!==null)if(Mn)try{e=Bt,o=i.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){Ge(i,n,y)}else try{Bt.removeChild(i.stateNode)}catch(y){Ge(i,n,y)}break;case 18:Bt!==null&&(Mn?(n=Bt,i=i.stateNode,n.nodeType===8?mc(n.parentNode,i):n.nodeType===1&&mc(n,i),ao(n)):mc(Bt,i.stateNode));break;case 4:o=Bt,h=Mn,Bt=i.stateNode.containerInfo,Mn=!0,Fr(e,n,i),Bt=o,Mn=h;break;case 0:case 11:case 14:case 15:pt||Ri(2,i,n),pt||Ri(4,i,n),Fr(e,n,i);break;case 1:pt||(Nn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&df(i,n,o)),Fr(e,n,i);break;case 21:Fr(e,n,i);break;case 22:pt||Nn(i,n),pt=(o=pt)||i.memoizedState!==null,Fr(e,n,i),pt=o;break;default:Fr(e,n,i)}}function Af(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ao(e)}catch(i){Ge(n,n.return,i)}}function Jd(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gf),n;default:throw Error(s(435,e.tag))}}function ju(e,n){var i=Jd(e);n.forEach(function(o){var h=f_.bind(null,e,o);i.has(o)||(i.add(o),o.then(h,h))})}function $n(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],d=e,y=n,A=y;e:for(;A!==null;){switch(A.tag){case 27:case 5:Bt=A.stateNode,Mn=!1;break e;case 3:Bt=A.stateNode.containerInfo,Mn=!0;break e;case 4:Bt=A.stateNode.containerInfo,Mn=!0;break e}A=A.return}if(Bt===null)throw Error(s(160));Rf(d,y,h),Bt=null,Mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)vf(n,e),n=n.sibling}var ir=null;function vf(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$n(n,e),Xn(e),o&4&&(Ri(3,e,e.return),zs(3,e),Ri(5,e,e.return));break;case 1:$n(n,e),Xn(e),o&512&&(pt||i===null||Nn(i,i.return)),o&64&&zr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=ir;if($n(n,e),Xn(e),o&512&&(pt||i===null||Nn(i,i.return)),o&4){var d=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ii]||d[un]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),En(d,o,i),d[un]=e,$e(d),o=d;break e;case"link":var y=_d("link","href",h).get(o+(i.href||""));if(y){for(var A=0;A<y.length;A++)if(d=y[A],d.getAttribute("href")===(i.href==null?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(A,1);break t}}d=h.createElement(o),En(d,o,i),h.head.appendChild(d);break;case"meta":if(y=_d("meta","content",h).get(o+(i.content||""))){for(A=0;A<y.length;A++)if(d=y[A],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(A,1);break t}}d=h.createElement(o),En(d,o,i),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[un]=e,$e(d),o=d}e.stateNode=o}else md(h,e.type,e.stateNode);else e.stateNode=dd(h,o,e.memoizedProps);else d!==o?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,o===null?md(h,e.type,e.stateNode):dd(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&mf(e,e.memoizedProps,i.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var U=h.firstChild;U;){var Y=U.nextSibling,ae=U.nodeName;U[ii]||ae==="HEAD"||ae==="BODY"||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&U.rel.toLowerCase()==="stylesheet"||h.removeChild(U),U=Y}for(var le=e.type,ne=h.attributes;ne.length;)h.removeAttributeNode(ne[0]);En(h,le,d),h[un]=e,h[Ft]=d}catch(Ee){Ge(e,e.return,Ee)}}case 5:if($n(n,e),Xn(e),o&512&&(pt||i===null||Nn(i,i.return)),e.flags&32){h=e.stateNode;try{kn(h,"")}catch(Ee){Ge(e,e.return,Ee)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,mf(e,h,i!==null?i.memoizedProps:h)),o&1024&&(Uu=!0);break;case 6:if($n(n,e),Xn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Ee){Ge(e,e.return,Ee)}}break;case 3:if(El=null,h=ir,ir=pl(n.containerInfo),$n(n,e),ir=h,Xn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(Ee){Ge(e,e.return,Ee)}Uu&&(Uu=!1,If(e));break;case 4:o=ir,ir=pl(e.stateNode.containerInfo),$n(n,e),Xn(e),ir=o;break;case 12:$n(n,e),Xn(e);break;case 13:$n(n,e),Xn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ku=Pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 22:if(o&512&&(pt||i===null||Nn(i,i.return)),U=e.memoizedState!==null,Y=i!==null&&i.memoizedState!==null,ae=zr,le=pt,zr=ae||U,pt=le||Y,$n(n,e),pt=le,zr=ae,Xn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=U?n._visibility&-2:n._visibility|1,U&&(n=zr||pt,i===null||Y||n||za(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(i=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(i===null){Y=i=n;try{if(h=Y.stateNode,U)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=Y.stateNode,A=Y.memoizedProps.style;var ie=A!=null&&A.hasOwnProperty("display")?A.display:null;y.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ee){Ge(Y,Y.return,Ee)}}}else if(n.tag===6){if(i===null){Y=n;try{Y.stateNode.nodeValue=U?"":Y.memoizedProps}catch(Ee){Ge(Y,Y.return,Ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,ju(e,i))));break;case 19:$n(n,e),Xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 21:break;default:$n(n,e),Xn(e)}}function Xn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){e:{for(var i=e.return;i!==null;){if(pf(i)){var o=i;break e}i=i.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=Ou(e);tl(e,d,h);break;case 5:var y=o.stateNode;o.flags&32&&(kn(y,""),o.flags&=-33);var A=Ou(e);tl(e,A,y);break;case 3:case 4:var U=o.stateNode.containerInfo,Y=Ou(e);Lu(e,Y,U);break;default:throw Error(s(161))}}}catch(ae){Ge(e,e.return,ae)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function If(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;If(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yf(e,n.alternate,n),n=n.sibling}function za(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ri(4,n,n.return),za(n);break;case 1:Nn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&df(n,n.return,i),za(n);break;case 26:case 27:case 5:Nn(n,n.return),za(n);break;case 22:Nn(n,n.return),n.memoizedState===null&&za(n);break;default:za(n)}e=e.sibling}}function Ai(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(h,d,i),zs(4,d);break;case 1:if(Ai(h,d,i),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){Ge(o,o.return,Y)}if(o=d,h=o.updateQueue,h!==null){var A=o.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)cf(U[h],A)}catch(Y){Ge(o,o.return,Y)}}i&&y&64&&ff(d),aa(d,d.return);break;case 26:case 27:case 5:Ai(h,d,i),i&&o===null&&y&4&&_f(d),aa(d,d.return);break;case 12:Ai(h,d,i);break;case 13:Ai(h,d,i),i&&y&4&&Af(h,d);break;case 22:d.memoizedState===null&&Ai(h,d,i),aa(d,d.return);break;default:Ai(h,d,i)}n=n.sibling}}function Bu(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&xs(i))}function ku(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xs(e))}function vi(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vf(e,n,i,o),n=n.sibling}function Vf(e,n,i,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n,i,o),h&2048&&zs(9,n);break;case 3:vi(e,n,i,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xs(e)));break;case 12:if(h&2048){vi(e,n,i,o),e=n.stateNode;try{var d=n.memoizedProps,y=d.id,A=d.onPostCommit;typeof A=="function"&&A(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Ge(n,n.return,U)}}else vi(e,n,i,o);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?vi(e,n,i,o):Fs(e,n):d._visibility&4?vi(e,n,i,o):(d._visibility|=4,Fa(e,n,i,o,(n.subtreeFlags&10256)!==0)),h&2048&&Bu(n.alternate,n);break;case 24:vi(e,n,i,o),h&2048&&ku(n.alternate,n);break;default:vi(e,n,i,o)}}function Fa(e,n,i,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,y=n,A=i,U=o,Y=y.flags;switch(y.tag){case 0:case 11:case 15:Fa(d,y,A,U,h),zs(8,y);break;case 23:break;case 22:var ae=y.stateNode;y.memoizedState!==null?ae._visibility&4?Fa(d,y,A,U,h):Fs(d,y):(ae._visibility|=4,Fa(d,y,A,U,h)),h&&Y&2048&&Bu(y.alternate,y);break;case 24:Fa(d,y,A,U,h),h&&Y&2048&&ku(y.alternate,y);break;default:Fa(d,y,A,U,h)}n=n.sibling}}function Fs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,h=o.flags;switch(o.tag){case 22:Fs(i,o),h&2048&&Bu(o.alternate,o);break;case 24:Fs(i,o),h&2048&&ku(o.alternate,o);break;default:Fs(i,o)}n=n.sibling}}var qs=8192;function qa(e){if(e.subtreeFlags&qs)for(e=e.child;e!==null;)Sf(e),e=e.sibling}function Sf(e){switch(e.tag){case 26:qa(e),e.flags&qs&&e.memoizedState!==null&&z_(ir,e.memoizedState,e.memoizedProps);break;case 5:qa(e);break;case 3:case 4:var n=ir;ir=pl(e.stateNode.containerInfo),qa(e),ir=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=qs,qs=16777216,qa(e),qs=n):qa(e));break;default:qa(e)}}function Pf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Hs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];dn=o,Cf(o,e)}Pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:Hs(e),e.flags&2048&&Ri(9,e,e.return);break;case 3:Hs(e);break;case 12:Hs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,nl(e)):Hs(e);break;default:Hs(e)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];dn=o,Cf(o,e)}Pf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ri(8,n,n.return),nl(n);break;case 22:i=n.stateNode,i._visibility&4&&(i._visibility&=-5,nl(n));break;default:nl(n)}e=e.sibling}}function Cf(e,n){for(;dn!==null;){var i=dn;switch(i.tag){case 0:case 11:case 15:Ri(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xs(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,dn=o;else e:for(i=e;dn!==null;){o=dn;var h=o.sibling,d=o.return;if(Tf(o),o===i){dn=null;break e}if(h!==null){h.return=d,dn=h;break e}dn=d}}}function e_(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,n,i,o){return new e_(e,n,i,o)}function zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,n){var i=e.alternate;return i===null?(i=Wn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&31457280,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function xf(e,n){e.flags&=31457282;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function rl(e,n,i,o,h,d){var y=0;if(o=e,typeof e=="function")zu(e)&&(y=1);else if(typeof e=="string")y=B_(e,i,Rn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case p:return sa(i.children,h,d,n);case g:y=8,h|=24;break;case T:return e=Wn(12,i,n,h|2),e.elementType=T,e.lanes=d,e;case J:return e=Wn(13,i,n,h),e.elementType=J,e.lanes=d,e;case te:return e=Wn(19,i,n,h),e.elementType=te,e.lanes=d,e;case ce:return Df(i,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case k:y=10;break e;case V:y=9;break e;case q:y=11;break e;case oe:y=14;break e;case he:y=16,o=null;break e}y=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Wn(y,i,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function sa(e,n,i,o){return e=Wn(7,e,o,n),e.lanes=i,e}function Df(e,n,i,o){e=Wn(22,e,o,n),e.elementType=ce,e.lanes=i;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var y=fi(d,2);y!==null&&(h._pendingVisibility|=2,Sn(y,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var y=fi(d,2);y!==null&&(h._pendingVisibility&=-3,Sn(y,d,2))}}};return e.stateNode=h,e}function Fu(e,n,i){return e=Wn(6,e,null,n),e.lanes=i,e}function qu(e,n,i){return n=Wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hr(e){e.flags|=4}function wf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pd(n)){if(n=Yn.current,n!==null&&((Oe&4194176)===Oe?Er!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||n!==Er))throw Ps=Yl,Yc;e.flags|=8192}}function il(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ei():536870912,e.lanes|=n,Ga|=n)}function Gs(e,n){if(!je)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function We(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function t_(e,n,i){var o=n.pendingProps;switch(Ql(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kr(on),vr(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vs(n)?Hr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rr!==null&&(Wu(rr),rr=null))),We(n),null;case 26:return i=n.memoizedState,e===null?(Hr(n),i!==null?(We(n),wf(n,i)):(We(n),n.flags&=-16777217)):i?i!==e.memoizedState?(Hr(n),We(n),wf(n,i)):(We(n),n.flags&=-16777217):(e.memoizedProps!==o&&Hr(n),We(n),n.flags&=-16777217),null;case 27:ca(n),i=Un.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return We(n),null}e=Rn.current,vs(n)?Qc(n):(e=ld(h,o,i),n.stateNode=e,Hr(n))}return We(n),null;case 5:if(ca(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return We(n),null}if(e=Rn.current,vs(n))Qc(n);else{switch(h=ml(Un.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(i,{is:o.is}):h.createElement(i)}}e[un]=n,e[Ft]=o;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;e:switch(En(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hr(n)}}return We(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Un.current,vs(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,h=Vn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[un]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||nd(e.nodeValue,i)),e||Xi(n)}else e=ml(e).createTextNode(o),e[un]=n,n.stateNode=e}return We(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=vs(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[un]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),h=!1}else rr!==null&&(Wu(rr),rr=null),h=!0;if(!h)return n.flags&256?(Lr(n),n):(Lr(n),null)}if(Lr(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),il(n,n.updateQueue),We(n),null;case 4:return vr(),e===null&&lc(n.stateNode.containerInfo),We(n),null;case 10:return kr(n.type),We(n),null;case 19:if(ut(an),h=n.memoizedState,h===null)return We(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Gs(h,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=zo(e),d!==null){for(n.flags|=128,Gs(h,!1),e=d.updateQueue,n.updateQueue=e,il(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)xf(i,e),i=i.sibling;return Fe(an,an.current&1|2),n.child}e=e.sibling}h.tail!==null&&Pn()>al&&(n.flags|=128,o=!0,Gs(h,!1),n.lanes=4194304)}else{if(!o)if(e=zo(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,il(n,e),Gs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return We(n),null}else 2*Pn()-h.renderingStartTime>al&&i!==536870912&&(n.flags|=128,o=!0,Gs(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Pn(),n.sibling=null,e=an.current,Fe(an,o?e&1|2:e&1),n):(We(n),null);case 22:case 23:return Lr(n),Xl(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),i=n.updateQueue,i!==null&&il(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&ut(Zi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),kr(on),We(n),null;case 25:return null}throw Error(s(156,n.tag))}function n_(e,n){switch(Ql(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kr(on),vr(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ca(n),null;case 13:if(Lr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ut(an),null;case 4:return vr(),null;case 10:return kr(n.type),null;case 22:case 23:return Lr(n),Xl(),e!==null&&ut(Zi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return kr(on),null;case 25:return null;default:return null}}function Nf(e,n){switch(Ql(n),n.tag){case 3:kr(on),vr();break;case 26:case 27:case 5:ca(n);break;case 4:vr();break;case 13:Lr(n);break;case 19:ut(an);break;case 10:kr(n.type);break;case 22:case 23:Lr(n),Xl(),e!==null&&ut(Zi);break;case 24:kr(on)}}var r_={getCacheForType:function(e){var n=Tn(on),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},i_=typeof WeakMap=="function"?WeakMap:Map,Je=0,Qe=null,De=null,Oe=0,Ke=0,On=null,Gr=!1,Ha=!1,Hu=!1,Qr=0,gt=0,Vi=0,oa=0,Gu=0,Zn=0,Ga=0,Qs=null,Tr=null,Qu=!1,Ku=0,al=1/0,sl=null,Si=null,ol=!1,la=null,Ks=0,Yu=0,$u=null,Ys=0,Xu=null;function Ln(){if((Je&2)!==0&&Oe!==0)return Oe&-Oe;if(P.T!==null){var e=La;return e!==0?e:ic()}return fo()}function Mf(){Zn===0&&(Zn=(Oe&536870912)===0||je?as():536870912);var e=Yn.current;return e!==null&&(e.flags|=32),Zn}function Sn(e,n,i){(e===Qe&&Ke===2||e.cancelPendingCommit!==null)&&(Qa(e,0),Kr(e,Oe,Zn,!1)),At(e,i),((Je&2)===0||e!==Qe)&&(e===Qe&&((Je&2)===0&&(oa|=i),gt===4&&Kr(e,Oe,Zn,!1)),Rr(e))}function Of(e,n,i){if((Je&6)!==0)throw Error(s(327));var o=!i&&(n&60)===0&&(n&e.expiredLanes)===0||Jr(e,n),h=o?o_(e,n):ec(e,n,!0),d=o;do{if(h===0){Ha&&!o&&Kr(e,n,0,!1);break}else if(h===6)Kr(e,n,0,!Gr);else{if(i=e.current.alternate,d&&!a_(i)){h=ec(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var A=e;h=Qs;var U=A.current.memoizedState.isDehydrated;if(U&&(Qa(A,y).flags|=256),y=ec(A,y,!1),y!==2){if(Hu&&!U){A.errorRecoveryDisabledLanes|=d,oa|=d,h=4;break e}d=Tr,Tr=h,d!==null&&Wu(d)}h=y}if(d=!1,h!==2)continue}}if(h===1){Qa(e,0),Kr(e,n,0,!0);break}e:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Kr(o,n,Zn,!Gr);break e}break;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=i,o.finishedLanes=n,(n&62914560)===n&&(d=Ku+300-Pn(),10<d)){if(Kr(o,n,Zn,!Gr),jn(o,0)!==0)break e;o.timeoutHandle=ad(Lf.bind(null,o,i,Tr,sl,Qu,n,Zn,oa,Ga,Gr,2,-0,0),d);break e}Lf(o,i,Tr,sl,Qu,n,Zn,oa,Ga,Gr,0,-0,0)}}break}while(!0);Rr(e)}function Wu(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function Lf(e,n,i,o,h,d,y,A,U,Y,ae,le,ne){var ie=n.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:k_},Sf(n),n=F_(),n!==null)){e.cancelPendingCommit=n(qf.bind(null,e,i,o,h,y,A,U,1,le,ne)),Kr(e,d,y,!Y);return}qf(e,i,o,h,y,A,U,ae,le,ne)}function a_(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Kr(e,n,i,o){n&=~Gu,n&=~oa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-An(h),y=1<<d;o[d]=-1,h&=~y}i!==0&&ti(e,i,n)}function ll(){return(Je&6)===0?($s(0),!1):!0}function Zu(){if(De!==null){if(Ke===0)var e=De.return;else e=De,Br=ra=null,iu(e),Ma=null,bs=0,e=De;for(;e!==null;)Nf(e.alternate,e),e=e.return;De=null}}function Qa(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,I_(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Zu(),Qe=e,De=i=Ii(e.current,null),Oe=n,Ke=0,On=null,Gr=!1,Ha=Jr(e,n),Hu=!1,Ga=Zn=Gu=oa=Vi=gt=0,Tr=Qs=null,Qu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-An(o),d=1<<h;n|=e[h],o&=~d}return Qr=n,wo(),i}function Uf(e,n){Ce=null,P.H=yr,n===Ss?(n=Wc(),Ke=3):n===Yc?(n=Wc(),Ke=4):Ke=n===$h?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,De===null&&(gt=1,Zo(e,Gn(n,e.current)))}function jf(){var e=P.H;return P.H=yr,e===null?yr:e}function Bf(){var e=P.A;return P.A=r_,e}function Ju(){gt=4,Gr||(Oe&4194176)!==Oe&&Yn.current!==null||(Ha=!0),(Vi&134217727)===0&&(oa&134217727)===0||Qe===null||Kr(Qe,Oe,Zn,!1)}function ec(e,n,i){var o=Je;Je|=2;var h=jf(),d=Bf();(Qe!==e||Oe!==n)&&(sl=null,Qa(e,n)),n=!1;var y=gt;e:do try{if(Ke!==0&&De!==null){var A=De,U=On;switch(Ke){case 8:Zu(),y=6;break e;case 3:case 2:case 6:Yn.current===null&&(n=!0);var Y=Ke;if(Ke=0,On=null,Ka(e,A,U,Y),i&&Ha){y=0;break e}break;default:Y=Ke,Ke=0,On=null,Ka(e,A,U,Y)}}s_(),y=gt;break}catch(ae){Uf(e,ae)}while(!0);return n&&e.shellSuspendCounter++,Br=ra=null,Je=o,P.H=h,P.A=d,De===null&&(Qe=null,Oe=0,wo()),y}function s_(){for(;De!==null;)kf(De)}function o_(e,n){var i=Je;Je|=2;var o=jf(),h=Bf();Qe!==e||Oe!==n?(sl=null,al=Pn()+500,Qa(e,n)):Ha=Jr(e,n);e:do try{if(Ke!==0&&De!==null){n=De;var d=On;t:switch(Ke){case 1:Ke=0,On=null,Ka(e,n,d,1);break;case 2:if($c(d)){Ke=0,On=null,zf(n);break}n=function(){Ke===2&&Qe===e&&(Ke=7),Rr(e)},d.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:$c(d)?(Ke=0,On=null,zf(n)):(Ke=0,On=null,Ka(e,n,d,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var A=De;if(!y||pd(y)){Ke=0,On=null;var U=A.sibling;if(U!==null)De=U;else{var Y=A.return;Y!==null?(De=Y,ul(Y)):De=null}break t}}Ke=0,On=null,Ka(e,n,d,5);break;case 6:Ke=0,On=null,Ka(e,n,d,6);break;case 8:Zu(),gt=6;break e;default:throw Error(s(462))}}l_();break}catch(ae){Uf(e,ae)}while(!0);return Br=ra=null,P.H=o,P.A=h,Je=i,De!==null?0:(Qe=null,Oe=0,wo(),gt)}function l_(){for(;De!==null&&!bl();)kf(De)}function kf(e){var n=lf(e.alternate,e,Qr);e.memoizedProps=e.pendingProps,n===null?ul(e):De=n}function zf(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=tf(i,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=tf(i,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:iu(n);default:Nf(i,n),n=De=xf(n,Qr),n=lf(i,n,Qr)}e.memoizedProps=e.pendingProps,n===null?ul(e):De=n}function Ka(e,n,i,o){Br=ra=null,iu(n),Ma=null,bs=0;var h=n.return;try{if(Xd(e,h,n,i,Oe)){gt=1,Zo(e,Gn(i,e.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;gt=1,Zo(e,Gn(i,e.current)),De=null;return}n.flags&32768?(je||o===1?e=!0:Ha||(Oe&536870912)!==0?e=!1:(Gr=e=!0,(o===2||o===3||o===6)&&(o=Yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ff(n,e)):ul(n)}function ul(e){var n=e;do{if((n.flags&32768)!==0){Ff(n,Gr);return}e=n.return;var i=t_(n.alternate,n,Qr);if(i!==null){De=i;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);gt===0&&(gt=5)}function Ff(e,n){do{var i=n_(e.alternate,e);if(i!==null){i.flags&=32767,De=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){De=e;return}De=e=i}while(e!==null);gt=6,De=null}function qf(e,n,i,o,h,d,y,A,U,Y){var ae=P.T,le=me.p;try{me.p=2,P.T=null,u_(e,n,i,o,le,h,d,y,A,U,Y)}finally{P.T=ae,me.p=le}}function u_(e,n,i,o,h,d,y,A){do Ya();while(la!==null);if((Je&6)!==0)throw Error(s(327));var U=e.finishedWork;if(o=e.finishedLanes,U===null)return null;if(e.finishedWork=null,e.finishedLanes=0,U===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var Y=U.lanes|U.childLanes;if(Y|=ql,co(e,o,Y,d,y,A),e===Qe&&(De=Qe=null,Oe=0),(U.subtreeFlags&10256)===0&&(U.flags&10256)===0||ol||(ol=!0,Yu=Y,$u=i,d_(Ir,function(){return Ya(),null})),i=(U.flags&15990)!==0,(U.subtreeFlags&15990)!==0||i?(i=P.T,P.T=null,d=me.p,me.p=2,y=Je,Je|=4,Zd(e,U),vf(U,e),Nd(fc,e.containerInfo),Rl=!!hc,fc=hc=null,e.current=U,yf(e,U.alternate,U),ts(),Je=y,me.p=d,P.T=i):e.current=U,ol?(ol=!1,la=e,Ks=o):Hf(e,Y),Y=e.pendingLanes,Y===0&&(Si=null),rs(U.stateNode),Rr(e),n!==null)for(h=e.onRecoverableError,U=0;U<n.length;U++)Y=n[U],h(Y.value,{componentStack:Y.stack});return(Ks&3)!==0&&Ya(),Y=e.pendingLanes,(o&4194218)!==0&&(Y&42)!==0?e===Xu?Ys++:(Ys=0,Xu=e):Ys=0,$s(0),null}function Hf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xs(n)))}function Ya(){if(la!==null){var e=la,n=Yu;Yu=0;var i=ho(Ks),o=P.T,h=me.p;try{if(me.p=32>i?32:i,P.T=null,la===null)var d=!1;else{i=$u,$u=null;var y=la,A=Ks;if(la=null,Ks=0,(Je&6)!==0)throw Error(s(331));var U=Je;if(Je|=4,bf(y.current),Vf(y,y.current,A,i),Je=U,$s(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Wr,y)}catch{}d=!0}return d}finally{me.p=h,P.T=o,Hf(e,n)}}return!1}function Gf(e,n,i){n=Gn(i,n),n=Eu(e.stateNode,n,2),e=Ti(e,n,2),e!==null&&(At(e,2),Rr(e))}function Ge(e,n,i){if(e.tag===3)Gf(e,e,i);else for(;n!==null;){if(n.tag===3){Gf(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){e=Gn(i,e),i=Kh(2),o=Ti(n,i,2),o!==null&&(Yh(i,o,n,e),At(o,2),Rr(o));break}}n=n.return}}function tc(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new i_;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(i)||(Hu=!0,h.add(i),e=c_.bind(null,e,n,i),n.then(e,e))}function c_(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Qe===e&&(Oe&i)===i&&(gt===4||gt===3&&(Oe&62914560)===Oe&&300>Pn()-Ku?(Je&2)===0&&Qa(e,0):Gu|=i,Ga===Oe&&(Ga=0)),Rr(e)}function Qf(e,n){n===0&&(n=ei()),e=fi(e,n),e!==null&&(At(e,n),Rr(e))}function h_(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Qf(e,i)}function f_(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Qf(e,i)}function d_(e,n){return wi(e,n)}var cl=null,$a=null,nc=!1,hl=!1,rc=!1,ua=0;function Rr(e){e!==$a&&e.next===null&&($a===null?cl=$a=e:$a=$a.next=e),hl=!0,nc||(nc=!0,m_(__))}function $s(e,n){if(!rc&&hl){rc=!0;do for(var i=!1,o=cl;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-An(42|e)+1)-1,d&=h&~(y&~A),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(i=!0,$f(o,d))}else d=Oe,d=jn(o,o===Qe?d:0),(d&3)===0||Jr(o,d)||(i=!0,$f(o,d));o=o.next}while(i);rc=!1}}function __(){hl=nc=!1;var e=0;ua!==0&&(v_()&&(e=ua),ua=0);for(var n=Pn(),i=null,o=cl;o!==null;){var h=o.next,d=Kf(o,n);d===0?(o.next=null,i===null?cl=h:i.next=h,h===null&&($a=i)):(i=o,(e!==0||(d&3)!==0)&&(hl=!0)),o=h}$s(e)}function Kf(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-An(d),A=1<<y,U=h[y];U===-1?((A&i)===0||(A&o)!==0)&&(h[y]=da(A,n)):U<=n&&(e.expiredLanes|=A),d&=~A}if(n=Qe,i=Oe,i=jn(e,e===n?i:0),o=e.callbackNode,i===0||e===n&&Ke===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fa(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Jr(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&fa(o),ho(i)){case 2:case 8:i=ln;break;case 32:i=Ir;break;case 268435456:i=ns;break;default:i=Ir}return o=Yf.bind(null,e),i=wi(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&fa(o),e.callbackPriority=2,e.callbackNode=null,2}function Yf(e,n){var i=e.callbackNode;if(Ya()&&e.callbackNode!==i)return null;var o=Oe;return o=jn(e,e===Qe?o:0),o===0?null:(Of(e,o,n),Kf(e,Pn()),e.callbackNode!=null&&e.callbackNode===i?Yf.bind(null,e):null)}function $f(e,n){if(Ya())return null;Of(e,n,!0)}function m_(e){V_(function(){(Je&6)!==0?wi(kt,e):e()})}function ic(){return ua===0&&(ua=as()),ua}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function Wf(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function p_(e,n,i,o,h){if(n==="submit"&&i&&i.stateNode===h){var d=Xf((h[Ft]||null).action),y=o.submitter;y&&(n=(n=y[Ft]||null)?Xf(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var A=new Ta("action","action",null,o,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ua!==0){var U=y?Wf(h,y):new FormData(h);du(i,{pending:!0,data:U,method:h.method,action:d},null,U)}}else typeof d=="function"&&(A.preventDefault(),U=y?Wf(h,y):new FormData(h),du(i,{pending:!0,data:U,method:h.method,action:d},d,U))},currentTarget:h}]})}}for(var ac=0;ac<Fc.length;ac++){var sc=Fc[ac],g_=sc.toLowerCase(),E_=sc[0].toUpperCase()+sc.slice(1);nr(g_,"on"+E_)}nr(Uc,"onAnimationEnd"),nr(jc,"onAnimationIteration"),nr(Bc,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Od,"onTransitionRun"),nr(Ld,"onTransitionStart"),nr(Ud,"onTransitionCancel"),nr(kc,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xs));function Zf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var A=o[y],U=A.instance,Y=A.currentTarget;if(A=A.listener,U!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=Y;try{d(h)}catch(ae){Wo(ae)}h.currentTarget=null,d=U}else for(y=0;y<o.length;y++){if(A=o[y],U=A.instance,Y=A.currentTarget,A=A.listener,U!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=Y;try{d(h)}catch(ae){Wo(ae)}h.currentTarget=null,d=U}}}}function we(e,n){var i=n[Mi];i===void 0&&(i=n[Mi]=new Set);var o=e+"__bubble";i.has(o)||(Jf(n,e,2,!1),i.add(o))}function oc(e,n,i){var o=0;n&&(o|=4),Jf(i,e,o,n)}var fl="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[fl]){e[fl]=!0,os.forEach(function(i){i!=="selectionchange"&&(y_.has(i)||oc(i,!1,e),oc(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fl]||(n[fl]=!0,oc("selectionchange",!1,n))}}function Jf(e,n,i,o){switch(Ad(n)){case 2:var h=G_;break;case 8:h=Q_;break;default:h=Rc}i=h.bind(null,n,i,e),h=void 0,!Fn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function uc(e,n,i,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var A=o.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var U=y.tag;if((U===3||U===4)&&(U=y.stateNode.containerInfo,U===h||U.nodeType===8&&U.parentNode===h))return;y=y.return}for(;A!==null;){if(y=tr(A),y===null)return;if(U=y.tag,U===5||U===6||U===26||U===27){o=d=y;continue e}A=A.parentNode}}o=o.return}go(function(){var Y=d,ae=ya(i),le=[];e:{var ne=zc.get(e);if(ne!==void 0){var ie=Ta,Ee=e;switch(e){case"keypress":if(fr(i)===0)break e;case"keydown":case"keyup":ie=Sa;break;case"focusin":Ee="focus",ie=va;break;case"focusout":Ee="blur",ie=va;break;case"beforeblur":case"afterblur":ie=va;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Vo;break;case Uc:case jc:case Bc:ie=Ia;break;case kc:ie=Po;break;case"scroll":case"scrollend":ie=Eo;break;case"wheel":ie=Pa;break;case"copy":case"cut":case"paste":ie=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ys;break;case"toggle":case"beforetoggle":ie=Co}var Ve=(n&4)!==0,yt=!Ve&&(e==="scroll"||e==="scrollend"),X=Ve?ne!==null?ne+"Capture":null:ne;Ve=[];for(var H=Y,ee;H!==null;){var se=H;if(ee=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||ee===null||X===null||(se=Bi(H,X),se!=null&&Ve.push(Ws(H,se,ee))),yt)break;H=H.return}0<Ve.length&&(ne=new ie(ne,Ee,null,i,ae),le.push({event:ne,listeners:Ve}))}}if((n&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ne&&i!==zn&&(Ee=i.relatedTarget||i.fromElement)&&(tr(Ee)||Ee[Vr]))break e;if((ie||ne)&&(ne=ae.window===ae?ae:(ne=ae.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Ee=i.relatedTarget||i.toElement,ie=Y,Ee=Ee?tr(Ee):null,Ee!==null&&(yt=Re(Ee),Ve=Ee.tag,Ee!==yt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ee=null)):(ie=null,Ee=Y),ie!==Ee)){if(Ve=qn,se="onMouseLeave",X="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=ys,se="onPointerLeave",X="onPointerEnter",H="pointer"),yt=ie==null?ne:ai(ie),ee=Ee==null?ne:ai(Ee),ne=new Ve(se,H+"leave",ie,i,ae),ne.target=yt,ne.relatedTarget=ee,se=null,tr(ae)===Y&&(Ve=new Ve(X,H+"enter",Ee,i,ae),Ve.target=ee,Ve.relatedTarget=yt,se=Ve),yt=se,ie&&Ee)t:{for(Ve=ie,X=Ee,H=0,ee=Ve;ee;ee=Xa(ee))H++;for(ee=0,se=X;se;se=Xa(se))ee++;for(;0<H-ee;)Ve=Xa(Ve),H--;for(;0<ee-H;)X=Xa(X),ee--;for(;H--;){if(Ve===X||X!==null&&Ve===X.alternate)break t;Ve=Xa(Ve),X=Xa(X)}Ve=null}else Ve=null;ie!==null&&ed(le,ne,ie,Ve,!1),Ee!==null&&yt!==null&&ed(le,yt,Ee,Ve,!0)}}e:{if(ne=Y?ai(Y):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var pe=Sc;else if(nn(ne))if(Pc)pe=Dd;else{pe=Cd;var xe=bd}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Y&&fs(Y.elementType)&&(pe=Sc):pe=xd;if(pe&&(pe=pe(e,Y))){Nr(le,pe,i,ae);break e}xe&&xe(e,ne,Y),e==="focusout"&&Y&&ne.type==="number"&&Y.memoizedProps.value!=null&&Ea(ne,"number",ne.value)}switch(xe=Y?ai(Y):window,e){case"focusin":(nn(xe)||xe.contentEditable==="true")&&(ba=xe,kl=Y,As=null);break;case"focusout":As=kl=ba=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,Oc(le,i,ae);break;case"selectionchange":if(Md)break;case"keydown":case"keyup":Oc(le,i,ae)}var Te;if(mr)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ne?re(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(E&&i.locale!=="ko"&&(Ne||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ne&&(Te=_s()):(hr=ae,hi="value"in hr?hr.value:hr.textContent,Ne=!0)),xe=dl(Y,Ae),0<xe.length&&(Ae=new gs(Ae,e,null,i,ae),le.push({event:Ae,listeners:xe}),Te?Ae.data=Te:(Te=fe(i),Te!==null&&(Ae.data=Te)))),(Te=m?qt(e,i):Me(e,i))&&(Ae=dl(Y,"onBeforeInput"),0<Ae.length&&(xe=new gs("onBeforeInput","beforeinput",null,i,ae),le.push({event:xe,listeners:Ae}),xe.data=Te)),p_(le,e,Y,i,ae)}Zf(le,n)})}function Ws(e,n,i){return{instance:e,listener:n,currentTarget:i}}function dl(e,n){for(var i=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Bi(e,i),h!=null&&o.unshift(Ws(e,h,d)),h=Bi(e,n),h!=null&&o.push(Ws(e,h,d))),e=e.return}return o}function Xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ed(e,n,i,o,h){for(var d=n._reactName,y=[];i!==null&&i!==o;){var A=i,U=A.alternate,Y=A.stateNode;if(A=A.tag,U!==null&&U===o)break;A!==5&&A!==26&&A!==27||Y===null||(U=Y,h?(Y=Bi(i,d),Y!=null&&y.unshift(Ws(i,Y,U))):h||(Y=Bi(i,d),Y!=null&&y.push(Ws(i,Y,U)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var T_=/\r\n?/g,R_=/\u0000|\uFFFD/g;function td(e){return(typeof e=="string"?e:""+e).replace(T_,`
`).replace(R_,"")}function nd(e,n){return n=td(n),td(e)===n}function _l(){}function He(e,n,i,o,h,d){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||kn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&kn(e,""+o);break;case"className":li(e,"class",o);break;case"tabIndex":li(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":li(e,i,o);break;case"style":po(e,o,d);break;case"data":if(n!=="object"){li(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=cr(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(n!=="input"&&He(e,n,"name",h.name,h,null),He(e,n,"formEncType",h.formEncType,h,null),He(e,n,"formMethod",h.formMethod,h,null),He(e,n,"formTarget",h.formTarget,h,null)):(He(e,n,"encType",h.encType,h,null),He(e,n,"method",h.method,h,null),He(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=cr(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=_l);break;case"onScroll":o!=null&&we("scroll",e);break;case"onScrollEnd":o!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=cr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":we("beforetoggle",e),we("toggle",e),oi(e,"popover",o);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Nl.get(i)||i,oi(e,i,o))}}function cc(e,n,i,o,h,d){switch(i){case"style":po(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?kn(e,o):(typeof o=="number"||typeof o=="bigint")&&kn(e,""+o);break;case"onScroll":o!=null&&we("scroll",e);break;case"onScrollEnd":o!=null&&we("scrollend",e);break;case"onClick":o!=null&&(e.onclick=_l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),d=e[Ft]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,h);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):oi(e,i,o)}}}function En(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var o=!1,h=!1,d;for(d in i)if(i.hasOwnProperty(d)){var y=i[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:He(e,n,d,y,i,null)}}h&&He(e,n,"srcSet",i.srcSet,i,null),o&&He(e,n,"src",i.src,i,null);return;case"input":we("invalid",e);var A=d=y=h=null,U=null,Y=null;for(o in i)if(i.hasOwnProperty(o)){var ae=i[o];if(ae!=null)switch(o){case"name":h=ae;break;case"type":y=ae;break;case"checked":U=ae;break;case"defaultChecked":Y=ae;break;case"value":d=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,n));break;default:He(e,n,o,ae,i,null)}}Ui(e,d,A,U,Y,y,h,!1),Li(e);return;case"select":we("invalid",e),o=y=d=null;for(h in i)if(i.hasOwnProperty(h)&&(A=i[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":y=A;break;case"multiple":o=A;default:He(e,n,h,A,i,null)}n=d,i=y,e.multiple=!!o,n!=null?Ue(e,!!o,n,!1):i!=null&&Ue(e,!!o,i,!0);return;case"textarea":we("invalid",e),d=h=o=null;for(y in i)if(i.hasOwnProperty(y)&&(A=i[y],A!=null))switch(y){case"value":o=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:He(e,n,y,A,i,null)}ci(e,o,h,d),Li(e);return;case"option":for(U in i)if(i.hasOwnProperty(U)&&(o=i[U],o!=null))switch(U){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:He(e,n,U,o,i,null)}return;case"dialog":we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(o=0;o<Xs.length;o++)we(Xs[o],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in i)if(i.hasOwnProperty(Y)&&(o=i[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:He(e,n,Y,o,i,null)}return;default:if(fs(n)){for(ae in i)i.hasOwnProperty(ae)&&(o=i[ae],o!==void 0&&cc(e,n,ae,o,i,void 0));return}}for(A in i)i.hasOwnProperty(A)&&(o=i[A],o!=null&&He(e,n,A,o,i,null))}function A_(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,A=null,U=null,Y=null,ae=null;for(ie in i){var le=i[ie];if(i.hasOwnProperty(ie)&&le!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=le;default:o.hasOwnProperty(ie)||He(e,n,ie,null,o,le)}}for(var ne in o){var ie=o[ne];if(le=i[ne],o.hasOwnProperty(ne)&&(ie!=null||le!=null))switch(ne){case"type":d=ie;break;case"name":h=ie;break;case"checked":Y=ie;break;case"defaultChecked":ae=ie;break;case"value":y=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,n));break;default:ie!==le&&He(e,n,ne,ie,o,le)}}ui(e,y,A,U,Y,ae,d,h);return;case"select":ie=y=A=ne=null;for(d in i)if(U=i[d],i.hasOwnProperty(d)&&U!=null)switch(d){case"value":break;case"multiple":ie=U;default:o.hasOwnProperty(d)||He(e,n,d,null,o,U)}for(h in o)if(d=o[h],U=i[h],o.hasOwnProperty(h)&&(d!=null||U!=null))switch(h){case"value":ne=d;break;case"defaultValue":A=d;break;case"multiple":y=d;default:d!==U&&He(e,n,h,d,o,U)}n=A,i=y,o=ie,ne!=null?Ue(e,!!i,ne,!1):!!o!=!!i&&(n!=null?Ue(e,!!i,n,!0):Ue(e,!!i,i?[]:"",!1));return;case"textarea":ie=ne=null;for(A in i)if(h=i[A],i.hasOwnProperty(A)&&h!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:He(e,n,A,null,o,h)}for(y in o)if(h=o[y],d=i[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":ne=h;break;case"defaultValue":ie=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&He(e,n,y,h,o,d)}ji(e,ne,ie);return;case"option":for(var Ee in i)if(ne=i[Ee],i.hasOwnProperty(Ee)&&ne!=null&&!o.hasOwnProperty(Ee))switch(Ee){case"selected":e.selected=!1;break;default:He(e,n,Ee,null,o,ne)}for(U in o)if(ne=o[U],ie=i[U],o.hasOwnProperty(U)&&ne!==ie&&(ne!=null||ie!=null))switch(U){case"selected":e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:He(e,n,U,ne,o,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in i)ne=i[Ve],i.hasOwnProperty(Ve)&&ne!=null&&!o.hasOwnProperty(Ve)&&He(e,n,Ve,null,o,ne);for(Y in o)if(ne=o[Y],ie=i[Y],o.hasOwnProperty(Y)&&ne!==ie&&(ne!=null||ie!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,n));break;default:He(e,n,Y,ne,o,ie)}return;default:if(fs(n)){for(var yt in i)ne=i[yt],i.hasOwnProperty(yt)&&ne!==void 0&&!o.hasOwnProperty(yt)&&cc(e,n,yt,void 0,o,ne);for(ae in o)ne=o[ae],ie=i[ae],!o.hasOwnProperty(ae)||ne===ie||ne===void 0&&ie===void 0||cc(e,n,ae,ne,o,ie);return}}for(var X in i)ne=i[X],i.hasOwnProperty(X)&&ne!=null&&!o.hasOwnProperty(X)&&He(e,n,X,null,o,ne);for(le in o)ne=o[le],ie=i[le],!o.hasOwnProperty(le)||ne===ie||ne==null&&ie==null||He(e,n,le,ne,o,ie)}var hc=null,fc=null;function ml(e){return e.nodeType===9?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _c=null;function v_(){var e=window.event;return e&&e.type==="popstate"?e===_c?!1:(_c=e,!0):(_c=null,!1)}var ad=typeof setTimeout=="function"?setTimeout:void 0,I_=typeof clearTimeout=="function"?clearTimeout:void 0,sd=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof sd<"u"?function(e){return sd.resolve(null).then(e).catch(S_)}:ad;function S_(e){setTimeout(function(){throw e})}function mc(e,n){var i=n,o=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(o===0){e.removeChild(h),ao(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=h}while(i);ao(n)}function pc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":pc(i),Oi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function P_(e,n,i,o){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ar(e.nextSibling),e===null)break}return null}function b_(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ar(e.nextSibling),e===null))return null;return e}function ar(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function od(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function ld(e,n,i){switch(n=ml(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Jn=new Map,ud=new Set;function pl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Yr=me.d;me.d={f:C_,r:x_,D:D_,C:w_,L:N_,m:M_,X:L_,S:O_,M:U_};function C_(){var e=Yr.f(),n=ll();return e||n}function x_(e){var n=Sr(e);n!==null&&n.tag===5&&n.type==="form"?Oh(n):Yr.r(e)}var Wa=typeof document>"u"?null:document;function cd(e,n,i){var o=Wa;if(o&&typeof n=="string"&&n){var h=ct(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),ud.has(h)||(ud.add(h),e={rel:e,crossOrigin:i,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),En(n,"link",e),$e(n),o.head.appendChild(n)))}}function D_(e){Yr.D(e),cd("dns-prefetch",e,null)}function w_(e,n){Yr.C(e,n),cd("preconnect",e,n)}function N_(e,n,i){Yr.L(e,n,i);var o=Wa;if(o&&e&&n){var h='link[rel="preload"][as="'+ct(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ct(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ct(i.imageSizes)+'"]')):h+='[href="'+ct(e)+'"]';var d=h;switch(n){case"style":d=Za(e);break;case"script":d=Ja(e)}Jn.has(d)||(e=w({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Jn.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Zs(d))||n==="script"&&o.querySelector(Js(d))||(n=o.createElement("link"),En(n,"link",e),$e(n),o.head.appendChild(n)))}}function M_(e,n){Yr.m(e,n);var i=Wa;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ct(o)+'"][href="'+ct(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(e)}if(!Jn.has(d)&&(e=w({rel:"modulepreload",href:e},n),Jn.set(d,e),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Js(d)))return}o=i.createElement("link"),En(o,"link",e),$e(o),i.head.appendChild(o)}}}function O_(e,n,i){Yr.S(e,n,i);var o=Wa;if(o&&e){var h=si(o).hoistableStyles,d=Za(e);n=n||"default";var y=h.get(d);if(!y){var A={loading:0,preload:null};if(y=o.querySelector(Zs(d)))A.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Jn.get(d))&&gc(e,i);var U=y=o.createElement("link");$e(U),En(U,"link",e),U._p=new Promise(function(Y,ae){U.onload=Y,U.onerror=ae}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,gl(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:A},h.set(d,y)}}}function L_(e,n){Yr.X(e,n);var i=Wa;if(i&&e){var o=si(i).hoistableScripts,h=Ja(e),d=o.get(h);d||(d=i.querySelector(Js(h)),d||(e=w({src:e,async:!0},n),(n=Jn.get(h))&&Ec(e,n),d=i.createElement("script"),$e(d),En(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function U_(e,n){Yr.M(e,n);var i=Wa;if(i&&e){var o=si(i).hoistableScripts,h=Ja(e),d=o.get(h);d||(d=i.querySelector(Js(h)),d||(e=w({src:e,async:!0,type:"module"},n),(n=Jn.get(h))&&Ec(e,n),d=i.createElement("script"),$e(d),En(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function hd(e,n,i,o){var h=(h=Un.current)?pl(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Za(i.href),i=si(h).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Za(i.href);var d=si(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Zs(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Jn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Jn.set(e,i),d||j_(h,e,i,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(i),i=si(h).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Za(e){return'href="'+ct(e)+'"'}function Zs(e){return'link[rel="stylesheet"]['+e+"]"}function fd(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function j_(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),En(n,"link",i),$e(n),e.head.appendChild(n))}function Ja(e){return'[src="'+ct(e)+'"]'}function Js(e){return"script[async]"+e}function dd(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ct(i.href)+'"]');if(o)return n.instance=o,$e(o),o;var h=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),$e(o),En(o,"style",h),gl(o,i.precedence,e),n.instance=o;case"stylesheet":h=Za(i.href);var d=e.querySelector(Zs(h));if(d)return n.state.loading|=4,n.instance=d,$e(d),d;o=fd(i),(h=Jn.get(h))&&gc(o,h),d=(e.ownerDocument||e).createElement("link"),$e(d);var y=d;return y._p=new Promise(function(A,U){y.onload=A,y.onerror=U}),En(d,"link",o),n.state.loading|=4,gl(d,i.precedence,e),n.instance=d;case"script":return d=Ja(i.src),(h=e.querySelector(Js(d)))?(n.instance=h,$e(h),h):(o=i,(h=Jn.get(d))&&(o=w({},i),Ec(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),$e(h),En(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gl(o,i.precedence,e));return n.instance}function gl(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var A=o[y];if(A.dataset.precedence===n)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function gc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ec(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var El=null;function _d(e,n,i){if(El===null){var o=new Map,h=El=new Map;h.set(i,o)}else h=El,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var d=i[h];if(!(d[ii]||d[un]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=e+y;var A=o.get(y);A?A.push(d):o.set(y,[d])}}return o}function md(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function B_(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function pd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var eo=null;function k_(){}function z_(e,n,i){if(eo===null)throw Error(s(475));var o=eo;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Za(i.href),d=e.querySelector(Zs(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=yl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,$e(d);return}d=e.ownerDocument||e,i=fd(i),(h=Jn.get(h))&&gc(i,h),d=d.createElement("link"),$e(d);var y=d;y._p=new Promise(function(A,U){y.onload=A,y.onerror=U}),En(d,"link",i),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=yl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function F_(){if(eo===null)throw Error(s(475));var e=eo;return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function yl(){if(this.count--,this.count===0){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,n.forEach(q_,e),Tl=null,yl.call(e))}function q_(e,n){if(!(n.state.loading&4)){var i=Tl.get(e);if(i)var o=i.get(null);else{i=new Map,Tl.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),o=y)}o&&i.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),d=i.get(y)||o,d===o&&i.set(null,h),i.set(y,h),this.count++,o=yl.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var to={$$typeof:k,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function H_(e,n,i,o,h,d,y,A){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function gd(e,n,i,o,h,d,y,A,U,Y,ae,le){return e=new H_(e,n,i,y,A,U,Y,le),n=1,d===!0&&(n|=24),d=Wn(3,null,null,n),e.current=d,d.stateNode=e,n=Wl(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:i,cache:n},Du(d),e}function Ed(e){return e?(e=Da,e):Da}function yd(e,n,i,o,h,d){h=Ed(h),o.context===null?o.context=h:o.pendingContext=h,o=yi(n),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Ti(e,o,n),i!==null&&(Sn(i,e,n),js(i,e,n))}function Td(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Tc(e,n){Td(e,n),(e=e.alternate)&&Td(e,n)}function Rd(e){if(e.tag===13){var n=fi(e,67108864);n!==null&&Sn(n,e,67108864),Tc(e,67108864)}}var Rl=!0;function G_(e,n,i,o){var h=P.T;P.T=null;var d=me.p;try{me.p=2,Rc(e,n,i,o)}finally{me.p=d,P.T=h}}function Q_(e,n,i,o){var h=P.T;P.T=null;var d=me.p;try{me.p=8,Rc(e,n,i,o)}finally{me.p=d,P.T=h}}function Rc(e,n,i,o){if(Rl){var h=Ac(o);if(h===null)uc(e,n,o,Al,i),vd(e,o);else if(Y_(h,e,n,i,o))o.stopPropagation();else if(vd(e,o),n&4&&-1<K_.indexOf(e)){for(;h!==null;){var d=Sr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=er(d.pendingLanes);if(y!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var U=1<<31-An(y);A.entanglements[1]|=U,y&=~U}Rr(d),(Je&6)===0&&(al=Pn()+500,$s(0))}}break;case 13:A=fi(d,2),A!==null&&Sn(A,d,2),ll(),Tc(d,2)}if(d=Ac(o),d===null&&uc(e,n,o,Al,i),d===h)break;h=d}h!==null&&o.stopPropagation()}else uc(e,n,o,null,i)}}function Ac(e){return e=ya(e),vc(e)}var Al=null;function vc(e){if(Al=null,e=tr(e),e!==null){var n=Re(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=ke(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Al=e,null}function Ad(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(so()){case kt:return 2;case ln:return 8;case Ir:case oo:return 32;case ns:return 268435456;default:return 32}default:return 32}}var Ic=!1,Pi=null,bi=null,Ci=null,no=new Map,ro=new Map,xi=[],K_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,n){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(n.pointerId)}}function io(e,n,i,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Sr(n),n!==null&&Rd(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Y_(e,n,i,o,h){switch(n){case"focusin":return Pi=io(Pi,e,n,i,o,h),!0;case"dragenter":return bi=io(bi,e,n,i,o,h),!0;case"mouseover":return Ci=io(Ci,e,n,i,o,h),!0;case"pointerover":var d=h.pointerId;return no.set(d,io(no.get(d)||null,e,n,i,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ro.set(d,io(ro.get(d)||null,e,n,i,o,h)),!0}return!1}function Id(e){var n=tr(e.target);if(n!==null){var i=Re(n);if(i!==null){if(n=i.tag,n===13){if(n=ke(i),n!==null){e.blockedOn=n,ri(e.priority,function(){if(i.tag===13){var o=Ln(),h=fi(i,o);h!==null&&Sn(h,i,o),Tc(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ac(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);zn=o,i.target.dispatchEvent(o),zn=null}else return n=Sr(i),n!==null&&Rd(n),e.blockedOn=i,!1;n.shift()}return!0}function Vd(e,n,i){vl(e)&&i.delete(n)}function $_(){Ic=!1,Pi!==null&&vl(Pi)&&(Pi=null),bi!==null&&vl(bi)&&(bi=null),Ci!==null&&vl(Ci)&&(Ci=null),no.forEach(Vd),ro.forEach(Vd)}function Il(e,n){e.blockedOn===n&&(e.blockedOn=null,Ic||(Ic=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$_)))}var Vl=null;function Sd(e){Vl!==e&&(Vl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vl===e&&(Vl=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(vc(o||i)===null)continue;break}var d=Sr(i);d!==null&&(e.splice(n,3),n-=3,du(d,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function ao(e){function n(U){return Il(U,e)}Pi!==null&&Il(Pi,e),bi!==null&&Il(bi,e),Ci!==null&&Il(Ci,e),no.forEach(n),ro.forEach(n);for(var i=0;i<xi.length;i++){var o=xi[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xi.length&&(i=xi[0],i.blockedOn===null);)Id(i),i.blockedOn===null&&xi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],d=i[o+1],y=h[Ft]||null;if(typeof d=="function")y||Sd(i);else if(y){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ft]||null)A=y.formAction;else if(vc(h)!==null)continue}else A=y.action;typeof A=="function"?i[o+1]=A:(i.splice(o,3),o-=3),Sd(i)}}}function Vc(e){this._internalRoot=e}Sl.prototype.render=Vc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,o=Ln();yd(i,o,e,n,null,null)},Sl.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Ya(),yd(e.current,2,null,e,null,null),ll(),n[Vr]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var n=fo();e={blockedOn:null,target:e,priority:n};for(var i=0;i<xi.length&&n!==0&&n<xi[i].priority;i++);xi.splice(i,0,e),i===0&&Id(e)}};var Pd=t.version;if(Pd!=="19.0.0")throw Error(s(527,Pd,"19.0.0"));me.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ue(n),e=e!==null?ye(e):null,e=e===null?null:e.stateNode,e};var X_={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:tr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{Wr=Pl.inject(X_),yn=Pl}catch{}}return reactDomClient_production.createRoot=function(e,n){if(!l(e))throw Error(s(299));var i=!1,o="",h=qh,d=Hh,y=Gh,A=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(A=n.unstable_transitionCallbacks)),n=gd(e,1,!1,null,null,i,o,h,d,y,A,null),e[Vr]=n.current,lc(e.nodeType===8?e.parentNode:e),new Vc(n)},reactDomClient_production.hydrateRoot=function(e,n,i){if(!l(e))throw Error(s(299));var o=!1,h="",d=qh,y=Hh,A=Gh,U=null,Y=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(U=i.unstable_transitionCallbacks),i.formState!==void 0&&(Y=i.formState)),n=gd(e,1,!0,n,i??null,o,h,d,y,A,U,Y),n.context=Ed(null),i=n.current,o=Ln(),h=yi(o),h.callback=null,Ti(i,h,o),n.current.lanes=o,At(n,o),Rr(n),e[Vr]=n.current,lc(e),new Sl(n)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=f,dist.serialize=g;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const V=function(){};return V.prototype=Object.create(null),V})();function f(V,k){const q=new c,J=V.length;if(J<2)return q;const te=(k==null?void 0:k.decode)||T;let oe=0;do{const he=V.indexOf("=",oe);if(he===-1)break;const ce=V.indexOf(";",oe),ve=ce===-1?J:ce;if(he>ve){oe=V.lastIndexOf(";",he-1)+1;continue}const ge=_(V,oe,he),Se=p(V,he,ge),G=V.slice(ge,Se);if(q[G]===void 0){let L=_(V,he+1,ve),P=p(V,ve,L);const w=te(V.slice(L,P));q[G]=w}oe=ve+1}while(oe<J);return q}function _(V,k,q){do{const J=V.charCodeAt(k);if(J!==32&&J!==9)return k}while(++k<q);return q}function p(V,k,q){for(;k>q;){const J=V.charCodeAt(--k);if(J!==32&&J!==9)return k+1}return q}function g(V,k,q){const J=(q==null?void 0:q.encode)||encodeURIComponent;if(!a.test(V))throw new TypeError(`argument name is invalid: ${V}`);const te=J(k);if(!t.test(te))throw new TypeError(`argument val is invalid: ${k}`);let oe=V+"="+te;if(!q)return oe;if(q.maxAge!==void 0){if(!Number.isInteger(q.maxAge))throw new TypeError(`option maxAge is invalid: ${q.maxAge}`);oe+="; Max-Age="+q.maxAge}if(q.domain){if(!r.test(q.domain))throw new TypeError(`option domain is invalid: ${q.domain}`);oe+="; Domain="+q.domain}if(q.path){if(!s.test(q.path))throw new TypeError(`option path is invalid: ${q.path}`);oe+="; Path="+q.path}if(q.expires){if(!R(q.expires)||!Number.isFinite(q.expires.valueOf()))throw new TypeError(`option expires is invalid: ${q.expires}`);oe+="; Expires="+q.expires.toUTCString()}if(q.httpOnly&&(oe+="; HttpOnly"),q.secure&&(oe+="; Secure"),q.partitioned&&(oe+="; Partitioned"),q.priority)switch(typeof q.priority=="string"?q.priority.toLowerCase():void 0){case"low":oe+="; Priority=Low";break;case"medium":oe+="; Priority=Medium";break;case"high":oe+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${q.priority}`)}if(q.sameSite)switch(typeof q.sameSite=="string"?q.sameSite.toLowerCase():q.sameSite){case!0:case"strict":oe+="; SameSite=Strict";break;case"lax":oe+="; SameSite=Lax";break;case"none":oe+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${q.sameSite}`)}return oe}function T(V){if(V.indexOf("%")===-1)return V;try{return decodeURIComponent(V)}catch{return V}}function R(V){return l.call(V)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createHashHistory(a={}){function t(l,c){let{pathname:f="/",search:_="",hash:p=""}=parsePath(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),createLocation("",{pathname:f,search:_,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(l,c){let f=l.document.querySelector("base"),_="";if(f&&f.getAttribute("href")){let p=l.location.href,g=p.indexOf("#");_=g===-1?p:p.slice(0,g)}return _+"#"+(typeof c=="string"?c:createPath(c))}function s(l,c){warning(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return getUrlBasedHistory(t,r,s,a)}function invariant(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function warning(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(a,t){return{usr:a.state,key:a.key,idx:t}}function createLocation(a,t,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:r,key:t&&t.key||s||createKey()}}function createPath({pathname:a="/",search:t="",hash:r=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function parsePath(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function getUrlBasedHistory(a,t,r,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,f=l.history,_="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function R(){_="POP";let te=T(),oe=te==null?null:te-g;g=te,p&&p({action:_,location:J.location,delta:oe})}function V(te,oe){_="PUSH";let he=createLocation(J.location,te,oe);r&&r(he,te),g=T()+1;let ce=getHistoryState(he,g),ve=J.createHref(he);try{f.pushState(ce,"",ve)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;l.location.assign(ve)}c&&p&&p({action:_,location:J.location,delta:1})}function k(te,oe){_="REPLACE";let he=createLocation(J.location,te,oe);r&&r(he,te),g=T();let ce=getHistoryState(he,g),ve=J.createHref(he);f.replaceState(ce,"",ve),c&&p&&p({action:_,location:J.location,delta:0})}function q(te){let oe=l.location.origin!=="null"?l.location.origin:l.location.href,he=typeof te=="string"?te:createPath(te);return he=he.replace(/ $/,"%20"),invariant(oe,`No window.location.(origin|href) available to create URL for href: ${he}`),new URL(he,oe)}let J={get action(){return _},get location(){return a(l,f)},listen(te){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(PopStateEventType,R),p=te,()=>{l.removeEventListener(PopStateEventType,R),p=null}},createHref(te){return t(l,te)},createURL:q,encodeLocation(te){let oe=q(te);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:V,replace:k,go(te){return f.go(te)}};return J}function matchRoutes(a,t,r="/"){return matchRoutesImpl(a,t,r,!1)}function matchRoutesImpl(a,t,r,s){let l=typeof t=="string"?parsePath(t):t,c=stripBasename(l.pathname||"/",r);if(c==null)return null;let f=flattenRoutes(a);rankRouteBranches(f);let _=null;for(let p=0;_==null&&p<f.length;++p){let g=decodePath(c);_=matchRouteBranch(f[p],g,s)}return _}function flattenRoutes(a,t=[],r=[],s=""){let l=(c,f,_)=>{let p={relativePath:_===void 0?c.path||"":_,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&(invariant(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=joinPaths([s,p.relativePath]),T=r.concat(p);c.children&&c.children.length>0&&(invariant(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),flattenRoutes(c.children,t,T,g)),!(c.path==null&&!c.index)&&t.push({path:g,score:computeScore(g,c.index),routesMeta:T})};return a.forEach((c,f)=>{var _;if(c.path===""||!((_=c.path)!=null&&_.includes("?")))l(c,f);else for(let p of explodeOptionalSegments(c.path))l(c,f,p)}),t}function explodeOptionalSegments(a){let t=a.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let f=explodeOptionalSegments(s.join("/")),_=[];return _.push(...f.map(p=>p===""?c:[c,p].join("/"))),l&&_.push(...f),_.map(p=>a.startsWith("/")&&p===""?"/":p)}function rankRouteBranches(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:compareIndexes(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,t){let r=a.split("/"),s=r.length;return r.some(isSplat)&&(s+=splatPenalty),t&&(s+=indexRouteValue),r.filter(l=>!isSplat(l)).reduce((l,c)=>l+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),s)}function compareIndexes(a,t){return a.length===t.length&&a.slice(0,-1).every((s,l)=>s===t[l])?a[a.length-1]-t[t.length-1]:0}function matchRouteBranch(a,t,r=!1){let{routesMeta:s}=a,l={},c="/",f=[];for(let _=0;_<s.length;++_){let p=s[_],g=_===s.length-1,T=c==="/"?t:t.slice(c.length)||"/",R=matchPath({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),V=p.route;if(!R&&g&&r&&!s[s.length-1].route.index&&(R=matchPath({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!R)return null;Object.assign(l,R.params),f.push({params:l,pathname:joinPaths([c,R.pathname]),pathnameBase:normalizePathname(joinPaths([c,R.pathnameBase])),route:V}),R.pathnameBase!=="/"&&(c=joinPaths([c,R.pathnameBase]))}return f}function matchPath(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=compilePath(a.path,a.caseSensitive,a.end),l=t.match(r);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:R},V)=>{if(T==="*"){let q=_[V]||"";f=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const k=_[V];return R&&!k?g[T]=void 0:g[T]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:a}}function compilePath(a,t=!1,r=!0){warning(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,_,p)=>(s.push({paramName:_,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function decodePath(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function stripBasename(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}function resolvePath(a,t="/"){let{pathname:r,search:s="",hash:l=""}=typeof a=="string"?parsePath(a):a;return{pathname:r?r.startsWith("/")?r:resolvePathname(r,t):t,search:normalizeSearch(s),hash:normalizeHash(l)}}function resolvePathname(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function getInvalidPathError(a,t,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(a){let t=getPathContributingMatches(a);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function resolveTo(a,t,r,s=!1){let l;typeof a=="string"?l=parsePath(a):(l={...a},invariant(!l.pathname||!l.pathname.includes("?"),getInvalidPathError("?","pathname","search",l)),invariant(!l.pathname||!l.pathname.includes("#"),getInvalidPathError("#","pathname","hash",l)),invariant(!l.search||!l.search.includes("#"),getInvalidPathError("#","search","hash",l)));let c=a===""||l.pathname==="",f=c?"/":l.pathname,_;if(f==null)_=r;else{let R=t.length-1;if(!s&&f.startsWith("..")){let V=f.split("/");for(;V[0]==="..";)V.shift(),R-=1;l.pathname=V.join("/")}_=R>=0?t[R]:"/"}let p=resolvePath(l,_),g=f&&f!=="/"&&f.endsWith("/"),T=(c||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(a,{relative:t}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=reactExports.useContext(NavigationContext),{hash:l,pathname:c,search:f}=useResolvedPath(a,{relative:t}),_=c;return r!=="/"&&(_=c==="/"?r:joinPaths([r,c])),s.createHref({pathname:_,search:f,hash:l})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let a=reactExports.useContext(DataRouterContext),{basename:t,navigator:r}=reactExports.useContext(NavigationContext),{matches:s}=reactExports.useContext(RouteContext),{pathname:l}=useLocation(),c=JSON.stringify(getResolveToMatches(s)),f=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{f.current=!0}),reactExports.useCallback((p,g={})=>{if(warning(f.current,navigateEffectWarning),!f.current)return;if(typeof p=="number"){r.go(p);return}let T=resolveTo(p,JSON.parse(c),l,g.relative==="path");a==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:joinPaths([t,T.pathname])),(g.replace?r.replace:r.push)(T,g.state,g)},[t,r,c,l,a])}reactExports.createContext(null);function useParams(){let{matches:a}=reactExports.useContext(RouteContext),t=a[a.length-1];return t?t.params:{}}function useResolvedPath(a,{relative:t}={}){let{matches:r}=reactExports.useContext(RouteContext),{pathname:s}=useLocation(),l=JSON.stringify(getResolveToMatches(r));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(l),s,t==="path"),[a,l,s,t])}function useRoutes(a,t){return useRoutesImpl(a,t)}function useRoutesImpl(a,t,r,s){var he;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=reactExports.useContext(NavigationContext),{matches:f}=reactExports.useContext(RouteContext),_=f[f.length-1],p=_?_.params:{},g=_?_.pathname:"/",T=_?_.pathnameBase:"/",R=_&&_.route;{let ce=R&&R.path||"";warningOnce(g,!R||ce.endsWith("*")||ce.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ce}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ce}"> to <Route path="${ce==="/"?"*":`${ce}/*`}">.`)}let V=useLocation(),k;if(t){let ce=typeof t=="string"?parsePath(t):t;invariant(T==="/"||((he=ce.pathname)==null?void 0:he.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ce.pathname}" was given in the \`location\` prop.`),k=ce}else k=V;let q=k.pathname||"/",J=q;if(T!=="/"){let ce=T.replace(/^\//,"").split("/");J="/"+q.replace(/^\//,"").split("/").slice(ce.length).join("/")}let te=!c&&r&&r.matches&&r.matches.length>0?r.matches:matchRoutes(a,{pathname:J});warning(R||te!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),warning(te==null||te[te.length-1].route.element!==void 0||te[te.length-1].route.Component!==void 0||te[te.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let oe=_renderMatches(te&&te.map(ce=>Object.assign({},ce,{params:Object.assign({},p,ce.params),pathname:joinPaths([T,l.encodeLocation?l.encodeLocation(ce.pathname).pathname:ce.pathname]),pathnameBase:ce.pathnameBase==="/"?T:joinPaths([T,l.encodeLocation?l.encodeLocation(ce.pathnameBase).pathname:ce.pathnameBase])})),f,r,s);return t&&oe?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},oe):oe}function DefaultErrorComponent(){let a=useRouteError(),t=isRouteErrorResponse(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:c},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:c},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),r?reactExports.createElement("pre",{style:l},r):null,f)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:a,match:t,children:r}){let s=reactExports.useContext(DataRouterContext);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:a},r)}function _renderMatches(a,t=[],r=null,s=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let l=a,c=r==null?void 0:r.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);invariant(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,_=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(_=p),g.route.id){let{loaderData:T,errors:R}=r,V=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!R||R[g.route.id]===void 0);if(g.route.lazy||V){f=!0,_>=0?l=l.slice(0,_+1):l=[l[0]];break}}}return l.reduceRight((p,g,T)=>{let R,V=!1,k=null,q=null;r&&(R=c&&g.route.id?c[g.route.id]:void 0,k=g.route.errorElement||defaultErrorElement,f&&(_<0&&T===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,q=null):_===T&&(V=!0,q=g.route.hydrateFallbackElement||null)));let J=t.concat(l.slice(0,T+1)),te=()=>{let oe;return R?oe=k:V?oe=q:g.route.Component?oe=reactExports.createElement(g.route.Component,null):g.route.element?oe=g.route.element:oe=p,reactExports.createElement(RenderedRoute,{match:g,routeContext:{outlet:p,matches:J,isDataRoute:r!=null},children:oe})};return r&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?reactExports.createElement(RenderErrorBoundary,{location:r.location,revalidation:r.revalidation,component:k,error:R,children:te(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):te()},null)}function getDataRouterConsoleError(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(a){let t=reactExports.useContext(DataRouterContext);return invariant(t,getDataRouterConsoleError(a)),t}function useDataRouterState(a){let t=reactExports.useContext(DataRouterStateContext);return invariant(t,getDataRouterConsoleError(a)),t}function useRouteContext(a){let t=reactExports.useContext(RouteContext);return invariant(t,getDataRouterConsoleError(a)),t}function useCurrentRouteId(a){let t=useRouteContext(a),r=t.matches[t.matches.length-1];return invariant(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var s;let a=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),r=useCurrentRouteId("useRouteError");return a!==void 0?a:(s=t.errors)==null?void 0:s[r]}function useNavigateStable(){let{router:a}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),r=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{r.current=!0}),reactExports.useCallback(async(l,c={})=>{warning(r.current,navigateEffectWarning),r.current&&(typeof l=="number"?a.navigate(l):await a.navigate(l,{fromRouteId:t,...c}))},[a,t])}var alreadyWarned={};function warningOnce(a,t,r){!t&&!alreadyWarned[a]&&(alreadyWarned[a]=!0,warning(!1,r))}reactExports.memo(DataRoutes);function DataRoutes({routes:a,future:t,state:r}){return useRoutesImpl(a,void 0,r,t)}function Navigate({to:a,replace:t,state:r,relative:s}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=reactExports.useContext(NavigationContext);warning(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=reactExports.useContext(RouteContext),{pathname:f}=useLocation(),_=useNavigate(),p=resolveTo(a,getResolveToMatches(c),f,s==="path"),g=JSON.stringify(p);return reactExports.useEffect(()=>{_(JSON.parse(g),{replace:t,state:r,relative:s})},[_,g,s,t,r]),null}function Route(a){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:a="/",children:t=null,location:r,navigationType:s="POP",navigator:l,static:c=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:f,navigator:l,static:c,future:{}}),[f,l,c]);typeof r=="string"&&(r=parsePath(r));let{pathname:p="/",search:g="",hash:T="",state:R=null,key:V="default"}=r,k=reactExports.useMemo(()=>{let q=stripBasename(p,f);return q==null?null:{location:{pathname:q,search:g,hash:T,state:R,key:V},navigationType:s}},[f,p,g,T,R,V,s]);return warning(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:t,value:k}))}function Routes({children:a,location:t}){return useRoutes(createRoutesFromChildren(a),t)}function createRoutesFromChildren(a,t=[]){let r=[];return reactExports.Children.forEach(a,(s,l)=>{if(!reactExports.isValidElement(s))return;let c=[...t,l];if(s.type===reactExports.Fragment){r.push.apply(r,createRoutesFromChildren(s.props.children,c));return}invariant(s.type===Route,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=createRoutesFromChildren(s.props.children,c)),r.push(f)}),r}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(a){return a!=null&&typeof a.tagName=="string"}function isButtonElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="button"}function isFormElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="form"}function isInputElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="input"}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,t){return a.button===0&&(!t||t==="_self")&&!isModifiedEvent(a)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(a){return a!=null&&!supportedFormEncTypes.has(a)?(warning(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):a}function getFormSubmissionInfo(a,t){let r,s,l,c,f;if(isFormElement(a)){let _=a.getAttribute("action");s=_?stripBasename(_,t):null,r=a.getAttribute("method")||defaultMethod,l=getFormEncType(a.getAttribute("enctype"))||defaultEncType,c=new FormData(a)}else if(isButtonElement(a)||isInputElement(a)&&(a.type==="submit"||a.type==="image")){let _=a.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||_.getAttribute("action");if(s=p?stripBasename(p,t):null,r=a.getAttribute("formmethod")||_.getAttribute("method")||defaultMethod,l=getFormEncType(a.getAttribute("formenctype"))||getFormEncType(_.getAttribute("enctype"))||defaultEncType,c=new FormData(_,a),!isFormDataSubmitterSupported()){let{name:g,type:T,value:R}=a;if(T==="image"){let V=g?`${g}.`:"";c.append(`${V}x`,"0"),c.append(`${V}y`,"0")}else g&&c.append(g,R)}}else{if(isHtmlElement(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=defaultMethod,s=null,l=defaultEncType,f=a}return c&&l==="text/plain"&&(f=c,c=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:c,body:f}}function invariant2(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function loadRouteModule(a,t){if(a.id in t)return t[a.id];try{let r=await import(a.module);return t[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function getKeyedPrefetchLinks(a,t,r){let s=await Promise.all(a.map(async l=>{let c=t.routes[l.route.id];if(c){let f=await loadRouteModule(c,r);return f.links?f.links():[]}return[]}));return dedupeLinkDescriptors(s.flat(1).filter(isHtmlLinkDescriptor).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function getNewMatchesForLinks(a,t,r,s,l,c){let f=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,_=(p,g)=>{var T;return r[g].pathname!==p.pathname||((T=r[g].route.path)==null?void 0:T.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,g)=>f(p,g)||_(p,g)):c==="data"?t.filter((p,g)=>{var R;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||_(p,g))return!0;if(p.route.shouldRevalidate){let V=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((R=r[0])==null?void 0:R.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof V=="boolean")return V}return!0}):[]}function getModuleLinkHrefs(a,t){return dedupeHrefs(a.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function dedupeHrefs(a){return[...new Set(a)]}function sortKeys(a){let t={},r=Object.keys(a).sort();for(let s of r)t[s]=a[s];return t}function dedupeLinkDescriptors(a,t){let r=new Set;return new Set(t),a.reduce((s,l)=>{let c=JSON.stringify(sortKeys(l));return r.has(c)||(r.add(c),s.push({key:c,link:l})),s},[])}function singleFetchUrl(a){let t=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function useDataRouterContext2(){let a=reactExports.useContext(DataRouterContext);return invariant2(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function useDataRouterStateContext(){let a=reactExports.useContext(DataRouterStateContext);return invariant2(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let a=reactExports.useContext(FrameworkContext);return invariant2(a,"You must render this element inside a <HydratedRouter> element"),a}function usePrefetchBehavior(a,t){let r=reactExports.useContext(FrameworkContext),[s,l]=reactExports.useState(!1),[c,f]=reactExports.useState(!1),{onFocus:_,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:R}=t,V=reactExports.useRef(null);reactExports.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let J=oe=>{oe.forEach(he=>{f(he.isIntersecting)})},te=new IntersectionObserver(J,{threshold:.5});return V.current&&te.observe(V.current),()=>{te.disconnect()}}},[a]),reactExports.useEffect(()=>{if(s){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[s]);let k=()=>{l(!0)},q=()=>{l(!1),f(!1)};return r?a!=="intent"?[c,V,{}]:[c,V,{onFocus:composeEventHandlers(_,k),onBlur:composeEventHandlers(p,q),onMouseEnter:composeEventHandlers(g,k),onMouseLeave:composeEventHandlers(T,q),onTouchStart:composeEventHandlers(R,k)}]:[!1,V,{}]}function composeEventHandlers(a,t){return r=>{a&&a(r),r.defaultPrevented||t(r)}}function PrefetchPageLinks({page:a,...t}){let{router:r}=useDataRouterContext2(),s=reactExports.useMemo(()=>matchRoutes(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?reactExports.createElement(PrefetchPageLinksImpl,{page:a,matches:s,...t}):null}function useKeyedPrefetchLinks(a){let{manifest:t,routeModules:r}=useFrameworkContext(),[s,l]=reactExports.useState([]);return reactExports.useEffect(()=>{let c=!1;return getKeyedPrefetchLinks(a,t,r).then(f=>{c||l(f)}),()=>{c=!0}},[a,t,r]),s}function PrefetchPageLinksImpl({page:a,matches:t,...r}){let s=useLocation(),{manifest:l,routeModules:c}=useFrameworkContext(),{loaderData:f,matches:_}=useDataRouterStateContext(),p=reactExports.useMemo(()=>getNewMatchesForLinks(a,t,_,l,s,"data"),[a,t,_,l,s]),g=reactExports.useMemo(()=>getNewMatchesForLinks(a,t,_,l,s,"assets"),[a,t,_,l,s]),T=reactExports.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let k=new Set,q=!1;if(t.forEach(te=>{var he;let oe=l.routes[te.route.id];!oe||!oe.hasLoader||(!p.some(ce=>ce.route.id===te.route.id)&&te.route.id in f&&((he=c[te.route.id])!=null&&he.shouldRevalidate)||oe.hasClientLoader?q=!0:k.add(te.route.id))}),k.size===0)return[];let J=singleFetchUrl(a);return q&&k.size>0&&J.searchParams.set("_routes",t.filter(te=>k.has(te.route.id)).map(te=>te.route.id).join(",")),[J.pathname+J.search]},[f,s,l,p,t,a,c]),R=reactExports.useMemo(()=>getModuleLinkHrefs(g,l),[g,l]),V=useKeyedPrefetchLinks(g);return reactExports.createElement(reactExports.Fragment,null,T.map(k=>reactExports.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),R.map(k=>reactExports.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),V.map(({key:k,link:q})=>reactExports.createElement("link",{key:k,...q})))}function mergeRefs(...a){return t=>{a.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.1.5")}catch{}function HashRouter({basename:a,children:t,window:r}){let s=reactExports.useRef();s.current==null&&(s.current=createHashHistory({window:r,v5Compat:!0}));let l=s.current,[c,f]=reactExports.useState({action:l.action,location:l.location}),_=reactExports.useCallback(p=>{reactExports.startTransition(()=>f(p))},[f]);return reactExports.useLayoutEffect(()=>l.listen(_),[l,_]),reactExports.createElement(Router,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:l})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:l,reloadDocument:c,replace:f,state:_,target:p,to:g,preventScrollReset:T,viewTransition:R,...V},k){let{basename:q}=reactExports.useContext(NavigationContext),J=typeof g=="string"&&ABSOLUTE_URL_REGEX2.test(g),te,oe=!1;if(typeof g=="string"&&J&&(te=g,isBrowser))try{let P=new URL(window.location.href),w=g.startsWith("//")?new URL(P.protocol+g):new URL(g),K=stripBasename(w.pathname,q);w.origin===P.origin&&K!=null?g=K+w.search+w.hash:oe=!0}catch{warning(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let he=useHref(g,{relative:l}),[ce,ve,ge]=usePrefetchBehavior(s,V),Se=useLinkClickHandler(g,{replace:f,state:_,target:p,preventScrollReset:T,relative:l,viewTransition:R});function G(P){t&&t(P),P.defaultPrevented||Se(P)}let L=reactExports.createElement("a",{...V,...ge,href:te||he,onClick:oe||c?t:G,ref:mergeRefs(k,ve),target:p,"data-discover":!J&&r==="render"?"true":void 0});return ce&&!J?reactExports.createElement(reactExports.Fragment,null,L,reactExports.createElement(PrefetchPageLinks,{page:he})):L});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:f,viewTransition:_,children:p,...g},T){let R=useResolvedPath(f,{relative:g.relative}),V=useLocation(),k=reactExports.useContext(DataRouterStateContext),{navigator:q,basename:J}=reactExports.useContext(NavigationContext),te=k!=null&&useViewTransitionState(R)&&_===!0,oe=q.encodeLocation?q.encodeLocation(R).pathname:R.pathname,he=V.pathname,ce=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;r||(he=he.toLowerCase(),ce=ce?ce.toLowerCase():null,oe=oe.toLowerCase()),ce&&J&&(ce=stripBasename(ce,J)||ce);const ve=oe!=="/"&&oe.endsWith("/")?oe.length-1:oe.length;let ge=he===oe||!l&&he.startsWith(oe)&&he.charAt(ve)==="/",Se=ce!=null&&(ce===oe||!l&&ce.startsWith(oe)&&ce.charAt(oe.length)==="/"),G={isActive:ge,isPending:Se,isTransitioning:te},L=ge?t:void 0,P;typeof s=="function"?P=s(G):P=[s,ge?"active":null,Se?"pending":null,te?"transitioning":null].filter(Boolean).join(" ");let w=typeof c=="function"?c(G):c;return reactExports.createElement(Link,{...g,"aria-current":L,className:P,ref:T,style:w,to:f,viewTransition:_},typeof p=="function"?p(G):p)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:a="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:l,state:c,method:f=defaultMethod,action:_,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:R,...V},k)=>{let q=useSubmit(),J=useFormAction(_,{relative:g}),te=f.toLowerCase()==="get"?"get":"post",oe=typeof _=="string"&&ABSOLUTE_URL_REGEX2.test(_),he=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let ve=ce.nativeEvent.submitter,ge=(ve==null?void 0:ve.getAttribute("formmethod"))||f;q(ve||ce.currentTarget,{fetcherKey:t,method:ge,navigate:r,replace:l,state:c,relative:g,preventScrollReset:T,viewTransition:R})};return reactExports.createElement("form",{ref:k,method:te,action:J,onSubmit:s?p:he,...V,"data-discover":!oe&&a==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(a){let t=reactExports.useContext(DataRouterContext);return invariant(t,getDataRouterConsoleError2(a)),t}function useLinkClickHandler(a,{target:t,replace:r,state:s,preventScrollReset:l,relative:c,viewTransition:f}={}){let _=useNavigate(),p=useLocation(),g=useResolvedPath(a,{relative:c});return reactExports.useCallback(T=>{if(shouldProcessLinkClick(T,t)){T.preventDefault();let R=r!==void 0?r:createPath(p)===createPath(g);_(a,{replace:R,state:s,preventScrollReset:l,relative:c,viewTransition:f})}},[p,_,g,r,s,t,a,l,c,f])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:a}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),r=useRouteId();return reactExports.useCallback(async(s,l={})=>{let{action:c,method:f,encType:_,formData:p,body:g}=getFormSubmissionInfo(s,t);if(l.navigate===!1){let T=l.fetcherKey||getUniqueFetcherId();await a.fetch(T,r,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||_,flushSync:l.flushSync})}else await a.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||_,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,t,r])}function useFormAction(a,{relative:t}={}){let{basename:r}=reactExports.useContext(NavigationContext),s=reactExports.useContext(RouteContext);invariant(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...useResolvedPath(a||".",{relative:t})},f=useLocation();if(a==null){c.search=f.search;let _=new URLSearchParams(c.search),p=_.getAll("index");if(p.some(T=>T==="")){_.delete("index"),p.filter(R=>R).forEach(R=>_.append("index",R));let T=_.toString();c.search=T?`?${T}`:""}}return(!a||a===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:joinPaths([r,c.pathname])),createPath(c)}function useViewTransitionState(a,t={}){let r=reactExports.useContext(ViewTransitionContext);invariant(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=useDataRouterContext3("useViewTransitionState"),l=useResolvedPath(a,{relative:t.relative});if(!r.isTransitioning)return!1;let c=stripBasename(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=stripBasename(r.nextLocation.pathname,s)||r.nextLocation.pathname;return matchPath(l.pathname,f)!=null||matchPath(l.pathname,c)!=null}new TextEncoder;const Logo=""+new URL("logo-NCsgGCTi.png",import.meta.url).href,CloseImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAKlJREFUSInN0ssNhDAMhOHRVubS0plLYy+JlANs/JhBG8kXAv8XBABgAHyOQbcMwDVnYILXNgp8R9dg3Fxk4neoP22w8GNbgYebTDzdYuDlRgdvH7wSaKOVEA3NBOloJCxDT7gUzeB0NIKn0A/5YJJl+NPv+9ofbYc9GZq5h47S8UqojXcC5Wfbp640GGi6xUTDTQUaarsI/YUPiNEn3NfF9dYKdMd9jn0Bw7MeioVwhJsAAAAASUVORK5CYII=",BURGER_OPENED_CLASSNAME="burger_open",BODY_FIXED_CLASSNAME2="body_fixed",Burger=({isOpen:a,toggleBurger:t})=>{React.useEffect(()=>{const l=document.querySelector("body");return a?l.classList.add(BODY_FIXED_CLASSNAME2):l.classList.remove(BODY_FIXED_CLASSNAME2),()=>{l.classList.remove(BODY_FIXED_CLASSNAME2)}},[a]);const r=l=>{const c=l.currentTarget.querySelector(".js-burger_content");!l.composedPath().includes(c)&&t()},s=l=>{l.preventDefault();const c=l.currentTarget.getAttribute("data-link"),f=document.getElementById(c);f&&f.scrollIntoView({behavior:"smooth"})};return jsxRuntimeExports.jsx("div",{className:`burger ${a?BURGER_OPENED_CLASSNAME:""}`,onClick:r,children:jsxRuntimeExports.jsxs("div",{className:"burger_content js-burger_content",children:[jsxRuntimeExports.jsx("button",{className:"burger_close-btn",onClick:t,children:jsxRuntimeExports.jsx("img",{className:"burger__close-image",src:CloseImage,alt:"Закрыть"})}),jsxRuntimeExports.jsxs("nav",{className:"burger-nav",children:[jsxRuntimeExports.jsxs("div",{className:"burger-logo",children:[jsxRuntimeExports.jsx("img",{className:"logo",src:Logo,alt:"Логотип"}),jsxRuntimeExports.jsx("h3",{className:"burger-title",children:"Уральская сталь"})]}),jsxRuntimeExports.jsxs("ul",{className:"burger-navList",children:[jsxRuntimeExports.jsx("li",{className:"menu-item burger-navItem",children:jsxRuntimeExports.jsx(Link,{to:"/login",children:"Личный кабинет"})}),jsxRuntimeExports.jsx("li",{className:"menu-item burger-navItem",children:jsxRuntimeExports.jsx("a",{"data-link":"programm",onClick:s,children:"Программы"})}),jsxRuntimeExports.jsx("li",{className:"menu-item burger-navItem",children:jsxRuntimeExports.jsx("a",{"data-link":"love",onClick:s,children:"О нас"})})]})]})]})})},Header=()=>{const[a,t]=reactExports.useState(!1),r=()=>{t(l=>!l)},s=l=>{l.preventDefault();const c=l.currentTarget.getAttribute("data-link"),f=document.getElementById(c);f&&f.scrollIntoView({behavior:"smooth"})};return jsxRuntimeExports.jsx("header",{className:"header",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsxs("div",{className:"header-logo",children:[jsxRuntimeExports.jsx("img",{className:"logo",src:Logo,alt:"Логотип"}),jsxRuntimeExports.jsx("h3",{className:"header-title",children:"Уральская сталь"})]}),jsxRuntimeExports.jsx("nav",{className:"menu",children:jsxRuntimeExports.jsxs("ul",{className:"menu-list",children:[jsxRuntimeExports.jsx("li",{className:"menu-item",children:jsxRuntimeExports.jsx("a",{href:"#","data-link":"programm",onClick:s,children:"Программы"})}),jsxRuntimeExports.jsx("li",{className:"menu-item",children:jsxRuntimeExports.jsx("a",{href:"#","data-link":"love",onClick:s,children:"О нас"})}),jsxRuntimeExports.jsxs("li",{className:"menu-item",children:[jsxRuntimeExports.jsx(Link,{to:"/login",children:"Личный кабинет"})," "]})]})}),jsxRuntimeExports.jsx("button",{className:"burger_btn",onClick:r}),jsxRuntimeExports.jsx(Burger,{isOpen:a,toggleBurger:r})]})})},line1Image=""+new URL("line1-COE_yDv6.png",import.meta.url).href,mainImage=""+new URL("orig-DDQEVEjz.jpg",import.meta.url).href,MainContent=()=>{const a=()=>{const t=document.getElementById("programm");t&&t.scrollIntoView({behavior:"smooth"})};return jsxRuntimeExports.jsx("section",{className:"main-content",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx("img",{src:line1Image,alt:"line",className:"line1"}),jsxRuntimeExports.jsxs("div",{className:"main-info",children:[jsxRuntimeExports.jsx("h1",{className:"main-title",children:"Программа переподготовки сотрудников"}),jsxRuntimeExports.jsx("img",{src:mainImage,alt:"",className:"main-image"}),jsxRuntimeExports.jsx("p",{className:"main-text",children:"Наша программа профессионального обучения, позволяет сотрудникам получить новые профессии за счёт предприятия. Эта программа помогла десяткам жителей Новотроицка и Орска освоить новые специальности. Новотроицкий политехнический колледж и Орский машиностроительный колледж готовят специалистов для Уральской Стали по различным направлениям, таким как слесарь-ремонтник, электромонтёр, горновой доменной печи и другие."}),jsxRuntimeExports.jsx("div",{className:"main-action",children:jsxRuntimeExports.jsx("button",{className:"button",id:"main-action-button",onClick:a,children:"Зарегистрироваться"})})]})]})})};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(a){const t=[];let r=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},byteArrayToString=function(a){const t=[];let r=0,s=0;for(;r<a.length;){const l=a[r++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[r++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[r++],f=a[r++],_=a[r++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|_&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[r++],f=a[r++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],f=l+1<a.length,_=f?a[l+1]:0,p=l+2<a.length,g=p?a[l+2]:0,T=c>>2,R=(c&3)<<4|_>>4;let V=(_&15)<<2|g>>6,k=g&63;p||(k=64,f||(V=64)),s.push(r[T],r[R],r[V],r[k])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(stringToByteArray$1(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):byteArrayToString(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=r[a.charAt(l++)],_=l<a.length?r[a.charAt(l)]:0;++l;const g=l<a.length?r[a.charAt(l)]:64;++l;const R=l<a.length?r[a.charAt(l)]:64;if(++l,c==null||_==null||g==null||R==null)throw new DecodeBase64StringError;const V=c<<2|_>>4;if(s.push(V),g!==64){const k=_<<4&240|g>>2;if(s.push(k),R!==64){const q=g<<6&192|R;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(a){const t=stringToByteArray$1(a);return base64.encodeByteArray(t,!0)},base64urlEncodeWithoutPadding=function(a){return base64Encode(a).replace(/\./g,"")},base64Decode=function(a){try{return base64.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const a=define_process_env_default.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&base64Decode(a[1]);return t&&JSON.parse(t)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},getDefaultEmulatorHost=a=>{var t,r;return(r=(t=getDefaults())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[a]},getDefaultEmulatorHostnameAndPort=a=>{const t=getDefaultEmulatorHost(a);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},getDefaultAppConfig=()=>{var a;return(a=getDefaults())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[base64urlEncodeWithoutPadding(JSON.stringify(r)),base64urlEncodeWithoutPadding(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isNode(){var a;const t=(a=getDefaults())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((a,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?replaceTemplate(c,s):"Error",_=`${this.serviceName}: ${f} (${l}).`;return new FirebaseError(l,_,s)}}function replaceTemplate(a,t){return a.replace(PATTERN,(r,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual(a,t){if(a===t)return!0;const r=Object.keys(a),s=Object.keys(t);for(const l of r){if(!s.includes(l))return!1;const c=a[l],f=t[l];if(isObject(c)&&isObject(f)){if(!deepEqual(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function isObject(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(a){return a&&a._delegate?a._delegate:a}class Component{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new Deferred;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(isComponentEager(t))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=DEFAULT_ENTRY_NAME$1){return this.instances.has(t)}getOptions(t=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,f]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&f.resolve(l)}return l}onInit(t,r){var s;const l=this.normalizeInstanceIdentifier(r),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?t:DEFAULT_ENTRY_NAME$1:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(a){return a===DEFAULT_ENTRY_NAME$1?void 0:a}function isComponentEager(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Provider(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(a,t,...r)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=ConsoleMethod[t];if(l)console[l](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Logger{constructor(t){this.name=t,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in LogLevel))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?levelStringToEnum[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...t),this._logHandler(this,LogLevel.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...t),this._logHandler(this,LogLevel.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...t),this._logHandler(this,LogLevel.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...t),this._logHandler(this,LogLevel.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...t),this._logHandler(this,LogLevel.ERROR,...t)}}const instanceOfAny=(a,t)=>t.some(r=>a instanceof r);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(a){const t=new Promise((r,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",f)},c=()=>{r(wrap(a.result)),l()},f=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&cursorRequestMap.set(r,a)}).catch(()=>{}),reverseTransformCache.set(t,a),t}function cacheDonePromiseForTransaction(a){if(transactionDoneMap.has(a))return;const t=new Promise((r,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",f),a.removeEventListener("abort",f)},c=()=>{r(),l()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",f),a.addEventListener("abort",f)});transactionDoneMap.set(a,t)}let idbProxyTraps={get(a,t,r){if(a instanceof IDBTransaction){if(t==="done")return transactionDoneMap.get(a);if(t==="objectStoreNames")return a.objectStoreNames||transactionStoreNamesMap.get(a);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wrap(a[t])},set(a,t,r){return a[t]=r,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function replaceTraps(a){idbProxyTraps=a(idbProxyTraps)}function wrapFunction(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=a.call(unwrap(this),t,...r);return transactionStoreNamesMap.set(s,t.sort?t.sort():[t]),wrap(s)}:getCursorAdvanceMethods().includes(a)?function(...t){return a.apply(unwrap(this),t),wrap(cursorRequestMap.get(this))}:function(...t){return wrap(a.apply(unwrap(this),t))}}function transformCachableValue(a){return typeof a=="function"?wrapFunction(a):(a instanceof IDBTransaction&&cacheDonePromiseForTransaction(a),instanceOfAny(a,getIdbProxyableTypes())?new Proxy(a,idbProxyTraps):a)}function wrap(a){if(a instanceof IDBRequest)return promisifyRequest(a);if(transformCache.has(a))return transformCache.get(a);const t=transformCachableValue(a);return t!==a&&(transformCache.set(a,t),reverseTransformCache.set(t,a)),t}const unwrap=a=>reverseTransformCache.get(a);function openDB(a,t,{blocked:r,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(a,t),_=wrap(f);return s&&f.addEventListener("upgradeneeded",p=>{s(wrap(f.result),p.oldVersion,p.newVersion,wrap(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),_.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),_}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(cachedMethods.get(t))return cachedMethods.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,l=writeMethods.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||readMethods.includes(r)))return;const c=async function(f,..._){const p=this.transaction(f,l?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(_.shift())),(await Promise.all([g[r](..._),l&&p.done]))[0]};return cachedMethods.set(t,c),c}replaceTraps(a=>({...a,get:(t,r,s)=>getMethod(t,r)||a.get(t,r,s),has:(t,r)=>!!getMethod(t,r)||a.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(isVersionServiceProvider(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function isVersionServiceProvider(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const name$q="@firebase/app",version$1="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2="@firebase/vertexai",name$1="@firebase/firestore-compat",name$r="firebase",version$2="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1]:"fire-fst-compat",[name$2]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(a,t){try{a.container.addComponent(t)}catch(r){logger.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,r)}}function _registerComponent(a){const t=a.name;if(_components.has(t))return logger.debug(`There were multiple attempts to register component ${t}.`),!1;_components.set(t,a);for(const r of _apps.values())_addComponent(r,a);for(const r of _serverApps.values())_addComponent(r,a);return!0}function _getProvider(a,t){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(t)}function _isFirebaseServerApp(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(t,r,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(a,t={}){let r=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw ERROR_FACTORY.create("bad-app-name",{appName:String(l)});if(r||(r=getDefaultAppConfig()),!r)throw ERROR_FACTORY.create("no-options");const c=_apps.get(l);if(c){if(deepEqual(r,c.options)&&deepEqual(s,c.config))return c;throw ERROR_FACTORY.create("duplicate-app",{appName:l})}const f=new ComponentContainer(l);for(const p of _components.values())f.addComponent(p);const _=new FirebaseAppImpl(r,s,f);return _apps.set(l,_),_}function getApp(a=DEFAULT_ENTRY_NAME){const t=_apps.get(a);if(!t&&a===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!t)throw ERROR_FACTORY.create("no-app",{appName:a});return t}function registerVersion(a,t,r){var s;let l=(s=PLATFORM_LOG_STRING[a])!==null&&s!==void 0?s:a;r&&(l+=`-${r}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const _=[`Unable to register library "${l}" with version "${t}":`];c&&_.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&_.push("and"),f&&_.push(`version name "${t}" contains illegal characters (whitespace or "/")`),logger.warn(_.join(" "));return}_registerComponent(new Component(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(STORE_NAME)}catch(r){console.warn(r)}}}}).catch(a=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:a.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(a){try{const r=(await getDbPromise()).transaction(STORE_NAME),s=await r.objectStore(STORE_NAME).get(computeKey(a));return await r.done,s}catch(t){if(t instanceof FirebaseError)logger.warn(t.message);else{const r=ERROR_FACTORY.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});logger.warn(r.message)}}}async function writeHeartbeatsToIndexedDB(a,t){try{const s=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await s.objectStore(STORE_NAME).put(t,computeKey(a)),await s.done}catch(r){if(r instanceof FirebaseError)logger.warn(r.message);else{const s=ERROR_FACTORY.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});logger.warn(s.message)}}}function computeKey(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=getUTCDateString();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const f=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){logger.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=getUTCDateString(),{heartbeatsToSend:s,unsentEntries:l}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),c=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return logger.warn(r),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(a,t=MAX_HEADER_BYTES){const r=[];let s=a.slice();for(const l of a){const c=r.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),countBytes(r)>t){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),countBytes(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class HeartbeatStorageImpl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await readHeartbeatsFromIndexedDB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function countBytes(a){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a})).length}function getEarliestHeartbeatIdx(a){if(a.length===0)return-1;let t=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(a){_registerComponent(new Component("platform-logger",t=>new PlatformLoggerServiceImpl(t),"PRIVATE")),_registerComponent(new Component("heartbeat",t=>new HeartbeatServiceImpl(t),"PRIVATE")),registerVersion(name$q,version$1,a),registerVersion(name$q,version$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name="firebase",version="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name,version,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(G,L){function P(){}P.prototype=L.prototype,G.D=L.prototype,G.prototype=new P,G.prototype.constructor=G,G.C=function(w,K,W){for(var j=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)j[Ye-2]=arguments[Ye];return L.prototype[K].apply(w,j)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(G,L,P){P||(P=0);var w=Array(16);if(typeof L=="string")for(var K=0;16>K;++K)w[K]=L.charCodeAt(P++)|L.charCodeAt(P++)<<8|L.charCodeAt(P++)<<16|L.charCodeAt(P++)<<24;else for(K=0;16>K;++K)w[K]=L[P++]|L[P++]<<8|L[P++]<<16|L[P++]<<24;L=G.g[0],P=G.g[1],K=G.g[2];var W=G.g[3],j=L+(W^P&(K^W))+w[0]+3614090360&4294967295;L=P+(j<<7&4294967295|j>>>25),j=W+(K^L&(P^K))+w[1]+3905402710&4294967295,W=L+(j<<12&4294967295|j>>>20),j=K+(P^W&(L^P))+w[2]+606105819&4294967295,K=W+(j<<17&4294967295|j>>>15),j=P+(L^K&(W^L))+w[3]+3250441966&4294967295,P=K+(j<<22&4294967295|j>>>10),j=L+(W^P&(K^W))+w[4]+4118548399&4294967295,L=P+(j<<7&4294967295|j>>>25),j=W+(K^L&(P^K))+w[5]+1200080426&4294967295,W=L+(j<<12&4294967295|j>>>20),j=K+(P^W&(L^P))+w[6]+2821735955&4294967295,K=W+(j<<17&4294967295|j>>>15),j=P+(L^K&(W^L))+w[7]+4249261313&4294967295,P=K+(j<<22&4294967295|j>>>10),j=L+(W^P&(K^W))+w[8]+1770035416&4294967295,L=P+(j<<7&4294967295|j>>>25),j=W+(K^L&(P^K))+w[9]+2336552879&4294967295,W=L+(j<<12&4294967295|j>>>20),j=K+(P^W&(L^P))+w[10]+4294925233&4294967295,K=W+(j<<17&4294967295|j>>>15),j=P+(L^K&(W^L))+w[11]+2304563134&4294967295,P=K+(j<<22&4294967295|j>>>10),j=L+(W^P&(K^W))+w[12]+1804603682&4294967295,L=P+(j<<7&4294967295|j>>>25),j=W+(K^L&(P^K))+w[13]+4254626195&4294967295,W=L+(j<<12&4294967295|j>>>20),j=K+(P^W&(L^P))+w[14]+2792965006&4294967295,K=W+(j<<17&4294967295|j>>>15),j=P+(L^K&(W^L))+w[15]+1236535329&4294967295,P=K+(j<<22&4294967295|j>>>10),j=L+(K^W&(P^K))+w[1]+4129170786&4294967295,L=P+(j<<5&4294967295|j>>>27),j=W+(P^K&(L^P))+w[6]+3225465664&4294967295,W=L+(j<<9&4294967295|j>>>23),j=K+(L^P&(W^L))+w[11]+643717713&4294967295,K=W+(j<<14&4294967295|j>>>18),j=P+(W^L&(K^W))+w[0]+3921069994&4294967295,P=K+(j<<20&4294967295|j>>>12),j=L+(K^W&(P^K))+w[5]+3593408605&4294967295,L=P+(j<<5&4294967295|j>>>27),j=W+(P^K&(L^P))+w[10]+38016083&4294967295,W=L+(j<<9&4294967295|j>>>23),j=K+(L^P&(W^L))+w[15]+3634488961&4294967295,K=W+(j<<14&4294967295|j>>>18),j=P+(W^L&(K^W))+w[4]+3889429448&4294967295,P=K+(j<<20&4294967295|j>>>12),j=L+(K^W&(P^K))+w[9]+568446438&4294967295,L=P+(j<<5&4294967295|j>>>27),j=W+(P^K&(L^P))+w[14]+3275163606&4294967295,W=L+(j<<9&4294967295|j>>>23),j=K+(L^P&(W^L))+w[3]+4107603335&4294967295,K=W+(j<<14&4294967295|j>>>18),j=P+(W^L&(K^W))+w[8]+1163531501&4294967295,P=K+(j<<20&4294967295|j>>>12),j=L+(K^W&(P^K))+w[13]+2850285829&4294967295,L=P+(j<<5&4294967295|j>>>27),j=W+(P^K&(L^P))+w[2]+4243563512&4294967295,W=L+(j<<9&4294967295|j>>>23),j=K+(L^P&(W^L))+w[7]+1735328473&4294967295,K=W+(j<<14&4294967295|j>>>18),j=P+(W^L&(K^W))+w[12]+2368359562&4294967295,P=K+(j<<20&4294967295|j>>>12),j=L+(P^K^W)+w[5]+4294588738&4294967295,L=P+(j<<4&4294967295|j>>>28),j=W+(L^P^K)+w[8]+2272392833&4294967295,W=L+(j<<11&4294967295|j>>>21),j=K+(W^L^P)+w[11]+1839030562&4294967295,K=W+(j<<16&4294967295|j>>>16),j=P+(K^W^L)+w[14]+4259657740&4294967295,P=K+(j<<23&4294967295|j>>>9),j=L+(P^K^W)+w[1]+2763975236&4294967295,L=P+(j<<4&4294967295|j>>>28),j=W+(L^P^K)+w[4]+1272893353&4294967295,W=L+(j<<11&4294967295|j>>>21),j=K+(W^L^P)+w[7]+4139469664&4294967295,K=W+(j<<16&4294967295|j>>>16),j=P+(K^W^L)+w[10]+3200236656&4294967295,P=K+(j<<23&4294967295|j>>>9),j=L+(P^K^W)+w[13]+681279174&4294967295,L=P+(j<<4&4294967295|j>>>28),j=W+(L^P^K)+w[0]+3936430074&4294967295,W=L+(j<<11&4294967295|j>>>21),j=K+(W^L^P)+w[3]+3572445317&4294967295,K=W+(j<<16&4294967295|j>>>16),j=P+(K^W^L)+w[6]+76029189&4294967295,P=K+(j<<23&4294967295|j>>>9),j=L+(P^K^W)+w[9]+3654602809&4294967295,L=P+(j<<4&4294967295|j>>>28),j=W+(L^P^K)+w[12]+3873151461&4294967295,W=L+(j<<11&4294967295|j>>>21),j=K+(W^L^P)+w[15]+530742520&4294967295,K=W+(j<<16&4294967295|j>>>16),j=P+(K^W^L)+w[2]+3299628645&4294967295,P=K+(j<<23&4294967295|j>>>9),j=L+(K^(P|~W))+w[0]+4096336452&4294967295,L=P+(j<<6&4294967295|j>>>26),j=W+(P^(L|~K))+w[7]+1126891415&4294967295,W=L+(j<<10&4294967295|j>>>22),j=K+(L^(W|~P))+w[14]+2878612391&4294967295,K=W+(j<<15&4294967295|j>>>17),j=P+(W^(K|~L))+w[5]+4237533241&4294967295,P=K+(j<<21&4294967295|j>>>11),j=L+(K^(P|~W))+w[12]+1700485571&4294967295,L=P+(j<<6&4294967295|j>>>26),j=W+(P^(L|~K))+w[3]+2399980690&4294967295,W=L+(j<<10&4294967295|j>>>22),j=K+(L^(W|~P))+w[10]+4293915773&4294967295,K=W+(j<<15&4294967295|j>>>17),j=P+(W^(K|~L))+w[1]+2240044497&4294967295,P=K+(j<<21&4294967295|j>>>11),j=L+(K^(P|~W))+w[8]+1873313359&4294967295,L=P+(j<<6&4294967295|j>>>26),j=W+(P^(L|~K))+w[15]+4264355552&4294967295,W=L+(j<<10&4294967295|j>>>22),j=K+(L^(W|~P))+w[6]+2734768916&4294967295,K=W+(j<<15&4294967295|j>>>17),j=P+(W^(K|~L))+w[13]+1309151649&4294967295,P=K+(j<<21&4294967295|j>>>11),j=L+(K^(P|~W))+w[4]+4149444226&4294967295,L=P+(j<<6&4294967295|j>>>26),j=W+(P^(L|~K))+w[11]+3174756917&4294967295,W=L+(j<<10&4294967295|j>>>22),j=K+(L^(W|~P))+w[2]+718787259&4294967295,K=W+(j<<15&4294967295|j>>>17),j=P+(W^(K|~L))+w[9]+3951481745&4294967295,G.g[0]=G.g[0]+L&4294967295,G.g[1]=G.g[1]+(K+(j<<21&4294967295|j>>>11))&4294967295,G.g[2]=G.g[2]+K&4294967295,G.g[3]=G.g[3]+W&4294967295}s.prototype.u=function(G,L){L===void 0&&(L=G.length);for(var P=L-this.blockSize,w=this.B,K=this.h,W=0;W<L;){if(K==0)for(;W<=P;)l(this,G,W),W+=this.blockSize;if(typeof G=="string"){for(;W<L;)if(w[K++]=G.charCodeAt(W++),K==this.blockSize){l(this,w),K=0;break}}else for(;W<L;)if(w[K++]=G[W++],K==this.blockSize){l(this,w),K=0;break}}this.h=K,this.o+=L},s.prototype.v=function(){var G=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);G[0]=128;for(var L=1;L<G.length-8;++L)G[L]=0;var P=8*this.o;for(L=G.length-8;L<G.length;++L)G[L]=P&255,P/=256;for(this.u(G),G=Array(16),L=P=0;4>L;++L)for(var w=0;32>w;w+=8)G[P++]=this.g[L]>>>w&255;return G};function c(G,L){var P=_;return Object.prototype.hasOwnProperty.call(P,G)?P[G]:P[G]=L(G)}function f(G,L){this.h=L;for(var P=[],w=!0,K=G.length-1;0<=K;K--){var W=G[K]|0;w&&W==L||(P[K]=W,w=!1)}this.g=P}var _={};function p(G){return-128<=G&&128>G?c(G,function(L){return new f([L|0],0>L?-1:0)}):new f([G|0],0>G?-1:0)}function g(G){if(isNaN(G)||!isFinite(G))return R;if(0>G)return te(g(-G));for(var L=[],P=1,w=0;G>=P;w++)L[w]=G/P|0,P*=4294967296;return new f(L,0)}function T(G,L){if(G.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(G.charAt(0)=="-")return te(T(G.substring(1),L));if(0<=G.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(L,8)),w=R,K=0;K<G.length;K+=8){var W=Math.min(8,G.length-K),j=parseInt(G.substring(K,K+W),L);8>W?(W=g(Math.pow(L,W)),w=w.j(W).add(g(j))):(w=w.j(P),w=w.add(g(j)))}return w}var R=p(0),V=p(1),k=p(16777216);a=f.prototype,a.m=function(){if(J(this))return-te(this).m();for(var G=0,L=1,P=0;P<this.g.length;P++){var w=this.i(P);G+=(0<=w?w:4294967296+w)*L,L*=4294967296}return G},a.toString=function(G){if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(q(this))return"0";if(J(this))return"-"+te(this).toString(G);for(var L=g(Math.pow(G,6)),P=this,w="";;){var K=ve(P,L).g;P=oe(P,K.j(L));var W=((0<P.g.length?P.g[0]:P.h)>>>0).toString(G);if(P=K,q(P))return W+w;for(;6>W.length;)W="0"+W;w=W+w}},a.i=function(G){return 0>G?0:G<this.g.length?this.g[G]:this.h};function q(G){if(G.h!=0)return!1;for(var L=0;L<G.g.length;L++)if(G.g[L]!=0)return!1;return!0}function J(G){return G.h==-1}a.l=function(G){return G=oe(this,G),J(G)?-1:q(G)?0:1};function te(G){for(var L=G.g.length,P=[],w=0;w<L;w++)P[w]=~G.g[w];return new f(P,~G.h).add(V)}a.abs=function(){return J(this)?te(this):this},a.add=function(G){for(var L=Math.max(this.g.length,G.g.length),P=[],w=0,K=0;K<=L;K++){var W=w+(this.i(K)&65535)+(G.i(K)&65535),j=(W>>>16)+(this.i(K)>>>16)+(G.i(K)>>>16);w=j>>>16,W&=65535,j&=65535,P[K]=j<<16|W}return new f(P,P[P.length-1]&-2147483648?-1:0)};function oe(G,L){return G.add(te(L))}a.j=function(G){if(q(this)||q(G))return R;if(J(this))return J(G)?te(this).j(te(G)):te(te(this).j(G));if(J(G))return te(this.j(te(G)));if(0>this.l(k)&&0>G.l(k))return g(this.m()*G.m());for(var L=this.g.length+G.g.length,P=[],w=0;w<2*L;w++)P[w]=0;for(w=0;w<this.g.length;w++)for(var K=0;K<G.g.length;K++){var W=this.i(w)>>>16,j=this.i(w)&65535,Ye=G.i(K)>>>16,Ct=G.i(K)&65535;P[2*w+2*K]+=j*Ct,he(P,2*w+2*K),P[2*w+2*K+1]+=W*Ct,he(P,2*w+2*K+1),P[2*w+2*K+1]+=j*Ye,he(P,2*w+2*K+1),P[2*w+2*K+2]+=W*Ye,he(P,2*w+2*K+2)}for(w=0;w<L;w++)P[w]=P[2*w+1]<<16|P[2*w];for(w=L;w<2*L;w++)P[w]=0;return new f(P,0)};function he(G,L){for(;(G[L]&65535)!=G[L];)G[L+1]+=G[L]>>>16,G[L]&=65535,L++}function ce(G,L){this.g=G,this.h=L}function ve(G,L){if(q(L))throw Error("division by zero");if(q(G))return new ce(R,R);if(J(G))return L=ve(te(G),L),new ce(te(L.g),te(L.h));if(J(L))return L=ve(G,te(L)),new ce(te(L.g),L.h);if(30<G.g.length){if(J(G)||J(L))throw Error("slowDivide_ only works with positive integers.");for(var P=V,w=L;0>=w.l(G);)P=ge(P),w=ge(w);var K=Se(P,1),W=Se(w,1);for(w=Se(w,2),P=Se(P,2);!q(w);){var j=W.add(w);0>=j.l(G)&&(K=K.add(P),W=j),w=Se(w,1),P=Se(P,1)}return L=oe(G,K.j(L)),new ce(K,L)}for(K=R;0<=G.l(L);){for(P=Math.max(1,Math.floor(G.m()/L.m())),w=Math.ceil(Math.log(P)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),W=g(P),j=W.j(L);J(j)||0<j.l(G);)P-=w,W=g(P),j=W.j(L);q(W)&&(W=V),K=K.add(W),G=oe(G,j)}return new ce(K,G)}a.A=function(G){return ve(this,G).h},a.and=function(G){for(var L=Math.max(this.g.length,G.g.length),P=[],w=0;w<L;w++)P[w]=this.i(w)&G.i(w);return new f(P,this.h&G.h)},a.or=function(G){for(var L=Math.max(this.g.length,G.g.length),P=[],w=0;w<L;w++)P[w]=this.i(w)|G.i(w);return new f(P,this.h|G.h)},a.xor=function(G){for(var L=Math.max(this.g.length,G.g.length),P=[],w=0;w<L;w++)P[w]=this.i(w)^G.i(w);return new f(P,this.h^G.h)};function ge(G){for(var L=G.g.length+1,P=[],w=0;w<L;w++)P[w]=G.i(w)<<1|G.i(w-1)>>>31;return new f(P,G.h)}function Se(G,L){var P=L>>5;L%=32;for(var w=G.g.length-P,K=[],W=0;W<w;W++)K[W]=0<L?G.i(W+P)>>>L|G.i(W+P+1)<<32-L:G.i(W+P);return new f(K,G.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Md5=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Integer=f}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event,getStatEventTarget,createWebChannelTransport;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,E){return u==Array.prototype||u==Object.prototype||(u[m]=E.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=r(this);function l(u,m){if(m)e:{var E=s;u=u.split(".");for(var I=0;I<u.length-1;I++){var Z=u[I];if(!(Z in E))break e;E=E[Z]}u=u[u.length-1],I=E[u],m=m(I),m!=I&&m!=null&&t(E,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var E=0,I=!1,Z={next:function(){if(!I&&E<u.length){var re=E++;return{value:m(re,u[re]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},_=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,E){return u.call.apply(u.bind,arguments)}function R(u,m,E){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,I),u.apply(m,Z)}}return function(){return u.apply(m,arguments)}}function V(u,m,E){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,V.apply(null,arguments)}function k(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function q(u,m){function E(){}E.prototype=m.prototype,u.aa=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(I,Z,re){for(var fe=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)fe[Ne-2]=arguments[Ne];return m.prototype[Z].apply(I,fe)}}function J(u){const m=u.length;if(0<m){const E=Array(m);for(let I=0;I<m;I++)E[I]=u[I];return E}return[]}function te(u,m){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(p(I)){const Z=u.length||0,re=I.length||0;u.length=Z+re;for(let fe=0;fe<re;fe++)u[Z+fe]=I[fe]}else u.push(I)}}class oe{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function he(u){return/^[\s\xa0]*$/.test(u)}function ce(){var u=_.navigator;return u&&(u=u.userAgent)?u:""}function ve(u){return ve[" "](u),u}ve[" "]=function(){};var ge=ce().indexOf("Gecko")!=-1&&!(ce().toLowerCase().indexOf("webkit")!=-1&&ce().indexOf("Edge")==-1)&&!(ce().indexOf("Trident")!=-1||ce().indexOf("MSIE")!=-1)&&ce().indexOf("Edge")==-1;function Se(u,m,E){for(const I in u)m.call(E,u[I],I,u)}function G(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function L(u){const m={};for(const E in u)m[E]=u[E];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(u,m){let E,I;for(let Z=1;Z<arguments.length;Z++){I=arguments[Z];for(E in I)u[E]=I[E];for(let re=0;re<P.length;re++)E=P[re],Object.prototype.hasOwnProperty.call(I,E)&&(u[E]=I[E])}}function K(u){var m=1;u=u.split(":");const E=[];for(;0<m&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function W(u){_.setTimeout(()=>{throw u},0)}function j(){var u=ke;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ye{constructor(){this.h=this.g=null}add(m,E){const I=Ct.get();I.set(m,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Ct=new oe(()=>new de,u=>u.reset());class de{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Re=!1,ke=new Ye,z=()=>{const u=_.Promise.resolve(void 0);Ie=()=>{u.then(ue)}};var ue=()=>{for(var u;u=j();){try{u.h.call(u.g)}catch(E){W(E)}var m=Ct;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Re=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};_.addEventListener("test",E,m),_.removeEventListener("test",E,m)}catch{}return u}();function be(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ge){e:{try{ve(m.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(m=null)}}else E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&be.aa.h.call(this)}}q(be,_e);var Pe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Le=0;function ut(u,m,E,I,Z){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!I,this.ha=Z,this.key=++Le,this.da=this.fa=!1}function Fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rn(u){this.src=u,this.g={},this.h=0}Rn.prototype.add=function(u,m,E,I,Z){var re=u.toString();u=this.g[re],u||(u=this.g[re]=[],this.h++);var fe=Un(u,m,I,Z);return-1<fe?(m=u[fe],E||(m.fa=!1)):(m=new ut(m,this.src,re,!!I,Z),m.fa=E,u.push(m)),m};function Ar(u,m){var E=m.type;if(E in u.g){var I=u.g[E],Z=Array.prototype.indexOf.call(I,m,void 0),re;(re=0<=Z)&&Array.prototype.splice.call(I,Z,1),re&&(Fe(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Un(u,m,E,I){for(var Z=0;Z<u.length;++Z){var re=u[Z];if(!re.da&&re.listener==m&&re.capture==!!E&&re.ha==I)return Z}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),Xr={};function vr(u,m,E,I,Z){if(Array.isArray(m)){for(var re=0;re<m.length;re++)vr(u,m[re],E,I,Z);return null}return E=so(E),u&&u[xt]?u.K(m,E,g(I)?!!I.capture:!1,Z):es(u,m,E,!1,I,Z)}function es(u,m,E,I,Z,re){if(!m)throw Error("Invalid event type");var fe=g(Z)?!!Z.capture:!!Z,Ne=ts(u);if(Ne||(u[$r]=Ne=new Rn(u)),E=Ne.add(m,E,I,fe,re),E.proxy)return E;if(I=ca(),E.proxy=I,I.src=u,I.listener=E,u.addEventListener)me||(Z=fe),Z===void 0&&(Z=!1),u.addEventListener(m.toString(),I,Z);else if(u.attachEvent)u.attachEvent(fa(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ca(){function u(E){return m.call(u.src,u.listener,E)}const m=bl;return u}function ha(u,m,E,I,Z){if(Array.isArray(m))for(var re=0;re<m.length;re++)ha(u,m[re],E,I,Z);else I=g(I)?!!I.capture:!!I,E=so(E),u&&u[xt]?(u=u.i,m=String(m).toString(),m in u.g&&(re=u.g[m],E=Un(re,E,I,Z),-1<E&&(Fe(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete u.g[m],u.h--)))):u&&(u=ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Un(m,E,I,Z)),(E=-1<u?m[u]:null)&&wi(E))}function wi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])Ar(m.i,u);else{var E=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(E,I,u.capture):m.detachEvent?m.detachEvent(fa(E),I):m.addListener&&m.removeListener&&m.removeListener(I),(E=ts(m))?(Ar(E,u),E.h==0&&(E.src=null,m[$r]=null)):Fe(u)}}}function fa(u){return u in Xr?Xr[u]:Xr[u]="on"+u}function bl(u,m){if(u.da)u=!0;else{m=new be(m,this);var E=u.listener,I=u.ha||u.src;u.fa&&wi(u),u=E.call(I,m)}return u}function ts(u){return u=u[$r],u instanceof Rn?u:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(u){return typeof u=="function"?u:(u[Pn]||(u[Pn]=function(m){return u.handleEvent(m)}),u[Pn])}function kt(){ye.call(this),this.i=new Rn(this),this.M=this,this.F=null}q(kt,ye),kt.prototype[xt]=!0,kt.prototype.removeEventListener=function(u,m,E,I){ha(this,u,m,E,I)};function ln(u,m){var E,I=u.F;if(I)for(E=[];I;I=I.F)E.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var Z=m;m=new _e(I,u),w(m,Z)}if(Z=!0,E)for(var re=E.length-1;0<=re;re--){var fe=m.g=E[re];Z=Ir(fe,I,!0,m)&&Z}if(fe=m.g=u,Z=Ir(fe,I,!0,m)&&Z,Z=Ir(fe,I,!1,m)&&Z,E)for(re=0;re<E.length;re++)fe=m.g=E[re],Z=Ir(fe,I,!1,m)&&Z}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var E=u.g[m],I=0;I<E.length;I++)Fe(E[I]);delete u.g[m],u.h--}}this.F=null},kt.prototype.K=function(u,m,E,I){return this.i.add(String(u),m,!1,E,I)},kt.prototype.L=function(u,m,E,I){return this.i.add(String(u),m,!0,E,I)};function Ir(u,m,E,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var Z=!0,re=0;re<m.length;++re){var fe=m[re];if(fe&&!fe.da&&fe.capture==E){var Ne=fe.listener,qt=fe.ha||fe.src;fe.fa&&Ar(u.i,fe),Z=Ne.call(qt,I)!==!1&&Z}}return Z&&!I.defaultPrevented}function oo(u,m,E){if(typeof u=="function")E&&(u=V(u,E));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:_.setTimeout(u,m||0)}function ns(u){u.g=oo(()=>{u.g=null,u.i&&(u.i=!1,ns(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cl extends ye{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(u){ye.call(this),this.h=u,this.g={}}q(Ni,ye);var Wr=[];function yn(u){Se(u.g,function(m,E){this.g.hasOwnProperty(E)&&wi(m)},u),u.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),yn(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=_.JSON.stringify,sr=_.JSON.parse,An=class{stringify(u){return _.JSON.stringify(u,void 0)}parse(u){return _.JSON.parse(u,void 0)}};function is(){}is.prototype.h=null;function lo(u){return u.h||(u.h=u.i())}function uo(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){_e.call(this,"d")}q(Zr,_e);function er(){_e.call(this,"c")}q(er,_e);var jn={},Jr=null;function da(){return Jr=Jr||new kt}jn.La="serverreachability";function as(u){_e.call(this,jn.La,u)}q(as,_e);function ei(u){const m=da();ln(m,new as(m))}jn.STAT_EVENT="statevent";function _a(u,m){_e.call(this,jn.STAT_EVENT,u),this.stat=m}q(_a,_e);function At(u){const m=da();ln(m,new _a(m,u))}jn.Ma="timingevent";function co(u,m){_e.call(this,jn.Ma,u),this.size=m}q(co,_e);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){u()},m)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function ho(u,m,E,I,Z,re){u.info(function(){if(u.g)if(re)for(var fe="",Ne=re.split("&"),qt=0;qt<Ne.length;qt++){var Me=Ne[qt].split("=");if(1<Me.length){var hn=Me[0];Me=Me[1];var nn=hn.split("_");fe=2<=nn.length&&nn[1]=="type"?fe+(hn+"="+Me+"&"):fe+(hn+"=redacted&")}}else fe=null;else fe=re;return"XMLHTTP REQ ("+I+") [attempt "+Z+"]: "+m+`
`+E+`
`+fe})}function fo(u,m,E,I,Z,re,fe){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Z+"]: "+m+`
`+E+`
`+re+" "+fe})}function ri(u,m,E,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+un(u,E)+(I?" "+I:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}ni.prototype.info=function(){};function un(u,m){if(!u.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var I=E[u];if(!(2>I.length)){var Z=I[1];if(Array.isArray(Z)&&!(1>Z.length)){var re=Z[0];if(re!="noop"&&re!="stop"&&re!="close")for(var fe=1;fe<Z.length;fe++)Z[fe]=""}}}}return rs(E)}catch{return m}}var Ft={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mi;function ma(){}q(ma,is),ma.prototype.g=function(){return new XMLHttpRequest},ma.prototype.i=function(){return{}},Mi=new ma;function ur(u,m,E,I){this.j=u,this.i=m,this.l=E,this.R=I||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ss}function ss(){this.i=null,this.g="",this.h=!1}var ii={},Oi={};function tr(u,m,E){u.L=1,u.v=ji(ct(m)),u.m=E,u.P=!0,Sr(u,null)}function Sr(u,m){u.F=Date.now(),$e(u),u.A=ct(u.v);var E=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Cr(E.i,"t",I),u.C=0,E=u.j.J,u.h=new ss,u.g=Po(u.j,E?m:null,!u.m),0<u.O&&(u.M=new Cl(V(u.Y,u,u.g),u.O)),m=u.U,E=u.g,I=u.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Wr[0]=Z.toString()),Z=Wr);for(var re=0;re<Z.length;re++){var fe=vr(E,Z[re],I||m.handleEvent,!1,m.h||m);if(!fe)break;m.g[fe.key]=fe}m=u.H?L(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ei(),ho(u.i,u.u,u.A,u.l,u.R,u.m)}ur.prototype.ca=function(u){u=u.target;const m=this.M;m&&qn(u)==3?m.j():this.Y(u)},ur.prototype.Y=function(u){try{if(u==this.g)e:{const nn=qn(this.g);var m=this.g.Ba();const Nr=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||yo(this.g)))){this.J||nn!=4||m==7||(m==8||0>=Nr?ei(3):ei(2)),pa(this);var E=this.g.Z();this.X=E;t:if(ai(this)){var I=yo(this.g);u="";var Z=I.length,re=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),xn(this);var fe="";break t}this.h.i=new _.TextDecoder}for(m=0;m<Z;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(re&&m==Z-1)});I.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,fo(this.i,this.u,this.A,this.l,this.R,nn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,qt=this.g;if((Ne=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!he(Ne)){var Me=Ne;break t}}Me=null}if(E=Me)ri(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dn(this,E);else{this.o=!1,this.s=3,At(12),bn(this),xn(this);break e}}if(this.P){E=!0;let mn;for(;!this.J&&this.C<fe.length;)if(mn=si(this,fe),mn==Oi){nn==4&&(this.s=4,At(14),E=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==ii){this.s=4,At(15),ri(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else ri(this.i,this.l,mn,null),Dn(this,mn);if(ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||fe.length!=0||this.h.h||(this.s=1,At(16),E=!1),this.o=this.o&&E,!E)ri(this.i,this.l,fe,"[Invalid Chunked Response]"),bn(this),xn(this);else if(0<fe.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Gi(hn),hn.M=!0,At(11))}}else ri(this.i,this.l,fe,null),Dn(this,fe);nn==4&&bn(this),this.o&&!this.J&&(nn==4?Io(this.j,this):(this.o=!1,$e(this)))}else Ol(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),bn(this),xn(this)}}}catch{}finally{}};function ai(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function si(u,m){var E=u.C,I=m.indexOf(`
`,E);return I==-1?Oi:(E=Number(m.substring(E,I)),isNaN(E)?ii:(I+=1,I+E>m.length?Oi:(m=m.slice(I,I+E),u.C=I+E,m)))}ur.prototype.cancel=function(){this.J=!0,bn(this)};function $e(u){u.S=Date.now()+u.I,os(u,u.I)}function os(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ti(V(u.ba,u),m)}function pa(u){u.B&&(_.clearTimeout(u.B),u.B=null)}ur.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lr(this.i,this.A),this.L!=2&&(ei(),At(17)),bn(this),this.s=2,xn(this)):os(this,this.S-u)};function xn(u){u.j.G==0||u.J||Io(u.j,u)}function bn(u){pa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,yn(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Dn(u,m){try{var E=u.j;if(E.G!=0&&(E.g==u||oi(E.h,u))){if(!u.K&&oi(E.h,u)&&E.G==3){try{var I=E.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Z=I;if(Z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Sa(E),Ia(E);else break e;Es(E),At(18)}}else E.za=Z[1],0<E.za-E.T&&37500>Z[2]&&E.F&&E.v==0&&!E.C&&(E.C=ti(V(E.Za,E),6e3));if(1>=_o(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else wr(E,11)}else if((u.K||E.g==u)&&Sa(E),!he(m))for(Z=E.Da.g.parse(m),m=0;m<Z.length;m++){let Me=Z[m];if(E.T=Me[0],Me=Me[1],E.G==2)if(Me[0]=="c"){E.K=Me[1],E.ia=Me[2];const hn=Me[3];hn!=null&&(E.la=hn,E.j.info("VER="+E.la));const nn=Me[4];nn!=null&&(E.Aa=nn,E.j.info("SVER="+E.Aa));const Nr=Me[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(I=1.5*Nr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const mn=u.g;if(mn){const pr=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var re=I.h;re.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(li(re,re.h),re.h=null))}if(I.D){const Ts=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ts&&(I.ya=Ts,Ue(I.I,I.D,Ts))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var fe=u;if(I.qa=So(I,I.J?I.ia:null,I.W),fe.K){Bn(I.h,fe);var Ne=fe,qt=I.L;qt&&(Ne.I=qt),Ne.B&&(pa(Ne),$e(Ne)),I.g=fe}else Ao(I);0<E.i.length&&Va(E)}else Me[0]!="stop"&&Me[0]!="close"||wr(E,7);else E.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?wr(E,7):ps(E):Me[0]!="noop"&&E.l&&E.l.ta(Me),E.v=0)}}ei(4)}catch{}}var xl=class{constructor(u,m){this.g=u,this.map=m}};function ls(u){this.l=u||10,_.PerformanceNavigationTiming?(u=_.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function us(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _o(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function li(u,m){u.g?u.g.add(m):u.h=m}function Bn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ls.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.D);return m}return J(u.i)}function mo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],E=u.length,I=0;I<E;I++)m.push(u[I]);return m}m=[],E=0;for(I in u)m[E++]=u[I];return m}function Dl(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var E=0;E<u;E++)m.push(E);return m}m=[],E=0;for(const I in u)m[E++]=I;return m}}}function Li(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var E=Dl(u),I=mo(u),Z=I.length,re=0;re<Z;re++)m.call(void 0,I[re],E&&E[re],u)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var I=u[E].indexOf("="),Z=null;if(0<=I){var re=u[E].substring(0,I);Z=u[E].substring(I+1)}else re=u[E];m(re,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Pr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Pr){this.h=u.h,ui(this,u.j),this.o=u.o,this.g=u.g,Ui(this,u.s),this.l=u.l;var m=u.i,E=new cr;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),Ea(this,E),this.m=u.m}else u&&(m=String(u).match(cs))?(this.h=!1,ui(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),Ui(this,m[4]),this.l=ci(m[5]||"",!0),Ea(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Pr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(kn(m,hs,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kn(m,hs,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(kn(E,E.charAt(0)=="/"?fs:po,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",kn(E,Ml)),u.join("")};function ct(u){return new Pr(u)}function ui(u,m,E){u.j=E?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ui(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ea(u,m,E){m instanceof cr?(u.i=m,ds(u.i,u.h)):(E||(m=kn(m,Nl)),u.i=new cr(m,u.h))}function Ue(u,m,E){u.i.set(m,E)}function ji(u){return Ue(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kn(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,wl),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hs=/[#\/\?@]/g,po=/[#\?:]/g,fs=/[#\?]/g,Nl=/[#\?@]/g,Ml=/#/g;function cr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function zn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}a=cr.prototype,a.add=function(u,m){zn(this),this.i=null,u=xr(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function ya(u,m){zn(u),m=xr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function br(u,m){return zn(u),m=xr(u,m),u.g.has(m)}a.forEach=function(u,m){zn(this),this.g.forEach(function(E,I){E.forEach(function(Z){u.call(m,Z,I,this)},this)},this)},a.na=function(){zn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let I=0;I<m.length;I++){const Z=u[I];for(let re=0;re<Z.length;re++)E.push(m[I])}return E},a.V=function(u){zn(this);let m=[];if(typeof u=="string")br(this,u)&&(m=m.concat(this.g.get(xr(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)m=m.concat(u[E])}return m},a.set=function(u,m){return zn(this),this.i=null,u=xr(this,u),br(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Cr(u,m,E){ya(u,m),0<E.length&&(u.i=null,u.g.set(xr(u,m),J(E)),u.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var I=m[E];const re=encodeURIComponent(String(I)),fe=this.V(I);for(I=0;I<fe.length;I++){var Z=re;fe[I]!==""&&(Z+="="+encodeURIComponent(String(fe[I]))),u.push(Z)}}return this.i=u.join("&")};function xr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ds(u,m){m&&!u.j&&(zn(u),u.i=null,u.g.forEach(function(E,I){var Z=I.toLowerCase();I!=Z&&(ya(this,I),Cr(this,Z,E))},u)),u.j=m}function go(u,m){const E=new ni;if(_.Image){const I=new Image;I.onload=k(Fn,E,"TestLoadImage: loaded",!0,m,I),I.onerror=k(Fn,E,"TestLoadImage: error",!1,m,I),I.onabort=k(Fn,E,"TestLoadImage: abort",!1,m,I),I.ontimeout=k(Fn,E,"TestLoadImage: timeout",!1,m,I),_.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Bi(u,m){const E=new ni,I=new AbortController,Z=setTimeout(()=>{I.abort(),Fn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(re=>{clearTimeout(Z),re.ok?Fn(E,"TestPingServer: ok",!0,m):Fn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(Z),Fn(E,"TestPingServer: error",!1,m)})}function Fn(u,m,E,I,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),I(E)}catch{}}function ki(){this.g=new An}function hr(u,m,E){const I=E||"";try{Li(u,function(Z,re){let fe=Z;g(Z)&&(fe=rs(Z)),m.push(I+re+"="+encodeURIComponent(fe))})}catch(Z){throw m.push(I+"type="+encodeURIComponent("_badmap")),Z}}function hi(u){this.l=u.Ub||null,this.j=u.eb||!1}q(hi,is),hi.prototype.g=function(){return new Dr(this.l,this.j)},hi.prototype.i=function(u){return function(){return u}}({});function Dr(u,m){kt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Dr,kt),a=Dr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,dr(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||_).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):dr(this),this.readyState==3&&_s(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,fr(this))},a.Qa=function(u){this.g&&(this.response=u,fr(this))},a.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dr(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function dr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ms(u){let m="";return Se(u,function(E,I){m+=I,m+=":",m+=E,m+=`\r
`}),m}function cn(u,m,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=ms(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Ue(u,m,E))}function ze(u){kt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(ze,kt);var Ta=/^https?$/i,zi=["POST","PUT"];a=ze.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mi.g(),this.v=this.o?lo(this.o):lo(Mi),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(re){Eo(this,re);return}if(u=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Z in I)E.set(Z,I[Z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const re of I.keys())E.set(re,I.get(re));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),Z=_.FormData&&u instanceof _.FormData,!(0<=Array.prototype.indexOf.call(zi,m,void 0))||I||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,fe]of E)this.g.setRequestHeader(re,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fi(this),this.u=!0,this.g.send(u),this.u=!1}catch(re){Eo(this,re)}};function Eo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ra(u),_r(u)}function Ra(u){u.A||(u.A=!0,ln(u,"complete"),ln(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ln(this,"complete"),ln(this,"abort"),_r(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),ze.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},a.bb=function(){Aa(this)};function Aa(u){if(u.h&&typeof f<"u"&&(!u.v[1]||qn(u)!=4||u.Z()!=2)){if(u.u&&qn(u)==4)oo(u.Ea,0,u);else if(ln(u,"readystatechange"),qn(u)==4){u.h=!1;try{const fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var I;if(I=fe===0){var Z=String(u.D).match(cs)[1]||null;!Z&&_.self&&_.self.location&&(Z=_.self.location.protocol.slice(0,-1)),I=!Ta.test(Z?Z.toLowerCase():"")}E=I}if(E)ln(u,"complete"),ln(u,"success");else{u.m=6;try{var re=2<qn(u)?u.g.statusText:""}catch{re=""}u.l=re+" ["+u.Z()+"]",Ra(u)}}finally{_r(u)}}}}function _r(u,m){if(u.g){Fi(u);const E=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ln(u,"ready");try{E.onreadystatechange=I}catch{}}}function Fi(u){u.I&&(_.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sr(m)}};function yo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ol(u){const m={};u=(u.g&&2<=qn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(he(u[I]))continue;var E=K(u[I]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=m[Z]||[];m[Z]=re,re.push(E)}G(m,function(I){return I.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function va(u){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qi("baseRetryDelayMs",5e3,u),this.cb=qi("retryDelaySeedMs",1e4,u),this.Wa=qi("forwardChannelMaxRetries",2,u),this.wa=qi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(u&&u.concurrentRequestLimit),this.Da=new ki,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=va.prototype,a.la=8,a.G=1,a.connect=function(u,m,E,I){At(0),this.W=u,this.H=m||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=So(this,null,this.W),Va(this)};function ps(u){if(To(u),u.G==3){var m=u.U++,E=ct(u.I);if(Ue(E,"SID",u.K),Ue(E,"RID",m),Ue(E,"TYPE","terminate"),Hi(u,E),m=new ur(u,u.j,m),m.L=2,m.v=ji(ct(E)),E=!1,_.navigator&&_.navigator.sendBeacon)try{E=_.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&_.Image&&(new Image().src=m.v,E=!0),E||(m.g=Po(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$e(m)}Vo(u)}function Ia(u){u.g&&(Gi(u),u.g.cancel(),u.g=null)}function To(u){Ia(u),u.u&&(_.clearTimeout(u.u),u.u=null),Sa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&_.clearTimeout(u.s),u.s=null)}function Va(u){if(!us(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ie||z(),Re||(Ie(),Re=!0),ke.add(m,u),u.B=0}}function Ll(u,m){return _o(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ti(V(u.Ga,u,m),ys(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Z=new ur(this,this.j,u);let re=this.o;if(this.S&&(re?(re=L(re),w(re,this.S)):re=this.S),this.m!==null||this.O||(Z.H=re,re=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Ro(this,Z,m),E=ct(this.I),Ue(E,"RID",u),Ue(E,"CVER",22),this.D&&Ue(E,"X-HTTP-Session-Id",this.D),Hi(this,E),re&&(this.O?m="headers="+encodeURIComponent(String(ms(re)))+"&"+m:this.m&&cn(E,this.m,re)),li(this.h,Z),this.Ua&&Ue(E,"TYPE","init"),this.P?(Ue(E,"$req",m),Ue(E,"SID","null"),Z.T=!0,tr(Z,E,null)):tr(Z,E,m),this.G=2}}else this.G==3&&(u?gs(this,u):this.i.length==0||us(this.h)||gs(this))};function gs(u,m){var E;m?E=m.l:E=u.U++;const I=ct(u.I);Ue(I,"SID",u.K),Ue(I,"RID",E),Ue(I,"AID",u.T),Hi(u,I),u.m&&u.o&&cn(I,u.m,u.o),E=new ur(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ro(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),li(u.h,E),tr(E,I,m)}function Hi(u,m){u.H&&Se(u.H,function(E,I){Ue(m,I,E)}),u.l&&Li({},function(E,I){Ue(m,I,E)})}function Ro(u,m,E){E=Math.min(u.i.length,E);var I=u.l?V(u.l.Na,u.l,u):null;e:{var Z=u.i;let re=-1;for(;;){const fe=["count="+E];re==-1?0<E?(re=Z[0].g,fe.push("ofs="+re)):re=0:fe.push("ofs="+re);let Ne=!0;for(let qt=0;qt<E;qt++){let Me=Z[qt].g;const hn=Z[qt].map;if(Me-=re,0>Me)re=Math.max(0,Z[qt].g-100),Ne=!1;else try{hr(hn,fe,"req"+Me+"_")}catch{I&&I(hn)}}if(Ne){I=fe.join("&");break e}}}return u=u.i.splice(0,E),m.D=u,I}function Ao(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ie||z(),Re||(Ie(),Re=!0),ke.add(m,u),u.v=0}}function Es(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ti(V(u.Fa,u),ys(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ti(V(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ia(this),vo(this))};function Gi(u){u.A!=null&&(_.clearTimeout(u.A),u.A=null)}function vo(u){u.g=new ur(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ct(u.qa);Ue(m,"RID","rpc"),Ue(m,"SID",u.K),Ue(m,"AID",u.T),Ue(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ue(m,"TO",u.ja),Ue(m,"TYPE","xmlhttp"),Hi(u,m),u.m&&u.o&&cn(m,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=ji(ct(m)),E.m=null,E.P=!0,Sr(E,u)}a.Za=function(){this.C!=null&&(this.C=null,Ia(this),Es(this),At(19))};function Sa(u){u.C!=null&&(_.clearTimeout(u.C),u.C=null)}function Io(u,m){var E=null;if(u.g==m){Sa(u),Gi(u),u.g=null;var I=2}else if(oi(u.h,m))E=m.D,Bn(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var Z=u.B;I=da(),ln(I,new co(I,E)),Va(u)}else Ao(u);else if(Z=m.s,Z==3||Z==0&&0<m.X||!(I==1&&Ll(u,m)||I==2&&Es(u)))switch(E&&0<E.length&&(m=u.h,m.i=m.i.concat(E)),Z){case 1:wr(u,5);break;case 4:wr(u,10);break;case 3:wr(u,6);break;default:wr(u,2)}}}function ys(u,m){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*m}function wr(u,m){if(u.j.info("Error code "+m),m==2){var E=V(u.fb,u),I=u.Xa;const Z=!I;I=new Pr(I||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||ui(I,"https"),ji(I),Z?go(I.toString(),E):Bi(I.toString(),E)}else At(2);u.G=0,u.l&&u.l.sa(m),Vo(u),To(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Vo(u){if(u.G=0,u.ka=[],u.l){const m=vn(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ka,m),te(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function So(u,m,E){var I=E instanceof Pr?ct(E):new Pr(E);if(I.g!="")m&&(I.g=m+"."+I.g),Ui(I,I.s);else{var Z=_.location;I=Z.protocol,m=m?m+"."+Z.hostname:Z.hostname,Z=+Z.port;var re=new Pr(null);I&&ui(re,I),m&&(re.g=m),Z&&Ui(re,Z),E&&(re.l=E),I=re}return E=u.D,m=u.ya,E&&m&&Ue(I,E,m),Ue(I,"VER",u.la),Hi(u,I),I}function Po(u,m,E){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ze(new hi({eb:E})):new ze(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function bo(){}a=bo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Pa(){}Pa.prototype.g=function(u,m){return new In(u,m)};function In(u,m){kt.call(this),this.g=new va(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!he(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!he(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new mr(this)}q(In,kt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){ps(this.g)},In.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=rs(u),u=E);m.i.push(new xl(m.Ya++,u)),m.G==3&&Va(m)},In.prototype.N=function(){this.g.l=null,delete this.j,ps(this.g),delete this.g,In.aa.N.call(this)};function Co(u){Zr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}q(Co,Zr);function xo(){er.call(this),this.status=1}q(xo,er);function mr(u){this.g=u}q(mr,bo),mr.prototype.ua=function(){ln(this.g,"a")},mr.prototype.ta=function(u){ln(this.g,new Co(u))},mr.prototype.sa=function(u){ln(this.g,new xo)},mr.prototype.ra=function(){ln(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,createWebChannelTransport=function(){return new Pa},getStatEventTarget=function(){return da()},Event=jn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ft.NO_ERROR=0,Ft.TIMEOUT=8,Ft.HTTP_ERROR=6,ErrorCode=Ft,Vr.COMPLETE="complete",EventType=Vr,uo.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",kt.prototype.listen=kt.prototype.K,WebChannel=uo,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,XhrIo=ze}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const S="@firebase/firestore",b="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return v.logLevel}function __PRIVATE_logDebug(a,...t){if(v.logLevel<=LogLevel.DEBUG){const r=t.map(__PRIVATE_argToString);v.debug(`Firestore (${D}): ${a}`,...r)}}function __PRIVATE_logError(a,...t){if(v.logLevel<=LogLevel.ERROR){const r=t.map(__PRIVATE_argToString);v.error(`Firestore (${D}): ${a}`,...r)}}function __PRIVATE_logWarn(a,...t){if(v.logLevel<=LogLevel.WARN){const r=t.map(__PRIVATE_argToString);v.warn(`Firestore (${D}): ${a}`,...r)}}function __PRIVATE_argToString(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(a="Unexpected state"){const t=`FIRESTORE (${D}) INTERNAL ASSERTION FAILED: `+a;throw __PRIVATE_logError(t),new Error(t)}function __PRIVATE_hardAssert(a,t){a||fail()}function __PRIVATE_debugCast(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(t){this.t=t,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){__PRIVATE_hardAssert(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let c=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new __PRIVATE_Deferred,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},_=p=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>_(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?_(p):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new __PRIVATE_Deferred)}},0),f()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(__PRIVATE_hardAssert(typeof s.accessToken=="string"),new __PRIVATE_OAuthToken(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(t===null||typeof t=="string"),new User(t)}}class __PRIVATE_FirstPartyToken{constructor(t,r,s){this.l=t,this.h=r,this.P=s,this.type="FirstParty",this.user=User.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(t,r,s){this.l=t,this.h=r,this.P=s}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_isFirebaseServerApp(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){__PRIVATE_hardAssert(this.o===void 0);const s=c=>{c.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new AppCheckToken(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(__PRIVATE_hardAssert(typeof r.token=="string"),this.R=r.token,new AppCheckToken(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=__PRIVATE_randomBytes(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<r&&(s+=t.charAt(l[c]%62))}return s}}function __PRIVATE_primitiveComparator(a,t){return a<t?-1:a>t?1:0}function __PRIVATE_compareUtf8Strings(a,t){const r=__PRIVATE_newTextEncoder().encode(a),s=__PRIVATE_newTextEncoder().encode(t);for(let l=0;l<Math.min(r.length,s.length);l++){const c=__PRIVATE_primitiveComparator(r[l],s[l]);if(c!==0)return c}return __PRIVATE_primitiveComparator(r.length,s.length)}function __PRIVATE_arrayEquals(a,t,r){return a.length===t.length&&a.every((s,l)=>r(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=-62135596800,M=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(t){return Timestamp.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*M);return new Timestamp(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<F)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M}_compareTo(t){return this.seconds===t.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,t.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-F;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(t){return new SnapshotVersion(t)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x="__name__";class BasePath{constructor(t,r,s){r===void 0?r=0:r>t.length&&fail(),s===void 0?s=t.length-r:s>t.length-r&&fail(),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return BasePath.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof BasePath?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let l=0;l<s;l++){const c=BasePath.compareSegments(t.get(l),r.get(l));if(c!==0)return c}return __PRIVATE_primitiveComparator(t.length,r.length)}static compareSegments(t,r){const s=BasePath.isNumericId(t),l=BasePath.isNumericId(r);return s&&!l?-1:!s&&l?1:s&&l?BasePath.extractNumericId(t).compare(BasePath.extractNumericId(r)):__PRIVATE_compareUtf8Strings(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Integer.fromString(t.substring(4,t.length-2))}}class ResourcePath extends BasePath{construct(t,r,s){return new ResourcePath(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new ResourcePath(r)}static emptyPath(){return new ResourcePath([])}}const O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(t,r,s){return new FieldPath$1(t,r,s)}static isValidIdentifier(t){return O.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x}static keyField(){return new FieldPath$1([x])}static fromServerFormat(t){const r=[];let s="",l=0;const c=()=>{if(s.length===0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;l<t.length;){const _=t[l];if(_==="\\"){if(l+1===t.length)throw new FirestoreError(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new FirestoreError(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else _==="`"?(f=!f,l++):_!=="."||f?(s+=_,l++):(c(),l++)}if(c(),f)throw new FirestoreError(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new FieldPath$1(r)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(t){this.path=t}static fromPath(t){return new DocumentKey(ResourcePath.fromString(t))}static fromName(t){return new DocumentKey(ResourcePath.fromString(t).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ResourcePath.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return ResourcePath.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new DocumentKey(new ResourcePath(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(a,t){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=SnapshotVersion.fromTimestamp(s===1e9?new Timestamp(r+1,0):new Timestamp(r,s));return new IndexOffset(l,DocumentKey.empty(),t)}function __PRIVATE_newIndexOffsetFromDocument(a){return new IndexOffset(a.readTime,a.key,N)}class IndexOffset{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),N)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),N)}}function __PRIVATE_indexOffsetComparator(a,t){let r=a.readTime.compareTo(t.readTime);return r!==0?r:(r=DocumentKey.comparator(a.documentKey,t.documentKey),r!==0?r:__PRIVATE_primitiveComparator(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(a){if(a.code!==C.FAILED_PRECONDITION||a.message!==B)throw a;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new PersistencePromise((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(s,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof PersistencePromise?r:PersistencePromise.resolve(r)}catch(r){return PersistencePromise.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):PersistencePromise.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):PersistencePromise.reject(r)}static resolve(t){return new PersistencePromise((r,s)=>{r(t)})}static reject(t){return new PersistencePromise((r,s)=>{s(t)})}static waitFor(t){return new PersistencePromise((r,s)=>{let l=0,c=0,f=!1;t.forEach(_=>{++l,_.next(()=>{++c,f&&c===l&&r()},p=>s(p))}),f=!0,c===l&&r()})}static or(t){let r=PersistencePromise.resolve(!1);for(const s of t)r=r.next(l=>l?PersistencePromise.resolve(l):s());return r}static forEach(t,r){const s=[];return t.forEach((l,c)=>{s.push(r.call(this,l,c))}),this.waitFor(s)}static mapArray(t,r){return new PersistencePromise((s,l)=>{const c=t.length,f=new Array(c);let _=0;for(let p=0;p<c;p++){const g=p;r(t[g]).next(T=>{f[g]=T,++_,_===c&&s(f)},T=>l(T))}})}static doWhile(t,r){return new PersistencePromise((s,l)=>{const c=()=>{t()===!0?r().next(()=>{c()},l):s()};c()})}}function __PRIVATE_getAndroidVersion(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function __PRIVATE_isIndexedDbTransactionError(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.oe(s),this._e=s=>r.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}__PRIVATE_ListenSequence.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=-1;function __PRIVATE_isNullOrUndefined(a){return a==null}function __PRIVATE_isNegativeZero(a){return a===0&&1/a==-1/0}function isSafeInteger(a){return typeof a=="number"&&Number.isInteger(a)&&!__PRIVATE_isNegativeZero(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $="";function __PRIVATE_encodeResourcePath(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=__PRIVATE_encodeSeparator(t)),t=__PRIVATE_encodeSegment(a.get(r),t);return __PRIVATE_encodeSeparator(t)}function __PRIVATE_encodeSegment(a,t){let r=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":r+="";break;case $:r+="";break;default:r+=c}}return r}function __PRIVATE_encodeSeparator(a){return a+$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function forEach(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function isEmpty(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(t,r){this.comparator=t,this.root=r||LLRBNode.EMPTY}insert(t,r){return new SortedMap(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(t){return new SortedMap(this.comparator,this.root.remove(t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!0)}}class SortedMapIterator{constructor(t,r,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?s(t.key,r):1,r&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class LLRBNode{constructor(t,r,s,l,c){this.key=t,this.value=r,this.color=s??LLRBNode.RED,this.left=l??LLRBNode.EMPTY,this.right=c??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,l,c){return new LLRBNode(t??this.key,r??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,r,s),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return LLRBNode.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const t=this.left.check();if(t!==this.right.check())throw fail();return t+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(t,r,s,l,c){return this}insert(t,r,s){return new LLRBNode(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(t){this.comparator=t,this.data=new SortedMap(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(t){return new SortedSetIterator(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof SortedSet)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new SortedSet(this.comparator);return r.data=t,r}}class SortedSetIterator{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(t){this.fields=t,t.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(t){let r=new SortedSet(FieldPath$1.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new FieldMask(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return __PRIVATE_arrayEquals(this.fields,t.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+c):c}}(t);return new ByteString(r)}static fromUint8Array(t){const r=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new ByteString(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return __PRIVATE_primitiveComparator(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const Ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(a){if(__PRIVATE_hardAssert(!!a),typeof a=="string"){let t=0;const r=Ze.exec(a);if(__PRIVATE_hardAssert(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:__PRIVATE_normalizeNumber(a.seconds),nanos:__PRIVATE_normalizeNumber(a.nanos)}}function __PRIVATE_normalizeNumber(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function __PRIVATE_normalizeByteString(a){return typeof a=="string"?ByteString.fromBase64String(a):ByteString.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="server_timestamp",et="__type__",tt="__previous_value__",nt="__local_write_time__";function __PRIVATE_isServerTimestamp(a){var t,r;return((r=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[et])===null||r===void 0?void 0:r.stringValue)===Xe}function __PRIVATE_getPreviousValue(a){const t=a.mapValue.fields[tt];return __PRIVATE_isServerTimestamp(t)?__PRIVATE_getPreviousValue(t):t}function __PRIVATE_getLocalWriteTime(a){const t=__PRIVATE_normalizeTimestamp(a.mapValue.fields[nt].timestampValue);return new Timestamp(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(t,r,s,l,c,f,_,p,g){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.longPollingOptions=p,this.useFetchStreams=g}}const rt="(default)";class DatabaseId{constructor(t,r){this.projectId=t,this.database=r||rt}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===rt}isEqual(t){return t instanceof DatabaseId&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="__type__",st="__max__",ot={mapValue:{}},_t="__vector__",at="value";function __PRIVATE_typeOrder(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?__PRIVATE_isServerTimestamp(a)?4:__PRIVATE_isMaxValue(a)?9007199254740991:__PRIVATE_isVectorValue(a)?10:11:fail()}function __PRIVATE_valueEquals(a,t){if(a===t)return!0;const r=__PRIVATE_typeOrder(a);if(r!==__PRIVATE_typeOrder(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(a).isEqual(__PRIVATE_getLocalWriteTime(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=__PRIVATE_normalizeTimestamp(l.timestampValue),_=__PRIVATE_normalizeTimestamp(c.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,c){return __PRIVATE_normalizeByteString(l.bytesValue).isEqual(__PRIVATE_normalizeByteString(c.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,c){return __PRIVATE_normalizeNumber(l.geoPointValue.latitude)===__PRIVATE_normalizeNumber(c.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(l.geoPointValue.longitude)===__PRIVATE_normalizeNumber(c.geoPointValue.longitude)}(a,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return __PRIVATE_normalizeNumber(l.integerValue)===__PRIVATE_normalizeNumber(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=__PRIVATE_normalizeNumber(l.doubleValue),_=__PRIVATE_normalizeNumber(c.doubleValue);return f===_?__PRIVATE_isNegativeZero(f)===__PRIVATE_isNegativeZero(_):isNaN(f)&&isNaN(_)}return!1}(a,t);case 9:return __PRIVATE_arrayEquals(a.arrayValue.values||[],t.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},_=c.mapValue.fields||{};if(__PRIVATE_objectSize(f)!==__PRIVATE_objectSize(_))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(_[p]===void 0||!__PRIVATE_valueEquals(f[p],_[p])))return!1;return!0}(a,t);default:return fail()}}function __PRIVATE_arrayValueContains(a,t){return(a.values||[]).find(r=>__PRIVATE_valueEquals(r,t))!==void 0}function __PRIVATE_valueCompare(a,t){if(a===t)return 0;const r=__PRIVATE_typeOrder(a),s=__PRIVATE_typeOrder(t);if(r!==s)return __PRIVATE_primitiveComparator(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(a.booleanValue,t.booleanValue);case 2:return function(c,f){const _=__PRIVATE_normalizeNumber(c.integerValue||c.doubleValue),p=__PRIVATE_normalizeNumber(f.integerValue||f.doubleValue);return _<p?-1:_>p?1:_===p?0:isNaN(_)?isNaN(p)?0:-1:1}(a,t);case 3:return __PRIVATE_compareTimestamps(a.timestampValue,t.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(a),__PRIVATE_getLocalWriteTime(t));case 5:return __PRIVATE_compareUtf8Strings(a.stringValue,t.stringValue);case 6:return function(c,f){const _=__PRIVATE_normalizeByteString(c),p=__PRIVATE_normalizeByteString(f);return _.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(c,f){const _=c.split("/"),p=f.split("/");for(let g=0;g<_.length&&g<p.length;g++){const T=__PRIVATE_primitiveComparator(_[g],p[g]);if(T!==0)return T}return __PRIVATE_primitiveComparator(_.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(c,f){const _=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(c.latitude),__PRIVATE_normalizeNumber(f.latitude));return _!==0?_:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(c.longitude),__PRIVATE_normalizeNumber(f.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return __PRIVATE_compareArrays(a.arrayValue,t.arrayValue);case 10:return function(c,f){var _,p,g,T;const R=c.fields||{},V=f.fields||{},k=(_=R[at])===null||_===void 0?void 0:_.arrayValue,q=(p=V[at])===null||p===void 0?void 0:p.arrayValue,J=__PRIVATE_primitiveComparator(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((T=q==null?void 0:q.values)===null||T===void 0?void 0:T.length)||0);return J!==0?J:__PRIVATE_compareArrays(k,q)}(a.mapValue,t.mapValue);case 11:return function(c,f){if(c===ot.mapValue&&f===ot.mapValue)return 0;if(c===ot.mapValue)return 1;if(f===ot.mapValue)return-1;const _=c.fields||{},p=Object.keys(_),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const V=__PRIVATE_compareUtf8Strings(p[R],T[R]);if(V!==0)return V;const k=__PRIVATE_valueCompare(_[p[R]],g[T[R]]);if(k!==0)return k}return __PRIVATE_primitiveComparator(p.length,T.length)}(a.mapValue,t.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return __PRIVATE_primitiveComparator(a,t);const r=__PRIVATE_normalizeTimestamp(a),s=__PRIVATE_normalizeTimestamp(t),l=__PRIVATE_primitiveComparator(r.seconds,s.seconds);return l!==0?l:__PRIVATE_primitiveComparator(r.nanos,s.nanos)}function __PRIVATE_compareArrays(a,t){const r=a.values||[],s=t.values||[];for(let l=0;l<r.length&&l<s.length;++l){const c=__PRIVATE_valueCompare(r[l],s[l]);if(c)return c}return __PRIVATE_primitiveComparator(r.length,s.length)}function canonicalId(a){return __PRIVATE_canonifyValue(a)}function __PRIVATE_canonifyValue(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=__PRIVATE_normalizeTimestamp(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(r){return __PRIVATE_normalizeByteString(r).toBase64()}(a.bytesValue):"referenceValue"in a?function(r){return DocumentKey.fromName(r).toString()}(a.referenceValue):"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",l=!0;for(const c of r.values||[])l?l=!1:s+=",",s+=__PRIVATE_canonifyValue(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${__PRIVATE_canonifyValue(r.fields[f])}`;return l+"}"}(a.mapValue):fail()}function __PRIVATE_estimateByteSize(a){switch(__PRIVATE_typeOrder(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=__PRIVATE_getPreviousValue(a);return t?16+__PRIVATE_estimateByteSize(t):16;case 5:return 2*a.stringValue.length;case 6:return __PRIVATE_normalizeByteString(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+__PRIVATE_estimateByteSize(c),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return forEach(s.fields,(c,f)=>{l+=c.length+__PRIVATE_estimateByteSize(f)}),l}(a.mapValue);default:throw fail()}}function __PRIVATE_refValue(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function isInteger(a){return!!a&&"integerValue"in a}function isArray(a){return!!a&&"arrayValue"in a}function __PRIVATE_isNullValue(a){return!!a&&"nullValue"in a}function __PRIVATE_isNanValue(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function __PRIVATE_isMapValue(a){return!!a&&"mapValue"in a}function __PRIVATE_isVectorValue(a){var t,r;return((r=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[it])===null||r===void 0?void 0:r.stringValue)===_t}function __PRIVATE_deepClone(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return forEach(a.mapValue.fields,(r,s)=>t.mapValue.fields[r]=__PRIVATE_deepClone(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=__PRIVATE_deepClone(a.arrayValue.values[r]);return t}return Object.assign({},a)}function __PRIVATE_isMaxValue(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===st}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(t){this.value=t}static empty(){return new ObjectValue({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!__PRIVATE_isMapValue(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=__PRIVATE_deepClone(r)}setAll(t){let r=FieldPath$1.emptyPath(),s={},l=[];t.forEach((f,_)=>{if(!r.isImmediateParentOf(_)){const p=this.getFieldsMap(r);this.applyChanges(p,s,l),s={},l=[],r=_.popLast()}f?s[_.lastSegment()]=__PRIVATE_deepClone(f):l.push(_.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,s,l)}delete(t){const r=this.field(t.popLast());__PRIVATE_isMapValue(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return __PRIVATE_valueEquals(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=r.mapValue.fields[t.get(s)];__PRIVATE_isMapValue(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,s){forEach(r,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(a){const t=[];return forEach(a.fields,(r,s)=>{const l=new FieldPath$1([r]);if(__PRIVATE_isMapValue(s)){const c=__PRIVATE_extractFieldMask(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new FieldMask(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(t,r,s,l,c,f,_){this.key=t,this.documentType=r,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=_}static newInvalidDocument(t){return new MutableDocument(t,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(t,r,s,l){return new MutableDocument(t,1,r,SnapshotVersion.min(),s,l,0)}static newNoDocument(t,r){return new MutableDocument(t,2,r,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(t,r){return new MutableDocument(t,3,r,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof MutableDocument&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(t,r){this.position=t,this.inclusive=r}}function __PRIVATE_boundCompareToDocument(a,t,r){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],f=a.position[l];if(c.field.isKeyField()?s=DocumentKey.comparator(DocumentKey.fromName(f.referenceValue),r.key):s=__PRIVATE_valueCompare(f,r.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function __PRIVATE_boundEquals(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!__PRIVATE_valueEquals(a.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(t,r="asc"){this.field=t,this.dir=r}}function __PRIVATE_orderByEquals(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new __PRIVATE_KeyFieldFilter(t,r,s):r==="array-contains"?new __PRIVATE_ArrayContainsFilter(t,s):r==="in"?new __PRIVATE_InFilter(t,s):r==="not-in"?new __PRIVATE_NotInFilter(t,s):r==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(t,s):new FieldFilter(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new __PRIVATE_KeyFieldInFilter(t,s):new __PRIVATE_KeyFieldNotInFilter(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(__PRIVATE_valueCompare(r,this.value)):r!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(r)&&this.matchesComparison(__PRIVATE_valueCompare(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new CompositeFilter(t,r)}matches(t){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(a){return a.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(a){return __PRIVATE_compositeFilterIsFlat(a)&&__PRIVATE_compositeFilterIsConjunction(a)}function __PRIVATE_compositeFilterIsFlat(a){for(const t of a.filters)if(t instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(a){if(a instanceof FieldFilter)return a.field.canonicalString()+a.op.toString()+canonicalId(a.value);if(__PRIVATE_compositeFilterIsFlatConjunction(a))return a.filters.map(t=>__PRIVATE_canonifyFilter(t)).join(",");{const t=a.filters.map(r=>__PRIVATE_canonifyFilter(r)).join(",");return`${a.op}(${t})`}}function __PRIVATE_filterEquals(a,t){return a instanceof FieldFilter?function(s,l){return l instanceof FieldFilter&&s.op===l.op&&s.field.isEqual(l.field)&&__PRIVATE_valueEquals(s.value,l.value)}(a,t):a instanceof CompositeFilter?function(s,l){return l instanceof CompositeFilter&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,_)=>c&&__PRIVATE_filterEquals(f,l.filters[_]),!0):!1}(a,t):void fail()}function __PRIVATE_stringifyFilter(a){return a instanceof FieldFilter?function(r){return`${r.field.canonicalString()} ${r.op} ${canonicalId(r.value)}`}(a):a instanceof CompositeFilter?function(r){return r.op.toString()+" {"+r.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(a):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(t,r,s){super(t,r,s),this.key=DocumentKey.fromName(s.referenceValue)}matches(t){const r=DocumentKey.comparator(t.key,this.key);return this.matchesComparison(r)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(t,r){super(t,"in",r),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(t,r){super(t,"not-in",r),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(a,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>DocumentKey.fromName(s.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return isArray(r)&&__PRIVATE_arrayValueContains(r.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,r)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(t,r){super(t,"not-in",r)}matches(t){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,r)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!isArray(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>__PRIVATE_arrayValueContains(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(t,r=null,s=[],l=[],c=null,f=null,_=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=_,this.le=null}}function __PRIVATE_newTarget(a,t=null,r=[],s=[],l=null,c=null,f=null){return new __PRIVATE_TargetImpl(a,t,r,s,l,c,f)}function __PRIVATE_canonifyTarget(a){const t=__PRIVATE_debugCast(a);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>__PRIVATE_canonifyFilter(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),__PRIVATE_isNullOrUndefined(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>canonicalId(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>canonicalId(s)).join(",")),t.le=r}return t.le}function __PRIVATE_targetEquals(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!__PRIVATE_orderByEquals(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!__PRIVATE_filterEquals(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!__PRIVATE_boundEquals(a.startAt,t.startAt)&&__PRIVATE_boundEquals(a.endAt,t.endAt)}function __PRIVATE_targetIsDocumentTarget(a){return DocumentKey.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(t,r=null,s=[],l=[],c=null,f="F",_=null,p=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=_,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(a,t,r,s,l,c,f,_){return new __PRIVATE_QueryImpl(a,t,r,s,l,c,f,_)}function __PRIVATE_newQueryForPath(a){return new __PRIVATE_QueryImpl(a)}function __PRIVATE_queryMatchesAllDocuments(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(a){return a.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(a){const t=__PRIVATE_debugCast(a);if(t.he===null){t.he=[];const r=new Set;for(const c of t.explicitOrderBy)t.he.push(c),r.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let _=new SortedSet(FieldPath$1.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(_=_.add(g.field))})}),_})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.he.push(new OrderBy(c,s))}),r.has(FieldPath$1.keyField().canonicalString())||t.he.push(new OrderBy(FieldPath$1.keyField(),s))}return t.he}function __PRIVATE_queryToTarget(a){const t=__PRIVATE_debugCast(a);return t.Pe||(t.Pe=__PRIVATE__queryToTarget(t,__PRIVATE_queryNormalizedOrderBy(a))),t.Pe}function __PRIVATE__queryToTarget(a,t){if(a.limitType==="F")return __PRIVATE_newTarget(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new OrderBy(l.field,c)});const r=a.endAt?new Bound(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Bound(a.startAt.position,a.startAt.inclusive):null;return __PRIVATE_newTarget(a.path,a.collectionGroup,t,a.filters,a.limit,r,s)}}function __PRIVATE_queryWithAddedFilter(a,t){const r=a.filters.concat([t]);return new __PRIVATE_QueryImpl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function __PRIVATE_queryWithLimit(a,t,r){return new __PRIVATE_QueryImpl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function __PRIVATE_queryEquals(a,t){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(a),__PRIVATE_queryToTarget(t))&&a.limitType===t.limitType}function __PRIVATE_canonifyQuery(a){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(a))}|lt:${a.limitType}`}function __PRIVATE_stringifyQuery(a){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>__PRIVATE_stringifyFilter(l)).join(", ")}]`),__PRIVATE_isNullOrUndefined(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>canonicalId(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>canonicalId(l)).join(",")),`Target(${s})`}(__PRIVATE_queryToTarget(a))}; limitType=${a.limitType})`}function __PRIVATE_queryMatches(a,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):DocumentKey.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,t)&&function(s,l){for(const c of __PRIVATE_queryNormalizedOrderBy(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(f,_,p){const g=__PRIVATE_boundCompareToDocument(f,_,p);return f.inclusive?g<=0:g<0}(s.startAt,__PRIVATE_queryNormalizedOrderBy(s),l)||s.endAt&&!function(f,_,p){const g=__PRIVATE_boundCompareToDocument(f,_,p);return f.inclusive?g>=0:g>0}(s.endAt,__PRIVATE_queryNormalizedOrderBy(s),l))}(a,t)}function __PRIVATE_queryCollectionGroup(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function __PRIVATE_newQueryComparator(a){return(t,r)=>{let s=!1;for(const l of __PRIVATE_queryNormalizedOrderBy(a)){const c=__PRIVATE_compareDocs(l,t,r);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(a,t,r){const s=a.field.isKeyField()?DocumentKey.comparator(t.key,r.key):function(c,f,_){const p=f.data.field(c),g=_.data.field(c);return p!==null&&g!==null?__PRIVATE_valueCompare(p,g):fail()}(a.field,t,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){forEach(this.inner,(r,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return lt}const ht=new SortedMap(DocumentKey.comparator);function documentMap(...a){let t=ht;for(const r of a)t=t.insert(r.key,r);return t}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(a){let t=ht;return a.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(a=>a.toString(),(a,t)=>a.isEqual(t))}const Pt=new SortedMap(DocumentKey.comparator),Tt=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...a){let t=Tt;for(const r of a)t=t.add(r);return t}const It=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return It}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(t)?"-0":t}}function __PRIVATE_toInteger(a){return{integerValue:""+a}}function toNumber(a,t){return isSafeInteger(t)?__PRIVATE_toInteger(t):__PRIVATE_toDouble(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(a,t,r){return a instanceof __PRIVATE_ServerTimestampTransform?function(l,c){const f={fields:{[et]:{stringValue:Xe},[nt]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&__PRIVATE_isServerTimestamp(c)&&(c=__PRIVATE_getPreviousValue(c)),c&&(f.fields[tt]=c),{mapValue:f}}(r,t):a instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(a,t):a instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(a,t):function(l,c){const f=__PRIVATE_computeTransformOperationBaseValue(l,c),_=asNumber(f)+asNumber(l.Ie);return isInteger(f)&&isInteger(l.Ie)?__PRIVATE_toInteger(_):__PRIVATE_toDouble(l.serializer,_)}(a,t)}function __PRIVATE_applyTransformOperationToRemoteDocument(a,t,r){return a instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(a,t):a instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(a,t):r}function __PRIVATE_computeTransformOperationBaseValue(a,t){return a instanceof __PRIVATE_NumericIncrementTransformOperation?function(s){return isInteger(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function __PRIVATE_applyArrayUnionTransformOperation(a,t){const r=__PRIVATE_coercedFieldValuesArray(t);for(const s of a.elements)r.some(l=>__PRIVATE_valueEquals(l,s))||r.push(s);return{arrayValue:{values:r}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function __PRIVATE_applyArrayRemoveTransformOperation(a,t){let r=__PRIVATE_coercedFieldValuesArray(t);for(const s of a.elements)r=r.filter(l=>!__PRIVATE_valueEquals(l,s));return{arrayValue:{values:r}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function asNumber(a){return __PRIVATE_normalizeNumber(a.integerValue||a.doubleValue)}function __PRIVATE_coercedFieldValuesArray(a){return isArray(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof __PRIVATE_ArrayUnionTransformOperation&&l instanceof __PRIVATE_ArrayUnionTransformOperation||s instanceof __PRIVATE_ArrayRemoveTransformOperation&&l instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(s.elements,l.elements,__PRIVATE_valueEquals):s instanceof __PRIVATE_NumericIncrementTransformOperation&&l instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(s.Ie,l.Ie):s instanceof __PRIVATE_ServerTimestampTransform&&l instanceof __PRIVATE_ServerTimestampTransform}(a.transform,t.transform)}class MutationResult{constructor(t,r){this.version=t,this.transformResults=r}}class Precondition{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Precondition}static exists(t){return new Precondition(void 0,t)}static updateTime(t){return new Precondition(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new __PRIVATE_DeleteMutation(a.key,Precondition.none()):new __PRIVATE_SetMutation(a.key,a.data,Precondition.none());{const r=a.data,s=ObjectValue.empty();let l=new SortedSet(FieldPath$1.comparator);for(let c of t.fields)if(!l.has(c)){let f=r.field(c);f===null&&c.length>1&&(c=c.popLast(),f=r.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new __PRIVATE_PatchMutation(a.key,s,new FieldMask(l.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(a,t,r){a instanceof __PRIVATE_SetMutation?function(l,c,f){const _=l.value.clone(),p=__PRIVATE_serverTransformResults(l.fieldTransforms,c,f.transformResults);_.setAll(p),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(a,t,r):a instanceof __PRIVATE_PatchMutation?function(l,c,f){if(!__PRIVATE_preconditionIsValidForDocument(l.precondition,c))return void c.convertToUnknownDocument(f.version);const _=__PRIVATE_serverTransformResults(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(__PRIVATE_getPatch(l)),p.setAll(_),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(a,t,r):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,r)}function __PRIVATE_mutationApplyToLocalView(a,t,r,s){return a instanceof __PRIVATE_SetMutation?function(c,f,_,p){if(!__PRIVATE_preconditionIsValidForDocument(c.precondition,f))return _;const g=c.value.clone(),T=__PRIVATE_localTransformResults(c.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(a,t,r,s):a instanceof __PRIVATE_PatchMutation?function(c,f,_,p){if(!__PRIVATE_preconditionIsValidForDocument(c.precondition,f))return _;const g=__PRIVATE_localTransformResults(c.fieldTransforms,p,f),T=f.data;return T.setAll(__PRIVATE_getPatch(c)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(a,t,r,s):function(c,f,_){return __PRIVATE_preconditionIsValidForDocument(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):_}(a,t,r)}function __PRIVATE_mutationExtractBaseValue(a,t){let r=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=__PRIVATE_computeTransformOperationBaseValue(s.transform,l||null);c!=null&&(r===null&&(r=ObjectValue.empty()),r.set(s.field,c))}return r||null}function __PRIVATE_mutationEquals(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&__PRIVATE_arrayEquals(s,l,(c,f)=>__PRIVATE_fieldTransformEquals(c,f))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(t,r,s,l=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(t,r,s,l,c=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(a){const t=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);t.set(r,s)}}),t}function __PRIVATE_serverTransformResults(a,t,r){const s=new Map;__PRIVATE_hardAssert(a.length===r.length);for(let l=0;l<r.length;l++){const c=a[l],f=c.transform,_=t.data.field(c.field);s.set(c.field,__PRIVATE_applyTransformOperationToRemoteDocument(f,_,r[l]))}return s}function __PRIVATE_localTransformResults(a,t,r){const s=new Map;for(const l of a){const c=l.transform,f=r.data.field(l.field);s.set(l.field,__PRIVATE_applyTransformOperationToLocalView(c,f,t))}return s}class __PRIVATE_DeleteMutation extends Mutation{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(t,r,s,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&__PRIVATE_mutationApplyToRemoteDocument(c,t,s[l])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=__PRIVATE_mutationApplyToLocalView(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=__PRIVATE_mutationApplyToLocalView(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=__PRIVATE_newMutationMap();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let _=this.applyToLocalView(f,c.mutatedFields);_=r.has(l.key)?null:_;const p=__PRIVATE_calculateOverlayMutation(f,_);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(SnapshotVersion.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),__PRIVATE_documentKeySet())}isEqual(t){return this.batchId===t.batchId&&__PRIVATE_arrayEquals(this.mutations,t.mutations,(r,s)=>__PRIVATE_mutationEquals(r,s))&&__PRIVATE_arrayEquals(this.baseMutations,t.baseMutations,(r,s)=>__PRIVATE_mutationEquals(r,s))}}class MutationBatchResult{constructor(t,r,s,l){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(t,r,s){__PRIVATE_hardAssert(t.mutations.length===s.length);let l=function(){return Pt}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new MutationBatchResult(t,r,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,dt;function __PRIVATE_isPermanentError(a){switch(a){case C.OK:return fail();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return fail()}}function __PRIVATE_mapCodeFromRpcCode(a){if(a===void 0)return __PRIVATE_logError("GRPC error has no .code"),C.UNKNOWN;switch(a){case Et.OK:return C.OK;case Et.CANCELLED:return C.CANCELLED;case Et.UNKNOWN:return C.UNKNOWN;case Et.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Et.INTERNAL:return C.INTERNAL;case Et.UNAVAILABLE:return C.UNAVAILABLE;case Et.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Et.NOT_FOUND:return C.NOT_FOUND;case Et.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Et.ABORTED:return C.ABORTED;case Et.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Et.DATA_LOSS:return C.DATA_LOSS;default:return fail()}}(dt=Et||(Et={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(a){const t=__PRIVATE_newTextEncoder().encode(a),r=new Md5;return r.update(t),new Uint8Array(r.digest())}function __PRIVATE_get64BitUints(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Integer([r,s],0),new Integer([l,c],0)]}class BloomFilter{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${r}`);if(s<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=Integer.fromNumber(this.Ee)}Ae(t,r,s){let l=t.add(r.multiply(Integer.fromNumber(s)));return l.compare(Rt)===1&&(l=new Integer([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=__PRIVATE_getMd5HashValue(t),[s,l]=__PRIVATE_get64BitUints(r);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);if(!this.Re(f))return!1}return!0}static create(t,r,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new BloomFilter(c,l,r);return s.forEach(_=>f.insert(_)),f}insert(t){if(this.Ee===0)return;const r=__PRIVATE_getMd5HashValue(t),[s,l]=__PRIVATE_get64BitUints(r);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);this.Ve(f)}}Ve(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(t,r,s,l,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const l=new Map;return l.set(t,TargetChange.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new RemoteEvent(SnapshotVersion.min(),l,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(t,r,s,l,c){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new TargetChange(s,r,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(t,r,s,l){this.me=t,this.removedTargetIds=r,this.key=s,this.fe=l}}class __PRIVATE_ExistenceFilterChange{constructor(t,r){this.targetId=t,this.ge=r}}class __PRIVATE_WatchTargetChange{constructor(t,r,s=ByteString.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=l}}class __PRIVATE_TargetState{constructor(){this.pe=0,this.ye=__PRIVATE_snapshotChangesMap(),this.we=ByteString.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=__PRIVATE_documentKeySet(),r=__PRIVATE_documentKeySet(),s=__PRIVATE_documentKeySet();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:fail()}}),new TargetChange(this.we,this.Se,t,r,s)}Me(){this.be=!1,this.ye=__PRIVATE_snapshotChangesMap()}xe(t,r){this.be=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,__PRIVATE_hardAssert(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class __PRIVATE_WatchChangeAggregator{constructor(t){this.ke=t,this.qe=new Map,this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ue=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const s=this.He(r);switch(t.state){case 0:this.Je(r)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(r);break;case 3:this.Je(r)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),s.Ce(t.resumeToken));break;default:fail()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((s,l)=>{this.Je(l)&&r(l)})}Ze(t){const r=t.targetId,s=t.ge.count,l=this.Xe(r);if(l){const c=l.target;if(__PRIVATE_targetIsDocumentTarget(c))if(s===0){const f=new DocumentKey(c.path);this.ze(r,f,MutableDocument.newNoDocument(f,SnapshotVersion.min()))}else __PRIVATE_hardAssert(s===1);else{const f=this.et(r);if(f!==s){const _=this.tt(t),p=_?this.nt(_,t,f):1;if(p!==0){this.Ye(r);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,g)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=r;let f,_;try{f=__PRIVATE_normalizeByteString(s).toUint8Array()}catch(p){if(p instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{_=new BloomFilter(f,l,c)}catch(p){return __PRIVATE_logWarn(p instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return _.Ee===0?null:_}nt(t,r,s){return r.ge.count===s-this.st(t,r.targetId)?0:2}st(t,r){const s=this.ke.getRemoteKeysForTarget(r);let l=0;return s.forEach(c=>{const f=this.ke.it(),_=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(_)||(this.ze(r,c,null),l++)}),l}ot(t){const r=new Map;this.qe.forEach((c,f)=>{const _=this.Xe(f);if(_){if(c.current&&__PRIVATE_targetIsDocumentTarget(_.target)){const p=new DocumentKey(_.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,MutableDocument.newNoDocument(p,t))}c.ve&&(r.set(f,c.Fe()),c.Me())}});let s=__PRIVATE_documentKeySet();this.Ue.forEach((c,f)=>{let _=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)}),_&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const l=new RemoteEvent(t,r,this.Ke,this.Qe,s);return this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ue=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator),l}Ge(t,r){if(!this.Je(t))return;const s=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,s),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(t))}ze(t,r,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,r)?l.xe(r,1):l.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(t)),this.Ue=this.Ue.insert(r,this.ct(r).add(t)),s&&(this.Qe=this.Qe.insert(r,s))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new __PRIVATE_TargetState,this.qe.set(t,r)),r}ct(t){let r=this.Ue.get(t);return r||(r=new SortedSet(__PRIVATE_primitiveComparator),this.Ue=this.Ue.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new SortedSet(__PRIVATE_primitiveComparator),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new __PRIVATE_TargetState),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Vt={asc:"ASCENDING",desc:"DESCENDING"},mt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ft={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function __PRIVATE_toInt32Proto(a,t){return a.useProto3Json||__PRIVATE_isNullOrUndefined(t)?t:{value:t}}function toTimestamp(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function __PRIVATE_toBytes(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function __PRIVATE_toVersion(a,t){return toTimestamp(a,t.toTimestamp())}function __PRIVATE_fromVersion(a){return __PRIVATE_hardAssert(!!a),SnapshotVersion.fromTimestamp(function(r){const s=__PRIVATE_normalizeTimestamp(r);return new Timestamp(s.seconds,s.nanos)}(a))}function __PRIVATE_toResourceName(a,t){return __PRIVATE_toResourcePath(a,t).canonicalString()}function __PRIVATE_toResourcePath(a,t){const r=function(l){return new ResourcePath(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?r:r.child(t)}function __PRIVATE_fromResourceName(a){const t=ResourcePath.fromString(a);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(t)),t}function __PRIVATE_toName(a,t){return __PRIVATE_toResourceName(a.databaseId,t.path)}function fromName(a,t){const r=__PRIVATE_fromResourceName(t);if(r.get(1)!==a.databaseId.projectId)throw new FirestoreError(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new FirestoreError(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(r))}function __PRIVATE_toQueryPath(a,t){return __PRIVATE_toResourceName(a.databaseId,t)}function __PRIVATE_fromQueryPath(a){const t=__PRIVATE_fromResourceName(a);return t.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(t)}function __PRIVATE_getEncodedDatabaseId(a){return new ResourcePath(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(a){return __PRIVATE_hardAssert(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function __PRIVATE_toMutationDocument(a,t,r){return{name:__PRIVATE_toName(a,t),fields:r.value.mapValue.fields}}function __PRIVATE_fromWatchChange(a,t){let r;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:fail()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(g,T){return g.useProto3Json?(__PRIVATE_hardAssert(T===void 0||typeof T=="string"),ByteString.fromBase64String(T||"")):(__PRIVATE_hardAssert(T===void 0||T instanceof Buffer||T instanceof Uint8Array),ByteString.fromUint8Array(T||new Uint8Array))}(a,t.targetChange.resumeToken),f=t.targetChange.cause,_=f&&function(g){const T=g.code===void 0?C.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(g.code);return new FirestoreError(T,g.message||"")}(f);r=new __PRIVATE_WatchTargetChange(s,l,c,_||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=fromName(a,s.document.name),c=__PRIVATE_fromVersion(s.document.updateTime),f=s.document.createTime?__PRIVATE_fromVersion(s.document.createTime):SnapshotVersion.min(),_=new ObjectValue({mapValue:{fields:s.document.fields}}),p=MutableDocument.newFoundDocument(l,c,f,_),g=s.targetIds||[],T=s.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=fromName(a,s.document),c=s.readTime?__PRIVATE_fromVersion(s.readTime):SnapshotVersion.min(),f=MutableDocument.newNoDocument(l,c),_=s.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange([],_,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=fromName(a,s.document),c=s.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange([],c,l,null)}else{if(!("filter"in t))return fail();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new ExistenceFilter(l,c),_=s.targetId;r=new __PRIVATE_ExistenceFilterChange(_,f)}}return r}function toMutation(a,t){let r;if(t instanceof __PRIVATE_SetMutation)r={update:__PRIVATE_toMutationDocument(a,t.key,t.value)};else if(t instanceof __PRIVATE_DeleteMutation)r={delete:__PRIVATE_toName(a,t.key)};else if(t instanceof __PRIVATE_PatchMutation)r={update:__PRIVATE_toMutationDocument(a,t.key,t.data),updateMask:__PRIVATE_toDocumentMask(t.fieldMask)};else{if(!(t instanceof __PRIVATE_VerifyMutation))return fail();r={verify:__PRIVATE_toName(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const _=f.transform;if(_ instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:f.field.canonicalString(),increment:_.Ie};throw fail()}(0,s))),t.precondition.isNone||(r.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:fail()}(a,t.precondition)),r}function __PRIVATE_fromWriteResults(a,t){return a&&a.length>0?(__PRIVATE_hardAssert(t!==void 0),a.map(r=>function(l,c){let f=l.updateTime?__PRIVATE_fromVersion(l.updateTime):__PRIVATE_fromVersion(c);return f.isEqual(SnapshotVersion.min())&&(f=__PRIVATE_fromVersion(c)),new MutationResult(f,l.transformResults||[])}(r,t))):[]}function __PRIVATE_toDocumentsTarget(a,t){return{documents:[__PRIVATE_toQueryPath(a,t.path)]}}function __PRIVATE_toQueryTarget(a,t){const r={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=__PRIVATE_toQueryPath(a,l);const c=function(g){if(g.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(g,"and"))}(t.filters);c&&(r.structuredQuery.where=c);const f=function(g){if(g.length!==0)return g.map(T=>function(V){return{field:__PRIVATE_toFieldPathReference(V.field),direction:__PRIVATE_toDirection(V.dir)}}(T))}(t.orderBy);f&&(r.structuredQuery.orderBy=f);const _=__PRIVATE_toInt32Proto(a,t.limit);return _!==null&&(r.structuredQuery.limit=_),t.startAt&&(r.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:r,parent:l}}function __PRIVATE_convertQueryTargetToQuery(a){let t=__PRIVATE_fromQueryPath(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){__PRIVATE_hardAssert(s===1);const T=r.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];r.where&&(c=function(R){const V=__PRIVATE_fromFilter(R);return V instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(V)?V.getFilters():[V]}(r.where));let f=[];r.orderBy&&(f=function(R){return R.map(V=>function(q){return new OrderBy(__PRIVATE_fromFieldPathReference(q.field),function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(V))}(r.orderBy));let _=null;r.limit&&(_=function(R){let V;return V=typeof R=="object"?R.value:R,__PRIVATE_isNullOrUndefined(V)?null:V}(r.limit));let p=null;r.startAt&&(p=function(R){const V=!!R.before,k=R.values||[];return new Bound(k,V)}(r.startAt));let g=null;return r.endAt&&(g=function(R){const V=!R.before,k=R.values||[];return new Bound(k,V)}(r.endAt)),__PRIVATE_newQuery(t,l,f,c,_,"F",p,g)}function __PRIVATE_toListenRequestLabels(a,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function __PRIVATE_fromFilter(a){return a.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(f,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(a):a.fieldFilter!==void 0?function(r){return FieldFilter.create(__PRIVATE_fromFieldPathReference(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(r.fieldFilter.op),r.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(r){return CompositeFilter.create(r.compositeFilter.filters.map(s=>__PRIVATE_fromFilter(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return fail()}}(r.compositeFilter.op))}(a):fail()}function __PRIVATE_toDirection(a){return Vt[a]}function __PRIVATE_toOperatorName(a){return mt[a]}function __PRIVATE_toCompositeOperatorName(a){return ft[a]}function __PRIVATE_toFieldPathReference(a){return{fieldPath:a.canonicalString()}}function __PRIVATE_fromFieldPathReference(a){return FieldPath$1.fromServerFormat(a.fieldPath)}function __PRIVATE_toFilter(a){return a instanceof FieldFilter?function(r){if(r.op==="=="){if(__PRIVATE_isNanValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(__PRIVATE_isNanValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:__PRIVATE_toOperatorName(r.op),value:r.value}}}(a):a instanceof CompositeFilter?function(r){const s=r.getFilters().map(l=>__PRIVATE_toFilter(l));return s.length===1?s[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(r.op),filters:s}}}(a):fail()}function __PRIVATE_toDocumentMask(a){const t=[];return a.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function __PRIVATE_isValidResourceName(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(t,r,s,l,c=SnapshotVersion.min(),f=SnapshotVersion.min(),_=ByteString.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_,this.expectedCount=p}withSequenceNumber(t){return new TargetData(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(t){this.Tt=t}}function __PRIVATE_fromBundledQuery(a){const t=__PRIVATE_convertQueryTargetToQuery({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?__PRIVATE_queryWithLimit(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Tn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(t,r){return this.Tn.add(r),PersistencePromise.resolve()}getCollectionParents(t,r){return PersistencePromise.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return PersistencePromise.resolve()}deleteFieldIndex(t,r){return PersistencePromise.resolve()}deleteAllFieldIndexes(t){return PersistencePromise.resolve()}createTargetIndexes(t,r){return PersistencePromise.resolve()}getDocumentsMatchingTarget(t,r){return PersistencePromise.resolve(null)}getIndexType(t,r){return PersistencePromise.resolve(0)}getFieldIndexes(t,r){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(t){return PersistencePromise.resolve(null)}getMinOffset(t,r){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(t,r){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(t,r,s){return PersistencePromise.resolve()}updateIndexEntries(t,r){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r]||new SortedSet(ResourcePath.comparator),c=!l.has(s);return this.index[r]=l.add(s),c}has(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(t){return(this.index[t]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},St=41943040;class LruParams{static withCacheSize(t){return new LruParams(t,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(St,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new __PRIVATE_TargetIdGenerator(0)}static Kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="LruGarbageCollector",Dt=1048576;function __PRIVATE_bufferEntryComparator([a,t],[r,s]){const l=__PRIVATE_primitiveComparator(a,r);return l===0?__PRIVATE_primitiveComparator(t,s):l}class __PRIVATE_RollingSequenceNumberBuffer{constructor(t){this.Hn=t,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();__PRIVATE_bufferEntryComparator(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){__PRIVATE_logDebug(bt,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){__PRIVATE_isIndexedDbTransactionError(r)?__PRIVATE_logDebug(bt,"Ignoring IndexedDB error during garbage collection: ",r):await __PRIVATE_ignoreIfPrimaryLeaseLoss(r)}await this.er(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(r===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ae);const s=new __PRIVATE_RollingSequenceNumberBuffer(r);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.tr.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(wt)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wt):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let s,l,c,f,_,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,f=Date.now(),this.nthSequenceNumber(t,l))).next(R=>(s=R,_=Date.now(),this.removeTargets(t,s,r))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(g=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(_-f)+`ms
	Removed ${c} targets in `+(p-_)+`ms
	Removed ${R} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R})))}}function __PRIVATE_newLruGarbageCollector(a,t){return new __PRIVATE_LruGarbageCollectorImpl(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,MutableDocument.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?PersistencePromise.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(t,r,s,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(s!==null&&__PRIVATE_mutationApplyToLocalView(s.mutation,l,FieldMask.empty(),Timestamp.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,__PRIVATE_documentKeySet()).next(()=>s))}getLocalViewOfDocuments(t,r,s=__PRIVATE_documentKeySet()){const l=__PRIVATE_newOverlayMap();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,s).next(c=>{let f=documentMap();return c.forEach((_,p)=>{f=f.insert(_,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,r){const s=__PRIVATE_newOverlayMap();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,__PRIVATE_documentKeySet()))}populateOverlays(t,r,s){const l=[];return s.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,_)=>{r.set(f,_)})})}computeViews(t,r,s,l){let c=__PRIVATE_mutableDocumentMap();const f=__PRIVATE_newDocumentKeyMap(),_=function(){return __PRIVATE_newDocumentKeyMap()}();return r.forEach((p,g)=>{const T=s.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof __PRIVATE_PatchMutation)?c=c.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(T.mutation,g,T.mutation.getFieldMask(),Timestamp.now())):f.set(g.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((g,T)=>f.set(g,T)),r.forEach((g,T)=>{var R;return _.set(g,new OverlayedDocument(T,(R=f.get(g))!==null&&R!==void 0?R:null))}),_))}recalculateAndSaveOverlays(t,r){const s=__PRIVATE_newDocumentKeyMap();let l=new SortedMap((f,_)=>f-_),c=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(f=>{for(const _ of f)_.keys().forEach(p=>{const g=r.get(p);if(g===null)return;let T=s.get(p)||FieldMask.empty();T=_.applyToLocalView(g,T),s.set(p,T);const R=(l.get(_.batchId)||__PRIVATE_documentKeySet()).add(p);l=l.insert(_.batchId,R)})}).next(()=>{const f=[],_=l.getReverseIterator();for(;_.hasNext();){const p=_.getNext(),g=p.key,T=p.value,R=__PRIVATE_newMutationMap();T.forEach(V=>{if(!c.has(V)){const k=__PRIVATE_calculateOverlayMutation(r.get(V),s.get(V));k!==null&&R.set(V,k),c=c.add(V)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,R))}return PersistencePromise.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,l){return function(f){return DocumentKey.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):__PRIVATE_isCollectionGroupQuery(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,l):this.getDocumentsMatchingCollectionQuery(t,r,s,l)}getNextDocuments(t,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,l-c.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let _=N,p=c;return f.next(g=>PersistencePromise.forEach(g,(T,R)=>(_<R.largestBatchId&&(_=R.largestBatchId),c.get(T)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(t,T).next(V=>{p=p.insert(T,V)}))).next(()=>this.populateOverlays(t,g,c)).next(()=>this.computeViews(t,p,g,__PRIVATE_documentKeySet())).next(T=>({batchId:_,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(T)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new DocumentKey(r)).next(s=>{let l=documentMap();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,s,l){const c=r.collectionGroup;let f=documentMap();return this.indexManager.getCollectionParents(t,c).next(_=>PersistencePromise.forEach(_,p=>{const g=function(R,V){return new __PRIVATE_QueryImpl(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(r,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,s,l).next(T=>{T.forEach((R,V)=>{f=f.insert(R,V)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,r,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,c,l))).next(f=>{c.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,MutableDocument.newInvalidDocument(T)))});let _=documentMap();return f.forEach((p,g)=>{const T=c.get(p);T!==void 0&&__PRIVATE_mutationApplyToLocalView(T.mutation,g,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(r,g)&&(_=_.insert(p,g))}),_})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return PersistencePromise.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:__PRIVATE_fromVersion(l.createTime)}}(r)),PersistencePromise.resolve()}getNamedQuery(t,r){return PersistencePromise.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(l){return{name:l.name,query:__PRIVATE_fromBundledQuery(l.bundledQuery),readTime:__PRIVATE_fromVersion(l.readTime)}}(r)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Rr=new Map}getOverlay(t,r){return PersistencePromise.resolve(this.overlays.get(r))}getOverlays(t,r){const s=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(r,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((l,c)=>{this.Et(t,r,c)}),PersistencePromise.resolve()}removeOverlaysForBatchId(t,r,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),PersistencePromise.resolve()}getOverlaysForCollection(t,r,s){const l=__PRIVATE_newOverlayMap(),c=r.length+1,f=new DocumentKey(r.child("")),_=this.overlays.getIteratorFrom(f);for(;_.hasNext();){const p=_.getNext().value,g=p.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return PersistencePromise.resolve(l)}getOverlaysForCollectionGroup(t,r,s,l){let c=new SortedMap((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>s){let T=c.get(g.largestBatchId);T===null&&(T=__PRIVATE_newOverlayMap(),c=c.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const _=__PRIVATE_newOverlayMap(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>_.set(g,T)),!(_.size()>=l)););return PersistencePromise.resolve(_)}Et(t,r,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Overlay(r,s));let c=this.Rr.get(r);c===void 0&&(c=__PRIVATE_documentKeySet(),this.Rr.set(r,c)),this.Rr.set(r,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(t){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Vr=new SortedSet(__PRIVATE_DocReference.mr),this.gr=new SortedSet(__PRIVATE_DocReference.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const s=new __PRIVATE_DocReference(t,r);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.wr(new __PRIVATE_DocReference(t,r))}Sr(t,r){t.forEach(s=>this.removeReference(s,r))}br(t){const r=new DocumentKey(new ResourcePath([])),s=new __PRIVATE_DocReference(r,t),l=new __PRIVATE_DocReference(r,t+1),c=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new DocumentKey(new ResourcePath([])),s=new __PRIVATE_DocReference(r,t),l=new __PRIVATE_DocReference(r,t+1);let c=__PRIVATE_documentKeySet();return this.gr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const r=new __PRIVATE_DocReference(t,0),s=this.Vr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class __PRIVATE_DocReference{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return DocumentKey.comparator(t.key,r.key)||__PRIVATE_primitiveComparator(t.Cr,r.Cr)}static pr(t,r){return __PRIVATE_primitiveComparator(t.Cr,r.Cr)||DocumentKey.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new SortedSet(__PRIVATE_DocReference.mr)}checkEmpty(t){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MutationBatch(c,r,s,l);this.mutationQueue.push(f);for(const _ of l)this.Mr=this.Mr.add(new __PRIVATE_DocReference(_.key,c)),this.indexManager.addToCollectionParentIndex(t,_.key.path.popLast());return PersistencePromise.resolve(f)}lookupMutationBatch(t,r){return PersistencePromise.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,l=this.Nr(s),c=l<0?0:l;return PersistencePromise.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?Q:this.Fr-1)}getAllMutationBatches(t){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new __PRIVATE_DocReference(r,0),l=new __PRIVATE_DocReference(r,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],f=>{const _=this.Or(f.Cr);c.push(_)}),PersistencePromise.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new SortedSet(__PRIVATE_primitiveComparator);return r.forEach(l=>{const c=new __PRIVATE_DocReference(l,0),f=new __PRIVATE_DocReference(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],_=>{s=s.add(_.Cr)})}),PersistencePromise.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,l=s.length+1;let c=s;DocumentKey.isDocumentKey(c)||(c=c.child(""));const f=new __PRIVATE_DocReference(new DocumentKey(c),0);let _=new SortedSet(__PRIVATE_primitiveComparator);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(_=_.add(p.Cr)),!0)},f),PersistencePromise.resolve(this.Br(_))}Br(t){const r=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){__PRIVATE_hardAssert(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return PersistencePromise.forEach(r.mutations,l=>{const c=new __PRIVATE_DocReference(l.key,r.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,r){const s=new __PRIVATE_DocReference(r,0),l=this.Mr.firstAfterOrEqual(s);return PersistencePromise.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,PersistencePromise.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(t){this.kr=t,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,l=this.docs.get(s),c=l?l.size:0,f=this.kr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return PersistencePromise.resolve(s?s.document.mutableCopy():MutableDocument.newInvalidDocument(r))}getEntries(t,r){let s=__PRIVATE_mutableDocumentMap();return r.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():MutableDocument.newInvalidDocument(l))}),PersistencePromise.resolve(s)}getDocumentsMatchingQuery(t,r,s,l){let c=__PRIVATE_mutableDocumentMap();const f=r.path,_=new DocumentKey(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(_);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(T),s)<=0||(l.has(T.key)||__PRIVATE_queryMatches(r,T))&&(c=c.insert(T.key,T.mutableCopy()))}return PersistencePromise.resolve(c)}getAllFromCollectionGroup(t,r,s,l){fail()}qr(t,r){return PersistencePromise.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(t){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),PersistencePromise.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(t){this.persistence=t,this.Qr=new ObjectMap(r=>__PRIVATE_canonifyTarget(r),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.$r=0,this.Ur=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Kr=__PRIVATE_TargetIdGenerator.Un()}forEachTarget(t,r){return this.Qr.forEach((s,l)=>r(l)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(t){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return PersistencePromise.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.$r&&(this.$r=r),PersistencePromise.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Kr=new __PRIVATE_TargetIdGenerator(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(t,r){return this.zn(r),PersistencePromise.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(t,r,s){let l=0;const c=[];return this.Qr.forEach((f,_)=>{_.sequenceNumber<=r&&s.get(_.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,_.targetId)),l++)}),PersistencePromise.waitFor(c).next(()=>l)}getTargetCount(t){return PersistencePromise.resolve(this.targetCount)}getTargetData(t,r){const s=this.Qr.get(r)||null;return PersistencePromise.resolve(s)}addMatchingKeys(t,r,s){return this.Ur.yr(r,s),PersistencePromise.resolve()}removeMatchingKeys(t,r,s){this.Ur.Sr(r,s);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),PersistencePromise.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.Ur.br(r),PersistencePromise.resolve()}getMatchingKeysForTargetId(t,r){const s=this.Ur.vr(r);return PersistencePromise.resolve(s)}containsKey(t,r){return PersistencePromise.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new __PRIVATE_ListenSequence(0),this.zr=!1,this.zr=!0,this.jr=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=t(this),this.Hr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(l){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new __PRIVATE_LocalSerializer(r),this.Yr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.Wr[t.toKey()];return s||(s=new __PRIVATE_MemoryMutationQueue(r,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,s){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",t);const l=new __PRIVATE_MemoryTransaction(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,r){return PersistencePromise.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,r)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(t){super(),this.currentSequenceNumber=t}}class __PRIVATE_MemoryEagerDelegate{constructor(t){this.persistence=t,this.ti=new __PRIVATE_ReferenceSet,this.ni=null}static ri(t){return new __PRIVATE_MemoryEagerDelegate(t)}get ii(){if(this.ni)return this.ni;throw fail()}addReference(t,r,s){return this.ti.addReference(s,r),this.ii.delete(s.toString()),PersistencePromise.resolve()}removeReference(t,r,s){return this.ti.removeReference(s,r),this.ii.add(s.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),PersistencePromise.resolve()}removeTarget(t,r){this.ti.br(r.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.ii,s=>{const l=DocumentKey.fromPath(s);return this.si(t,l).next(c=>{c||r.removeEntry(l,SnapshotVersion.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(s=>{s?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return PersistencePromise.or([()=>PersistencePromise.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class __PRIVATE_MemoryLruDelegate{constructor(t,r){this.persistence=t,this.oi=new ObjectMap(s=>__PRIVATE_encodeResourcePath(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,r)}static ri(t,r){return new __PRIVATE_MemoryLruDelegate(t,r)}Zr(){}Xr(t){return PersistencePromise.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>r.next(l=>s+l))}sr(t){let r=0;return this.rr(t,s=>{r++}).next(()=>r)}rr(t,r){return PersistencePromise.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?PersistencePromise.resolve():r(l)))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,r).next(_=>{_||(s++,c.removeEntry(f,SnapshotVersion.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.oi.set(s,t.currentSequenceNumber),PersistencePromise.resolve()}removeReference(t,r,s){return this.oi.set(s,t.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),PersistencePromise.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=__PRIVATE_estimateByteSize(t.data.value)),r}ar(t,r,s){return PersistencePromise.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.oi.get(r);return PersistencePromise.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(t,r,s,l){this.targetId=t,this.fromCache=r,this.Hi=s,this.Ji=l}static Yi(t,r){let s=__PRIVATE_documentKeySet(),l=__PRIVATE_documentKeySet();for(const c of r.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new __PRIVATE_LocalViewChanges(t,r.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,s,l){const c={result:null};return this.rs(t,r).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,r,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new QueryContext;return this._s(t,r,f).next(_=>{if(c.result=_,this.Xi)return this.us(t,r,f,_.size)})}).next(()=>c.result)}us(t,r,s,l){return s.documentReadCount<this.es?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,__PRIVATE_queryToTarget(r))):PersistencePromise.resolve())}rs(t,r){if(__PRIVATE_queryMatchesAllDocuments(r))return PersistencePromise.resolve(null);let s=__PRIVATE_queryToTarget(r);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=__PRIVATE_queryWithLimit(r,null,"F"),s=__PRIVATE_queryToTarget(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=__PRIVATE_documentKeySet(...c);return this.ns.getDocuments(t,f).next(_=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(r,_);return this.ls(r,g,f,p.readTime)?this.rs(t,__PRIVATE_queryWithLimit(r,null,"F")):this.hs(t,g,r,p)}))})))}ss(t,r,s,l){return __PRIVATE_queryMatchesAllDocuments(r)||l.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(r,c);return this.ls(r,f,s,l)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),__PRIVATE_stringifyQuery(r)),this.hs(t,f,r,__PRIVATE_newIndexOffsetSuccessorFromReadTime(l,N)).next(_=>_))})}cs(t,r){let s=new SortedSet(__PRIVATE_newQueryComparator(t));return r.forEach((l,c)=>{__PRIVATE_queryMatches(t,c)&&(s=s.add(c))}),s}ls(t,r,s,l){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,r,s){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(r)),this.ns.getDocumentsMatchingQuery(t,r,IndexOffset.min(),s)}hs(t,r,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(r.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="LocalStore",Nt=3e8;class __PRIVATE_LocalStoreImpl{constructor(t,r,s,l){this.persistence=t,this.Ps=r,this.serializer=l,this.Ts=new SortedMap(__PRIVATE_primitiveComparator),this.Is=new ObjectMap(c=>__PRIVATE_canonifyTarget(c),__PRIVATE_targetEquals),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LocalDocumentsView(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function __PRIVATE_newLocalStore(a,t,r,s){return new __PRIVATE_LocalStoreImpl(a,t,r,s)}async function __PRIVATE_localStoreHandleUserChange(a,t){const r=__PRIVATE_debugCast(a);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,r.As(t),r.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],_=[];let p=__PRIVATE_documentKeySet();for(const g of l){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of c){_.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return r.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:_}))})})}function __PRIVATE_localStoreAcknowledgeBatch(a,t){const r=__PRIVATE_debugCast(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=r.ds.newChangeBuffer({trackRemovals:!0});return function(_,p,g,T){const R=g.batch,V=R.keys();let k=PersistencePromise.resolve();return V.forEach(q=>{k=k.next(()=>T.getEntry(p,q)).next(J=>{const te=g.docVersions.get(q);__PRIVATE_hardAssert(te!==null),J.version.compareTo(te)<0&&(R.applyToRemoteDocument(J,g),J.isValidDocument()&&(J.setReadTime(g.commitVersion),T.addEntry(J)))})}),k.next(()=>_.mutationQueue.removeMutationBatch(p,R))}(r,s,t,c).next(()=>c.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(_){let p=__PRIVATE_documentKeySet();for(let g=0;g<_.mutationResults.length;++g)_.mutationResults[g].transformResults.length>0&&(p=p.add(_.batch.mutations[g].key));return p}(t))).next(()=>r.localDocuments.getDocuments(s,l))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(a){const t=__PRIVATE_debugCast(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(a,t){const r=__PRIVATE_debugCast(a),s=t.snapshotVersion;let l=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=r.ds.newChangeBuffer({trackRemovals:!0});l=r.Ts;const _=[];t.targetChanges.forEach((T,R)=>{const V=l.get(R);if(!V)return;_.push(r.Hr.removeMatchingKeys(c,T.removedDocuments,R).next(()=>r.Hr.addMatchingKeys(c,T.addedDocuments,R)));let k=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?k=k.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),l=l.insert(R,k),function(J,te,oe){return J.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=Nt?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0}(V,k,T)&&_.push(r.Hr.updateTargetData(c,k))});let p=__PRIVATE_mutableDocumentMap(),g=__PRIVATE_documentKeySet();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&_.push(r.persistence.referenceDelegate.updateLimboDocument(c,T))}),_.push(__PRIVATE_populateDocumentChangeBuffer(c,f,t.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!s.isEqual(SnapshotVersion.min())){const T=r.Hr.getLastRemoteSnapshotVersion(c).next(R=>r.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));_.push(T)}return PersistencePromise.waitFor(_).next(()=>f.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,p,g)).next(()=>p)}).then(c=>(r.Ts=l,c))}function __PRIVATE_populateDocumentChangeBuffer(a,t,r){let s=__PRIVATE_documentKeySet(),l=__PRIVATE_documentKeySet();return r.forEach(c=>s=s.add(c)),t.getEntries(a,s).next(c=>{let f=__PRIVATE_mutableDocumentMap();return r.forEach((_,p)=>{const g=c.get(_);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(_)),p.isNoDocument()&&p.version.isEqual(SnapshotVersion.min())?(t.removeEntry(_,p.readTime),f=f.insert(_,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(_,p)):__PRIVATE_logDebug(Ot,"Ignoring outdated watch update for ",_,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function __PRIVATE_localStoreGetNextMutationBatch(a,t){const r=__PRIVATE_debugCast(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Q),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function __PRIVATE_localStoreAllocateTarget(a,t){const r=__PRIVATE_debugCast(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Hr.getTargetData(s,t).next(c=>c?(l=c,PersistencePromise.resolve(l)):r.Hr.allocateTargetId(s).next(f=>(l=new TargetData(t,f,"TargetPurposeListen",s.currentSequenceNumber),r.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(s.targetId,s),r.Is.set(t,s.targetId)),s})}async function __PRIVATE_localStoreReleaseTarget(a,t,r){const s=__PRIVATE_debugCast(a),l=s.Ts.get(t),c=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!__PRIVATE_isIndexedDbTransactionError(f))throw f;__PRIVATE_logDebug(Ot,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function __PRIVATE_localStoreExecuteQuery(a,t,r){const s=__PRIVATE_debugCast(a);let l=SnapshotVersion.min(),c=__PRIVATE_documentKeySet();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const R=__PRIVATE_debugCast(p),V=R.Is.get(T);return V!==void 0?PersistencePromise.resolve(R.Ts.get(V)):R.Hr.getTargetData(g,T)}(s,f,__PRIVATE_queryToTarget(t)).next(_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,_.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,r?l:SnapshotVersion.min(),r?c:__PRIVATE_documentKeySet())).next(_=>(__PRIVATE_setMaxReadTime(s,__PRIVATE_queryCollectionGroup(t),_),{documents:_,gs:c})))}function __PRIVATE_setMaxReadTime(a,t,r){let s=a.Es.get(t)||SnapshotVersion.min();r.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(t,s)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class __PRIVATE_MemorySharedClientState{constructor(){this.ho=new __PRIVATE_LocalClientState,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,s){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){__PRIVATE_logDebug(Qt,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){__PRIVATE_logDebug(Qt,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=null;function __PRIVATE_generateUniqueDebugId(){return $t===null?$t=function(){return 268435456+Math.round(2147483648*Math.random())}():$t++,"0x"+$t.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="RestConnection",Kt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===rt?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,r,s,l,c){const f=__PRIVATE_generateUniqueDebugId(),_=this.bo(t,r.toUriEncodedString());__PRIVATE_logDebug(Ut,`Sending RPC '${t}' ${f}:`,_,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,_,p,s).then(g=>(__PRIVATE_logDebug(Ut,`Received RPC '${t}' ${f}: `,g),g),g=>{throw __PRIVATE_logWarn(Ut,`RPC '${t}' ${f} failed with error: `,g,"url: ",_,"request:",s),g})}Co(t,r,s,l,c,f){return this.So(t,r,s,l,c)}Do(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+D}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,r){const s=Kt[t];return`${this.po}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,s,l){const c=__PRIVATE_generateUniqueDebugId();return new Promise((f,_)=>{const p=new XhrIo;p.setWithCredentials(!0),p.listenOnce(EventType.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ErrorCode.NO_ERROR:const T=p.getResponseJson();__PRIVATE_logDebug(Wt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),f(T);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(Wt,`RPC '${t}' ${c} timed out`),_(new FirestoreError(C.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const R=p.getStatus();if(__PRIVATE_logDebug(Wt,`RPC '${t}' ${c} failed with status:`,R,"response text:",p.getResponseText()),R>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const k=V==null?void 0:V.error;if(k&&k.status&&k.message){const q=function(te){const oe=te.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(oe)>=0?oe:C.UNKNOWN}(k.status);_(new FirestoreError(q,k.message))}else _(new FirestoreError(C.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new FirestoreError(C.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(Wt,`RPC '${t}' ${c} completed.`)}});const g=JSON.stringify(l);__PRIVATE_logDebug(Wt,`RPC '${t}' ${c} sending request:`,l),p.send(r,"POST",g,s,15)})}Wo(t,r,s){const l=__PRIVATE_generateUniqueDebugId(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=createWebChannelTransport(),_=getStatEventTarget(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const T=c.join("");__PRIVATE_logDebug(Wt,`Creating RPC '${t}' stream ${l}: ${T}`,p);const R=f.createWebChannel(T,p);let V=!1,k=!1;const q=new __PRIVATE_StreamBridge({Fo:te=>{k?__PRIVATE_logDebug(Wt,`Not sending because RPC '${t}' stream ${l} is closed:`,te):(V||(__PRIVATE_logDebug(Wt,`Opening RPC '${t}' stream ${l} transport.`),R.open(),V=!0),__PRIVATE_logDebug(Wt,`RPC '${t}' stream ${l} sending:`,te),R.send(te))},Mo:()=>R.close()}),J=(te,oe,he)=>{te.listen(oe,ce=>{try{he(ce)}catch(ve){setTimeout(()=>{throw ve},0)}})};return J(R,WebChannel.EventType.OPEN,()=>{k||(__PRIVATE_logDebug(Wt,`RPC '${t}' stream ${l} transport opened.`),q.Qo())}),J(R,WebChannel.EventType.CLOSE,()=>{k||(k=!0,__PRIVATE_logDebug(Wt,`RPC '${t}' stream ${l} transport closed`),q.Uo())}),J(R,WebChannel.EventType.ERROR,te=>{k||(k=!0,__PRIVATE_logWarn(Wt,`RPC '${t}' stream ${l} transport errored:`,te),q.Uo(new FirestoreError(C.UNAVAILABLE,"The operation could not be completed")))}),J(R,WebChannel.EventType.MESSAGE,te=>{var oe;if(!k){const he=te.data[0];__PRIVATE_hardAssert(!!he);const ce=he,ve=(ce==null?void 0:ce.error)||((oe=ce[0])===null||oe===void 0?void 0:oe.error);if(ve){__PRIVATE_logDebug(Wt,`RPC '${t}' stream ${l} received error:`,ve);const ge=ve.status;let Se=function(P){const w=Et[P];if(w!==void 0)return __PRIVATE_mapCodeFromRpcCode(w)}(ge),G=ve.message;Se===void 0&&(Se=C.INTERNAL,G="Unknown error status: "+ge+" with message "+ve.message),k=!0,q.Uo(new FirestoreError(Se,G)),R.close()}else __PRIVATE_logDebug(Wt,`RPC '${t}' stream ${l} received:`,he),q.Ko(he)}}),J(_,Event.STAT_EVENT,te=>{te.stat===Stat.PROXY?__PRIVATE_logDebug(Wt,`RPC '${t}' stream ${l} detected buffering proxy`):te.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Wt,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{q.$o()},0),q}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(a){return new JsonProtoSerializer(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(t,r,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=r,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,r-s);l>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="PersistentStream";class __PRIVATE_PersistentStream{constructor(t,r,s,l,c,f,_,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=_,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new __PRIVATE_ExponentialBackoff(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===C.RESOURCE_EXHAUSTED?(__PRIVATE_logError(r.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===r&&this.V_(s,l)},s=>{t(()=>{const l=new FirestoreError(C.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,r){const s=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return __PRIVATE_logDebug(Gt,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(__PRIVATE_logDebug(Gt,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(t,r,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,f),this.serializer=c}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=__PRIVATE_fromWatchChange(this.serializer,t),s=function(c){if(!("targetChange"in c))return SnapshotVersion.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?SnapshotVersion.min():f.readTime?__PRIVATE_fromVersion(f.readTime):SnapshotVersion.min()}(t);return this.listener.p_(r,s)}y_(t){const r={};r.database=__PRIVATE_getEncodedDatabaseId(this.serializer),r.addTarget=function(c,f){let _;const p=f.target;if(_=__PRIVATE_targetIsDocumentTarget(p)?{documents:__PRIVATE_toDocumentsTarget(c,p)}:{query:__PRIVATE_toQueryTarget(c,p).ht},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){_.resumeToken=__PRIVATE_toBytes(c,f.resumeToken);const g=__PRIVATE_toInt32Proto(c,f.expectedCount);g!==null&&(_.expectedCount=g)}else if(f.snapshotVersion.compareTo(SnapshotVersion.min())>0){_.readTime=toTimestamp(c,f.snapshotVersion.toTimestamp());const g=__PRIVATE_toInt32Proto(c,f.expectedCount);g!==null&&(_.expectedCount=g)}return _}(this.serializer,t);const s=__PRIVATE_toListenRequestLabels(this.serializer,t);s&&(r.labels=s),this.I_(r)}w_(t){const r={};r.database=__PRIVATE_getEncodedDatabaseId(this.serializer),r.removeTarget=t,this.I_(r)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(t,r,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return __PRIVATE_hardAssert(!!t.streamToken),this.lastStreamToken=t.streamToken,__PRIVATE_hardAssert(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){__PRIVATE_hardAssert(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=__PRIVATE_fromWriteResults(t.writeResults,t.commitTime),s=__PRIVATE_fromVersion(t.commitTime);return this.listener.v_(s,r)}C_(){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.I_(t)}b_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>toMutation(this.serializer,s))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(t,r,s,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new FirestoreError(C.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,r,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,__PRIVATE_toResourcePath(r,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new FirestoreError(C.UNKNOWN,c.toString())})}Co(t,r,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Co(t,__PRIVATE_toResourcePath(r,s),l,f,_,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new FirestoreError(C.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(__PRIVATE_logError(r),this.N_=!1):__PRIVATE_logDebug("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(t,r,s,l,c){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(zt,"Restarting streams for network reachability change."),await async function(p){const g=__PRIVATE_debugCast(p);g.W_.add(4),await __PRIVATE_disableNetworkInternal(g),g.j_.set("Unknown"),g.W_.delete(4),await __PRIVATE_enableNetworkInternal(g)}(this))})}),this.j_=new __PRIVATE_OnlineStateTracker(s,l)}}async function __PRIVATE_enableNetworkInternal(a){if(__PRIVATE_canUseNetwork(a))for(const t of a.G_)await t(!0)}async function __PRIVATE_disableNetworkInternal(a){for(const t of a.G_)await t(!1)}function __PRIVATE_remoteStoreListen(a,t){const r=__PRIVATE_debugCast(a);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),__PRIVATE_shouldStartWatchStream(r)?__PRIVATE_startWatchStream(r):__PRIVATE_ensureWatchStream(r).c_()&&__PRIVATE_sendWatchRequest(r,t))}function __PRIVATE_remoteStoreUnlisten(a,t){const r=__PRIVATE_debugCast(a),s=__PRIVATE_ensureWatchStream(r);r.K_.delete(t),s.c_()&&__PRIVATE_sendUnwatchRequest(r,t),r.K_.size===0&&(s.c_()?s.P_():__PRIVATE_canUseNetwork(r)&&r.j_.set("Unknown"))}function __PRIVATE_sendWatchRequest(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(SnapshotVersion.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}__PRIVATE_ensureWatchStream(a).y_(t)}function __PRIVATE_sendUnwatchRequest(a,t){a.H_.Ne(t),__PRIVATE_ensureWatchStream(a).w_(t)}function __PRIVATE_startWatchStream(a){a.H_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.K_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(a).start(),a.j_.B_()}function __PRIVATE_shouldStartWatchStream(a){return __PRIVATE_canUseNetwork(a)&&!__PRIVATE_ensureWatchStream(a).u_()&&a.K_.size>0}function __PRIVATE_canUseNetwork(a){return __PRIVATE_debugCast(a).W_.size===0}function __PRIVATE_cleanUpWatchStreamState(a){a.H_=void 0}async function __PRIVATE_onWatchStreamConnected(a){a.j_.set("Online")}async function __PRIVATE_onWatchStreamOpen(a){a.K_.forEach((t,r)=>{__PRIVATE_sendWatchRequest(a,t)})}async function __PRIVATE_onWatchStreamClose(a,t){__PRIVATE_cleanUpWatchStreamState(a),__PRIVATE_shouldStartWatchStream(a)?(a.j_.q_(t),__PRIVATE_startWatchStream(a)):a.j_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(a,t,r){if(a.j_.set("Online"),t instanceof __PRIVATE_WatchTargetChange&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const _ of c.targetIds)l.K_.has(_)&&(await l.remoteSyncer.rejectListen(_,f),l.K_.delete(_),l.H_.removeTarget(_))}(a,t)}catch(s){__PRIVATE_logDebug(zt,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await __PRIVATE_disableNetworkUntilRecovery(a,s)}else if(t instanceof __PRIVATE_DocumentWatchChange?a.H_.We(t):t instanceof __PRIVATE_ExistenceFilterChange?a.H_.Ze(t):a.H_.je(t),!r.isEqual(SnapshotVersion.min()))try{const s=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(a.localStore);r.compareTo(s)>=0&&await function(c,f){const _=c.H_.ot(f);return _.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.K_.get(g);T&&c.K_.set(g,T.withResumeToken(p.resumeToken,f))}}),_.targetMismatches.forEach((p,g)=>{const T=c.K_.get(p);if(!T)return;c.K_.set(p,T.withResumeToken(ByteString.EMPTY_BYTE_STRING,T.snapshotVersion)),__PRIVATE_sendUnwatchRequest(c,p);const R=new TargetData(T.target,p,g,T.sequenceNumber);__PRIVATE_sendWatchRequest(c,R)}),c.remoteSyncer.applyRemoteEvent(_)}(a,r)}catch(s){__PRIVATE_logDebug(zt,"Failed to raise snapshot:",s),await __PRIVATE_disableNetworkUntilRecovery(a,s)}}async function __PRIVATE_disableNetworkUntilRecovery(a,t,r){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;a.W_.add(1),await __PRIVATE_disableNetworkInternal(a),a.j_.set("Offline"),r||(r=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(zt,"Retrying IndexedDB access"),await r(),a.W_.delete(1),await __PRIVATE_enableNetworkInternal(a)})}function __PRIVATE_executeWithRecovery(a,t){return t().catch(r=>__PRIVATE_disableNetworkUntilRecovery(a,r,t))}async function __PRIVATE_fillWritePipeline(a){const t=__PRIVATE_debugCast(a),r=__PRIVATE_ensureWriteStream(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Q;for(;__PRIVATE_canAddToWritePipeline(t);)try{const l=await __PRIVATE_localStoreGetNextMutationBatch(t.localStore,s);if(l===null){t.U_.length===0&&r.P_();break}s=l.batchId,__PRIVATE_addToWritePipeline(t,l)}catch(l){await __PRIVATE_disableNetworkUntilRecovery(t,l)}__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}function __PRIVATE_canAddToWritePipeline(a){return __PRIVATE_canUseNetwork(a)&&a.U_.length<10}function __PRIVATE_addToWritePipeline(a,t){a.U_.push(t);const r=__PRIVATE_ensureWriteStream(a);r.c_()&&r.S_&&r.b_(t.mutations)}function __PRIVATE_shouldStartWriteStream(a){return __PRIVATE_canUseNetwork(a)&&!__PRIVATE_ensureWriteStream(a).u_()&&a.U_.length>0}function __PRIVATE_startWriteStream(a){__PRIVATE_ensureWriteStream(a).start()}async function __PRIVATE_onWriteStreamOpen(a){__PRIVATE_ensureWriteStream(a).C_()}async function __PRIVATE_onWriteHandshakeComplete(a){const t=__PRIVATE_ensureWriteStream(a);for(const r of a.U_)t.b_(r.mutations)}async function __PRIVATE_onMutationResult(a,t,r){const s=a.U_.shift(),l=MutationBatchResult.from(s,t,r);await __PRIVATE_executeWithRecovery(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await __PRIVATE_fillWritePipeline(a)}async function __PRIVATE_onWriteStreamClose(a,t){t&&__PRIVATE_ensureWriteStream(a).S_&&await async function(s,l){if(function(f){return __PRIVATE_isPermanentError(f)&&f!==C.ABORTED}(l.code)){const c=s.U_.shift();__PRIVATE_ensureWriteStream(s).h_(),await __PRIVATE_executeWithRecovery(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await __PRIVATE_fillWritePipeline(s)}}(a,t),__PRIVATE_shouldStartWriteStream(a)&&__PRIVATE_startWriteStream(a)}async function __PRIVATE_remoteStoreHandleCredentialChange(a,t){const r=__PRIVATE_debugCast(a);r.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(zt,"RemoteStore received new credentials");const s=__PRIVATE_canUseNetwork(r);r.W_.add(3),await __PRIVATE_disableNetworkInternal(r),s&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await __PRIVATE_enableNetworkInternal(r)}async function __PRIVATE_remoteStoreApplyPrimaryState(a,t){const r=__PRIVATE_debugCast(a);t?(r.W_.delete(2),await __PRIVATE_enableNetworkInternal(r)):t||(r.W_.add(2),await __PRIVATE_disableNetworkInternal(r),r.j_.set("Unknown"))}function __PRIVATE_ensureWatchStream(a){return a.J_||(a.J_=function(r,s,l){const c=__PRIVATE_debugCast(r);return c.M_(),new __PRIVATE_PersistentListenStream(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:__PRIVATE_onWatchStreamConnected.bind(null,a),No:__PRIVATE_onWatchStreamOpen.bind(null,a),Lo:__PRIVATE_onWatchStreamClose.bind(null,a),p_:__PRIVATE_onWatchStreamChange.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),__PRIVATE_shouldStartWatchStream(a)?__PRIVATE_startWatchStream(a):a.j_.set("Unknown")):(await a.J_.stop(),__PRIVATE_cleanUpWatchStreamState(a))})),a.J_}function __PRIVATE_ensureWriteStream(a){return a.Y_||(a.Y_=function(r,s,l){const c=__PRIVATE_debugCast(r);return c.M_(),new __PRIVATE_PersistentWriteStream(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:__PRIVATE_onWriteStreamOpen.bind(null,a),Lo:__PRIVATE_onWriteStreamClose.bind(null,a),D_:__PRIVATE_onWriteHandshakeComplete.bind(null,a),v_:__PRIVATE_onMutationResult.bind(null,a)}),a.G_.push(async t=>{t?(a.Y_.h_(),await __PRIVATE_fillWritePipeline(a)):(await a.Y_.stop(),a.U_.length>0&&(__PRIVATE_logDebug(zt,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(t,r,s,l,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,l,c){const f=Date.now()+s,_=new DelayedOperation(t,r,f,l,c);return _.start(s),_}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(a,t){if(__PRIVATE_logError("AsyncQueue",`${t}: ${a}`),__PRIVATE_isIndexedDbTransactionError(a))return new FirestoreError(C.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(t){return new DocumentSet(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||DocumentKey.comparator(r.key,s.key):(r,s)=>DocumentKey.comparator(r.key,s.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof DocumentSet)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new DocumentSet;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.Z_=new SortedMap(DocumentKey.comparator)}track(t){const r=t.doc.key,s=this.Z_.get(r);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(r):t.type===1&&s.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):fail():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,s)=>{t.push(s)}),t}}class ViewSnapshot{constructor(t,r,s,l,c,f,_,p,g){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,r,s,l,c){const f=[];return r.forEach(_=>{f.push({type:0,doc:_})}),new ViewSnapshot(t,r,DocumentSet.emptySet(r),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&__PRIVATE_queryEquals(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,s){const l=__PRIVATE_debugCast(r),c=l.queries;l.queries=__PRIVATE_newQueriesObjectMap(),c.forEach((f,_)=>{for(const p of _.ta)p.onError(s)})})(this,new FirestoreError(C.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(a=>__PRIVATE_canonifyQuery(a),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(a,t){const r=__PRIVATE_debugCast(a);let s=3;const l=t.query;let c=r.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new __PRIVATE_QueryListenersInfo,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await r.onListen(l,!0);break;case 1:c.ea=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(f){const _=__PRIVATE_wrapInUserErrorIfRecoverable(f,`Initialization of query '${__PRIVATE_stringifyQuery(t.query)}' failed`);return void t.onError(_)}r.queries.set(l,c),c.ta.push(t),t.sa(r.onlineState),c.ea&&t.oa(c.ea)&&__PRIVATE_raiseSnapshotsInSyncEvent(r)}async function __PRIVATE_eventManagerUnlisten(a,t){const r=__PRIVATE_debugCast(a),s=t.query;let l=3;const c=r.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function __PRIVATE_eventManagerOnWatchChange(a,t){const r=__PRIVATE_debugCast(a);let s=!1;for(const l of t){const c=l.query,f=r.queries.get(c);if(f){for(const _ of f.ta)_.oa(l)&&(s=!0);f.ea=l}}s&&__PRIVATE_raiseSnapshotsInSyncEvent(r)}function __PRIVATE_eventManagerOnWatchError(a,t,r){const s=__PRIVATE_debugCast(a),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(r);s.queries.delete(t)}function __PRIVATE_raiseSnapshotsInSyncEvent(a){a.ia.forEach(t=>{t.next()})}var jt,Ht;(Ht=jt||(jt={}))._a="default",Ht.Cache="cache";class __PRIVATE_QueryListener{constructor(t,r,s){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ViewSnapshot(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const s=r!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=ViewSnapshot.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==jt.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_RemovedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_View{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ya=__PRIVATE_newQueryComparator(t),this.wa=new DocumentSet(this.ya)}get Sa(){return this.fa}ba(t,r){const s=r?r.Da:new __PRIVATE_DocumentChangeSet,l=r?r.wa:this.wa;let c=r?r.mutatedKeys:this.mutatedKeys,f=l,_=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,R)=>{const V=l.get(T),k=__PRIVATE_queryMatches(this.query,R)?R:null,q=!!V&&this.mutatedKeys.has(V.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let te=!1;V&&k?V.data.isEqual(k.data)?q!==J&&(s.track({type:3,doc:k}),te=!0):this.va(V,k)||(s.track({type:2,doc:k}),te=!0,(p&&this.ya(k,p)>0||g&&this.ya(k,g)<0)&&(_=!0)):!V&&k?(s.track({type:0,doc:k}),te=!0):V&&!k&&(s.track({type:1,doc:V}),te=!0,(p||g)&&(_=!0)),te&&(k?(f=f.add(k),c=J?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:_,mutatedKeys:c}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,R)=>function(k,q){const J=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return J(k)-J(q)}(T.type,R.type)||this.ya(T.doc,R.doc)),this.Ca(s),l=l!=null&&l;const _=r&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new ViewSnapshot(this.query,t.wa,c,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:_}:{Ma:_}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=__PRIVATE_documentKeySet(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const r=[];return t.forEach(s=>{this.pa.has(s)||r.push(new __PRIVATE_RemovedLimboDocument(s))}),this.pa.forEach(s=>{t.has(s)||r.push(new __PRIVATE_AddedLimboDocument(s))}),r}Oa(t){this.fa=t.gs,this.pa=__PRIVATE_documentKeySet();const r=this.ba(t.documents);return this.applyChanges(r,!0)}Na(){return ViewSnapshot.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jt="SyncEngine";class __PRIVATE_QueryView{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class LimboResolution{constructor(t){this.key=t,this.Ba=!1}}class __PRIVATE_SyncEngineImpl{constructor(t,r,s,l,c,f){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ObjectMap(_=>__PRIVATE_canonifyQuery(_),__PRIVATE_queryEquals),this.qa=new Map,this.Qa=new Set,this.$a=new SortedMap(DocumentKey.comparator),this.Ua=new Map,this.Ka=new __PRIVATE_ReferenceSet,this.Wa={},this.Ga=new Map,this.za=__PRIVATE_TargetIdGenerator.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function __PRIVATE_syncEngineListen(a,t,r=!0){const s=__PRIVATE_ensureWatchCallbacks(a);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await __PRIVATE_allocateTargetAndMaybeListen(s,t,r,!0),l}async function __PRIVATE_triggerRemoteStoreListen(a,t){const r=__PRIVATE_ensureWatchCallbacks(a);await __PRIVATE_allocateTargetAndMaybeListen(r,t,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(a,t,r,s){const l=await __PRIVATE_localStoreAllocateTarget(a.localStore,__PRIVATE_queryToTarget(t)),c=l.targetId,f=a.sharedClientState.addLocalQueryTarget(c,r);let _;return s&&(_=await __PRIVATE_initializeViewAndComputeSnapshot(a,t,c,f==="current",l.resumeToken)),a.isPrimaryClient&&r&&__PRIVATE_remoteStoreListen(a.remoteStore,l),_}async function __PRIVATE_initializeViewAndComputeSnapshot(a,t,r,s,l){a.Ha=(R,V,k)=>async function(J,te,oe,he){let ce=te.view.ba(oe);ce.ls&&(ce=await __PRIVATE_localStoreExecuteQuery(J.localStore,te.query,!1).then(({documents:G})=>te.view.ba(G,ce)));const ve=he&&he.targetChanges.get(te.targetId),ge=he&&he.targetMismatches.get(te.targetId)!=null,Se=te.view.applyChanges(ce,J.isPrimaryClient,ve,ge);return __PRIVATE_updateTrackedLimbos(J,te.targetId,Se.Ma),Se.snapshot}(a,R,V,k);const c=await __PRIVATE_localStoreExecuteQuery(a.localStore,t,!0),f=new __PRIVATE_View(t,c.gs),_=f.ba(c.documents),p=TargetChange.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",l),g=f.applyChanges(_,a.isPrimaryClient,p);__PRIVATE_updateTrackedLimbos(a,r,g.Ma);const T=new __PRIVATE_QueryView(t,r,f);return a.ka.set(t,T),a.qa.has(r)?a.qa.get(r).push(t):a.qa.set(r,[t]),g.snapshot}async function __PRIVATE_syncEngineUnlisten(a,t,r){const s=__PRIVATE_debugCast(a),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(f=>!__PRIVATE_queryEquals(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await __PRIVATE_localStoreReleaseTarget(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&__PRIVATE_remoteStoreUnlisten(s.remoteStore,l.targetId),__PRIVATE_removeAndCleanupTarget(s,l.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(s,l.targetId),await __PRIVATE_localStoreReleaseTarget(s.localStore,l.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(a,t){const r=__PRIVATE_debugCast(a),s=r.ka.get(t),l=r.qa.get(s.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),__PRIVATE_remoteStoreUnlisten(r.remoteStore,s.targetId))}async function __PRIVATE_syncEngineWrite(a,t,r){const s=__PRIVATE_syncEngineEnsureWriteCallbacks(a);try{const l=await function(f,_){const p=__PRIVATE_debugCast(f),g=Timestamp.now(),T=_.reduce((k,q)=>k.add(q.key),__PRIVATE_documentKeySet());let R,V;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let q=__PRIVATE_mutableDocumentMap(),J=__PRIVATE_documentKeySet();return p.ds.getEntries(k,T).next(te=>{q=te,q.forEach((oe,he)=>{he.isValidDocument()||(J=J.add(oe))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,q)).next(te=>{R=te;const oe=[];for(const he of _){const ce=__PRIVATE_mutationExtractBaseValue(he,R.get(he.key).overlayedDocument);ce!=null&&oe.push(new __PRIVATE_PatchMutation(he.key,ce,__PRIVATE_extractFieldMask(ce.value.mapValue),Precondition.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,oe,_)}).next(te=>{V=te;const oe=te.applyToLocalDocumentSet(R,J);return p.documentOverlayCache.saveOverlays(k,te.batchId,oe)})}).then(()=>({batchId:V.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,_,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new SortedMap(__PRIVATE_primitiveComparator)),g=g.insert(_,p),f.Wa[f.currentUser.toKey()]=g}(s,l.batchId,r),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,l.changes),await __PRIVATE_fillWritePipeline(s.remoteStore)}catch(l){const c=__PRIVATE_wrapInUserErrorIfRecoverable(l,"Failed to persist write");r.reject(c)}}async function __PRIVATE_syncEngineApplyRemoteEvent(a,t){const r=__PRIVATE_debugCast(a);try{const s=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(r.localStore,t);t.targetChanges.forEach((l,c)=>{const f=r.Ua.get(c);f&&(__PRIVATE_hardAssert(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?__PRIVATE_hardAssert(f.Ba):l.removedDocuments.size>0&&(__PRIVATE_hardAssert(f.Ba),f.Ba=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(r,s,t)}catch(s){await __PRIVATE_ignoreIfPrimaryLeaseLoss(s)}}function __PRIVATE_syncEngineApplyOnlineStateChange(a,t,r){const s=__PRIVATE_debugCast(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const l=[];s.ka.forEach((c,f)=>{const _=f.view.sa(t);_.snapshot&&l.push(_.snapshot)}),function(f,_){const p=__PRIVATE_debugCast(f);p.onlineState=_;let g=!1;p.queries.forEach((T,R)=>{for(const V of R.ta)V.sa(_)&&(g=!0)}),g&&__PRIVATE_raiseSnapshotsInSyncEvent(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function __PRIVATE_syncEngineRejectListen(a,t,r){const s=__PRIVATE_debugCast(a);s.sharedClientState.updateQueryState(t,"rejected",r);const l=s.Ua.get(t),c=l&&l.key;if(c){let f=new SortedMap(DocumentKey.comparator);f=f.insert(c,MutableDocument.newNoDocument(c,SnapshotVersion.min()));const _=__PRIVATE_documentKeySet().add(c),p=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),f,_);await __PRIVATE_syncEngineApplyRemoteEvent(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),__PRIVATE_pumpEnqueuedLimboResolutions(s)}else await __PRIVATE_localStoreReleaseTarget(s.localStore,t,!1).then(()=>__PRIVATE_removeAndCleanupTarget(s,t,r)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(a,t){const r=__PRIVATE_debugCast(a),s=t.batch.batchId;try{const l=await __PRIVATE_localStoreAcknowledgeBatch(r.localStore,t);__PRIVATE_processUserCallback(r,s,null),__PRIVATE_triggerPendingWritesCallbacks(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(r,l)}catch(l){await __PRIVATE_ignoreIfPrimaryLeaseLoss(l)}}async function __PRIVATE_syncEngineRejectFailedWrite(a,t,r){const s=__PRIVATE_debugCast(a);try{const l=await function(f,_){const p=__PRIVATE_debugCast(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,_).next(R=>(__PRIVATE_hardAssert(R!==null),T=R.keys(),p.mutationQueue.removeMutationBatch(g,R))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,_)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,t);__PRIVATE_processUserCallback(s,t,r),__PRIVATE_triggerPendingWritesCallbacks(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,l)}catch(l){await __PRIVATE_ignoreIfPrimaryLeaseLoss(l)}}function __PRIVATE_triggerPendingWritesCallbacks(a,t){(a.Ga.get(t)||[]).forEach(r=>{r.resolve()}),a.Ga.delete(t)}function __PRIVATE_processUserCallback(a,t,r){const s=__PRIVATE_debugCast(a);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(r?c.reject(r):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function __PRIVATE_removeAndCleanupTarget(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.qa.get(t))a.ka.delete(s),r&&a.La.Ja(s,r);a.qa.delete(t),a.isPrimaryClient&&a.Ka.br(t).forEach(s=>{a.Ka.containsKey(s)||__PRIVATE_removeLimboTarget(a,s)})}function __PRIVATE_removeLimboTarget(a,t){a.Qa.delete(t.path.canonicalString());const r=a.$a.get(t);r!==null&&(__PRIVATE_remoteStoreUnlisten(a.remoteStore,r),a.$a=a.$a.remove(t),a.Ua.delete(r),__PRIVATE_pumpEnqueuedLimboResolutions(a))}function __PRIVATE_updateTrackedLimbos(a,t,r){for(const s of r)s instanceof __PRIVATE_AddedLimboDocument?(a.Ka.addReference(s.key,t),__PRIVATE_trackLimboChange(a,s)):s instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(Jt,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,t),a.Ka.containsKey(s.key)||__PRIVATE_removeLimboTarget(a,s.key)):fail()}function __PRIVATE_trackLimboChange(a,t){const r=t.key,s=r.path.canonicalString();a.$a.get(r)||a.Qa.has(s)||(__PRIVATE_logDebug(Jt,"New document in limbo: "+r),a.Qa.add(s),__PRIVATE_pumpEnqueuedLimboResolutions(a))}function __PRIVATE_pumpEnqueuedLimboResolutions(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const r=new DocumentKey(ResourcePath.fromString(t)),s=a.za.next();a.Ua.set(s,new LimboResolution(r)),a.$a=a.$a.insert(r,s),__PRIVATE_remoteStoreListen(a.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(r.path)),s,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ae))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,t,r){const s=__PRIVATE_debugCast(a),l=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((_,p)=>{f.push(s.Ha(p,t,r).then(g=>{var T;if((g||r)&&s.isPrimaryClient){const R=g?!g.fromCache:(T=r==null?void 0:r.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(g){l.push(g);const R=__PRIVATE_LocalViewChanges.Yi(p.targetId,g);c.push(R)}}))}),await Promise.all(f),s.La.p_(l),await async function(p,g){const T=__PRIVATE_debugCast(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>PersistencePromise.forEach(g,V=>PersistencePromise.forEach(V.Hi,k=>T.persistence.referenceDelegate.addReference(R,V.targetId,k)).next(()=>PersistencePromise.forEach(V.Ji,k=>T.persistence.referenceDelegate.removeReference(R,V.targetId,k)))))}catch(R){if(!__PRIVATE_isIndexedDbTransactionError(R))throw R;__PRIVATE_logDebug(Ot,"Failed to update sequence numbers: "+R)}for(const R of g){const V=R.targetId;if(!R.fromCache){const k=T.Ts.get(V),q=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(q);T.Ts=T.Ts.insert(V,J)}}}(s.localStore,c))}async function __PRIVATE_syncEngineHandleCredentialChange(a,t){const r=__PRIVATE_debugCast(a);if(!r.currentUser.isEqual(t)){__PRIVATE_logDebug(Jt,"User change. New user:",t.toKey());const s=await __PRIVATE_localStoreHandleUserChange(r.localStore,t);r.currentUser=t,function(c,f){c.Ga.forEach(_=>{_.forEach(p=>{p.reject(new FirestoreError(C.CANCELLED,f))})}),c.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(r,s.Rs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(a,t){const r=__PRIVATE_debugCast(a),s=r.Ua.get(t);if(s&&s.Ba)return __PRIVATE_documentKeySet().add(s.key);{let l=__PRIVATE_documentKeySet();const c=r.qa.get(t);if(!c)return l;for(const f of c){const _=r.ka.get(f);l=l.unionWith(_.view.Sa)}return l}}function __PRIVATE_ensureWatchCallbacks(a){const t=__PRIVATE_debugCast(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,t),t.La.p_=__PRIVATE_eventManagerOnWatchChange.bind(null,t.eventManager),t.La.Ja=__PRIVATE_eventManagerOnWatchError.bind(null,t.eventManager),t}function __PRIVATE_syncEngineEnsureWriteCallbacks(a){const t=__PRIVATE_debugCast(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,t),t}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=__PRIVATE_newSerializer(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,t.initialUser,this.serializer)}Xa(t){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.ri,this.serializer)}Za(t){return new __PRIVATE_MemorySharedClientState}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate);const s=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(s,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(s=>__PRIVATE_MemoryLruDelegate.ri(s,r),this.serializer)}}class OnlineComponentProvider{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(t){const r=__PRIVATE_newSerializer(t.databaseInfo.databaseId),s=function(c){return new __PRIVATE_WebChannelConnection(c)}(t.databaseInfo);return function(c,f,_,p){return new __PRIVATE_DatastoreImpl(c,f,_,p)}(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return function(s,l,c,f,_){return new __PRIVATE_RemoteStoreImpl(s,l,c,f,_)}(this.localStore,this.datastore,t.asyncQueue,r=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,r,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(t,r){return function(l,c,f,_,p,g,T){const R=new __PRIVATE_SyncEngineImpl(l,c,f,_,p,g);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const c=__PRIVATE_debugCast(l);__PRIVATE_logDebug(zt,"RemoteStore shutting down."),c.W_.add(5),await __PRIVATE_disableNetworkInternal(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):__PRIVATE_logError("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="FirestoreClient";class FirestoreClient{constructor(t,r,s,l,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{__PRIVATE_logDebug(Yt,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(__PRIVATE_logDebug(Yt,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=__PRIVATE_wrapInUserErrorIfRecoverable(r,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function __PRIVATE_setOfflineComponentProvider(a,t){a.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Yt,"Initializing OfflineComponentProvider");const r=a.configuration;await t.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await __PRIVATE_localStoreHandleUserChange(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function __PRIVATE_setOnlineComponentProvider(a,t){a.asyncQueue.verifyOperationInProgress();const r=await __PRIVATE_ensureOfflineComponents(a);__PRIVATE_logDebug(Yt,"Initializing OnlineComponentProvider"),await t.initialize(r,a.configuration),a.setCredentialChangeListener(s=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,l)),a._onlineComponents=t}async function __PRIVATE_ensureOfflineComponents(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){__PRIVATE_logDebug(Yt,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(a,a._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===C.FAILED_PRECONDITION||l.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+r),await __PRIVATE_setOfflineComponentProvider(a,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(Yt,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(a,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return a._offlineComponents}async function __PRIVATE_ensureOnlineComponents(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(__PRIVATE_logDebug(Yt,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(a,a._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(Yt,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(a,new OnlineComponentProvider))),a._onlineComponents}function __PRIVATE_getSyncEngine(a){return __PRIVATE_ensureOnlineComponents(a).then(t=>t.syncEngine)}async function __PRIVATE_getEventManager(a){const t=await __PRIVATE_ensureOnlineComponents(a),r=t.eventManager;return r.onListen=__PRIVATE_syncEngineListen.bind(null,t.syncEngine),r.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,t.syncEngine),r}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(a,t,r={}){const s=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>function(c,f,_,p,g){const T=new __PRIVATE_AsyncObserver({next:V=>{T.su(),f.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(c,R));const k=V.docs.has(_);!k&&V.fromCache?g.reject(new FirestoreError(C.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&V.fromCache&&p&&p.source==="server"?g.reject(new FirestoreError(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(V)},error:V=>g.reject(V)}),R=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(_.path),T,{includeMetadataChanges:!0,Ta:!0});return __PRIVATE_eventManagerListen(c,R)}(await __PRIVATE_getEventManager(a),a.asyncQueue,t,r,s)),s.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(a,t,r={}){const s=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>function(c,f,_,p,g){const T=new __PRIVATE_AsyncObserver({next:V=>{T.su(),f.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(c,R)),V.fromCache&&p.source==="server"?g.reject(new FirestoreError(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(V)},error:V=>g.reject(V)}),R=new __PRIVATE_QueryListener(_,T,{includeMetadataChanges:!0,Ta:!0});return __PRIVATE_eventManagerListen(c,R)}(await __PRIVATE_getEventManager(a),a.asyncQueue,t,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(a,t,r){if(!r)throw new FirestoreError(C.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function __PRIVATE_validateIsNotUsedTogether(a,t,r,s){if(t===!0&&s===!0)throw new FirestoreError(C.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function __PRIVATE_validateDocumentPath(a){if(!DocumentKey.isDocumentKey(a))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function __PRIVATE_validateCollectionPath(a){if(DocumentKey.isDocumentKey(a))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function __PRIVATE_valueDescription(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":fail()}function __PRIVATE_cast(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new FirestoreError(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=__PRIVATE_valueDescription(a);throw new FirestoreError(C.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="firestore.googleapis.com",en=!0;class FirestoreSettingsImpl{constructor(t){var r,s;if(t.host===void 0){if(t.ssl!==void 0)throw new FirestoreError(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xt,this.ssl=en}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:en;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=St;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dt)throw new FirestoreError(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Firestore$1{constructor(t,r,s,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(s.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new FirestoreError(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Zt.get(r);s&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),Zt.delete(r),s.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(a,t,r,s={}){var l;const c=(a=__PRIVATE_cast(a,Firestore$1))._getSettings(),f=`${t}:${r}`;if(c.host!==Xt&&c.host!==f&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let _,p;if(typeof s.mockUserToken=="string")_=s.mockUserToken,p=User.MOCK_USER;else{_=createMockUserToken(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new FirestoreError(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new User(g)}a._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(_,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Query(this.firestore,t,this._query)}}class DocumentReference{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new DocumentReference(this.firestore,t,this._key)}}class CollectionReference extends Query{constructor(t,r,s){super(t,r,__PRIVATE_newQueryForPath(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(t))}withConverter(t){return new CollectionReference(this.firestore,t,this._path)}}function collection(a,t,...r){if(a=getModularInstance(a),__PRIVATE_validateNonEmptyArgument("collection","path",t),a instanceof Firestore$1){const s=ResourcePath.fromString(t,...r);return __PRIVATE_validateCollectionPath(s),new CollectionReference(a,null,s)}{if(!(a instanceof DocumentReference||a instanceof CollectionReference))throw new FirestoreError(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ResourcePath.fromString(t,...r));return __PRIVATE_validateCollectionPath(s),new CollectionReference(a.firestore,null,s)}}function doc(a,t,...r){if(a=getModularInstance(a),arguments.length===1&&(t=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",t),a instanceof Firestore$1){const s=ResourcePath.fromString(t,...r);return __PRIVATE_validateDocumentPath(s),new DocumentReference(a,null,new DocumentKey(s))}{if(!(a instanceof DocumentReference||a instanceof CollectionReference))throw new FirestoreError(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ResourcePath.fromString(t,...r));return __PRIVATE_validateDocumentPath(s),new DocumentReference(a.firestore,a instanceof CollectionReference?a.converter:null,new DocumentKey(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Su=()=>{const s=getDocument();s&&__PRIVATE_logDebug(tn,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const r=getDocument();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=getDocument();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new __PRIVATE_Deferred;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;__PRIVATE_logDebug(tn,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let _=f.message||"";return f.stack&&(_=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),_}(s);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=r,r}enqueueAfterDelay(t,r,s){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const l=DelayedOperation.createAndSchedule(this,t,r,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&fail()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}class Firestore extends Firestore$1{constructor(t,r,s,l){super(t,r,s,l),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(t),this._firestoreClient=void 0,await t}}}function getFirestore(a,t){const r=typeof a=="object"?a:getApp(),s=typeof a=="string"?a:rt,l=_getProvider(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=getDefaultEmulatorHostnameAndPort("firestore");c&&connectFirestoreEmulator(l,...c)}return l}function ensureFirestoreConfigured(a){if(a._terminated)throw new FirestoreError(C.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||__PRIVATE_configureFirestore(a),a._firestoreClient}function __PRIVATE_configureFirestore(a){var t,r,s;const l=a._freezeSettings(),c=function(_,p,g,T){return new DatabaseInfo(_,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new FirestoreClient(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(_){const p=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bytes(ByteString.fromBase64String(t))}catch(r){throw new FirestoreError(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Bytes(ByteString.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new FirestoreError(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new FirestoreError(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return __PRIVATE_primitiveComparator(this._lat,t._lat)||__PRIVATE_primitiveComparator(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=/^__.*__$/;class ParsedSetData{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new __PRIVATE_PatchMutation(t,this.data,this.fieldMask,r,this.fieldTransforms):new __PRIVATE_SetMutation(t,this.data,r,this.fieldTransforms)}}function __PRIVATE_isWrite(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(t,r,s,l,c,f){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return __PRIVATE_createError(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Lu)&&rn.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||__PRIVATE_newSerializer(t)}ju(t,r,s,l=!1){return new __PRIVATE_ParseContextImpl({Lu:t,methodName:r,zu:s,path:FieldPath$1.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(a){const t=a._freezeSettings(),r=__PRIVATE_newSerializer(a._databaseId);return new __PRIVATE_UserDataReader(a._databaseId,!!t.ignoreUndefinedProperties,r)}function __PRIVATE_parseSetData(a,t,r,s,l,c={}){const f=a.ju(c.merge||c.mergeFields?2:0,t,r,l);__PRIVATE_validatePlainObject("Data must be an object, but it was:",f,s);const _=__PRIVATE_parseObject(s,f);let p,g;if(c.merge)p=new FieldMask(f.fieldMask),g=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const V=__PRIVATE_fieldPathFromArgument$1(t,R,r);if(!f.contains(V))throw new FirestoreError(C.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(T,V)||T.push(V)}p=new FieldMask(T),g=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,g=f.fieldTransforms;return new ParsedSetData(new ObjectValue(_),p,g)}function __PRIVATE_parseQueryValue(a,t,r,s=!1){return __PRIVATE_parseData(r,a.ju(s?4:3,t))}function __PRIVATE_parseData(a,t){if(__PRIVATE_looksLikeJsonObject(a=getModularInstance(a)))return __PRIVATE_validatePlainObject("Unsupported field value:",t,a),__PRIVATE_parseObject(a,t);if(a instanceof FieldValue)return function(s,l){if(!__PRIVATE_isWrite(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const _ of s){let p=__PRIVATE_parseData(_,l.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(a,t)}return function(s,l){if((s=getModularInstance(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return toNumber(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Timestamp.fromDate(s);return{timestampValue:toTimestamp(l.serializer,c)}}if(s instanceof Timestamp){const c=new Timestamp(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:toTimestamp(l.serializer,c)}}if(s instanceof GeoPoint)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(l.serializer,s._byteString)};if(s instanceof DocumentReference){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:__PRIVATE_toResourceName(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof VectorValue)return function(f,_){return{mapValue:{fields:{[it]:{stringValue:_t},[at]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw _.Wu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(_.serializer,g)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${__PRIVATE_valueDescription(s)}`)}(a,t)}function __PRIVATE_parseObject(a,t){const r={};return isEmpty(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):forEach(a,(s,l)=>{const c=__PRIVATE_parseData(l,t.qu(s));c!=null&&(r[s]=c)}),{mapValue:{fields:r}}}function __PRIVATE_looksLikeJsonObject(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Timestamp||a instanceof GeoPoint||a instanceof Bytes||a instanceof DocumentReference||a instanceof FieldValue||a instanceof VectorValue)}function __PRIVATE_validatePlainObject(a,t,r){if(!__PRIVATE_looksLikeJsonObject(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const s=__PRIVATE_valueDescription(r);throw s==="an object"?t.Wu(a+" a custom object"):t.Wu(a+" "+s)}}function __PRIVATE_fieldPathFromArgument$1(a,t,r){if((t=getModularInstance(t))instanceof FieldPath)return t._internalPath;if(typeof t=="string")return __PRIVATE_fieldPathFromDotSeparatedString(a,t);throw __PRIVATE_createError("Field path arguments must be of type string or ",a,!1,void 0,r)}const sn=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(a,t,r){if(t.search(sn)>=0)throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new FieldPath(...t.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function __PRIVATE_createError(a,t,r,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let _=`Function ${t}() called with invalid data`;r&&(_+=" (via `toFirestore()`)"),_+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new FirestoreError(C.INVALID_ARGUMENT,_+a+p)}function __PRIVATE_fieldMaskContains(a,t){return a.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(t,r,s,l,c){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(a,t){return typeof t=="string"?__PRIVATE_fieldPathFromDotSeparatedString(a,t):t instanceof FieldPath?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new FirestoreError(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(a,t,...r){let s=[];t instanceof AppliableConstraint&&s.push(t),s=s.concat(r),function(c){const f=c.filter(p=>p instanceof QueryCompositeFilterConstraint).length,_=c.filter(p=>p instanceof QueryFieldFilterConstraint).length;if(f>1||f>0&&_>0)throw new FirestoreError(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)a=l._apply(a);return a}class QueryFieldFilterConstraint extends QueryConstraint{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new QueryFieldFilterConstraint(t,r,s)}_apply(t){const r=this._parse(t);return __PRIVATE_validateNewFieldFilter(t._query,r),new Query(t.firestore,t.converter,__PRIVATE_queryWithAddedFilter(t._query,r))}_parse(t){const r=__PRIVATE_newUserDataReader(t.firestore);return function(c,f,_,p,g,T,R){let V;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(R,T);const q=[];for(const J of R)q.push(__PRIVATE_parseDocumentIdValue(p,c,J));V={arrayValue:{values:q}}}else V=__PRIVATE_parseDocumentIdValue(p,c,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(R,T),V=__PRIVATE_parseQueryValue(_,f,R,T==="in"||T==="not-in");return FieldFilter.create(g,T,V)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function where(a,t,r){const s=t,l=__PRIVATE_fieldPathFromArgument("where",a);return QueryFieldFilterConstraint._create(l,s,r)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new QueryCompositeFilterConstraint(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return r.length===1?r[0]:CompositeFilter.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(l,c){let f=l;const _=c.getFlattenedFilters();for(const p of _)__PRIVATE_validateNewFieldFilter(f,p),f=__PRIVATE_queryWithAddedFilter(f,p)}(t._query,r),new Query(t.firestore,t.converter,__PRIVATE_queryWithAddedFilter(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function __PRIVATE_parseDocumentIdValue(a,t,r){if(typeof(r=getModularInstance(r))=="string"){if(r==="")throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(t)&&r.indexOf("/")!==-1)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(ResourcePath.fromString(r));if(!DocumentKey.isDocumentKey(s))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return __PRIVATE_refValue(a,new DocumentKey(s))}if(r instanceof DocumentReference)return __PRIVATE_refValue(a,r._key);throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(r)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(a,t){if(!Array.isArray(a)||a.length===0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(a,t){const r=function(l,c){for(const f of l)for(const _ of f.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(a.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(t,r="none"){switch(__PRIVATE_typeOrder(t)){case 0:return null;case 1:return t.booleanValue;case 2:return __PRIVATE_normalizeNumber(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw fail()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return forEach(t,(l,c)=>{s[l]=this.convertValue(c,r)}),s}convertVectorValue(t){var r,s,l;const c=(l=(s=(r=t.fields)===null||r===void 0?void 0:r[at].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>__PRIVATE_normalizeNumber(f.doubleValue));return new VectorValue(c)}convertGeoPoint(t){return new GeoPoint(__PRIVATE_normalizeNumber(t.latitude),__PRIVATE_normalizeNumber(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=__PRIVATE_getPreviousValue(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(t));default:return null}}convertTimestamp(t){const r=__PRIVATE_normalizeTimestamp(t);return new Timestamp(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=ResourcePath.fromString(t);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(s));const l=new DatabaseId(s.get(1),s.get(3)),c=new DocumentKey(s.popFirst(5));return l.isEqual(r)||__PRIVATE_logError(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(a,t,r){let s;return s=a?a.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(t,r,s,l,c,f){super(t,r,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(t={}){return super.data(t)}}class QuerySnapshot{constructor(t,r,s,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new SnapshotMetadata(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,s.key,s,new SnapshotMetadata(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(_=>{const p=new QueryDocumentSnapshot(l._firestore,l._userDataWriter,_.doc.key,_.doc,new SnapshotMetadata(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(_=>c||_.type!==3).map(_=>{const p=new QueryDocumentSnapshot(l._firestore,l._userDataWriter,_.doc.key,_.doc,new SnapshotMetadata(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return _.type!==0&&(g=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),_.type!==1&&(f=f.add(_.doc),T=f.indexOf(_.doc.key)),{type:__PRIVATE_resultChangeType(_.type),doc:p,oldIndex:g,newIndex:T}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function __PRIVATE_resultChangeType(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(a){a=__PRIVATE_cast(a,DocumentReference);const t=__PRIVATE_cast(a.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(t),a._key).then(r=>__PRIVATE_convertToDocSnapshot(t,a,r))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bytes(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new DocumentReference(this.firestore,null,r)}}function getDocs(a){a=__PRIVATE_cast(a,Query);const t=__PRIVATE_cast(a.firestore,Firestore),r=ensureFirestoreConfigured(t),s=new __PRIVATE_ExpUserDataWriter(t);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(a._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(r,a._query).then(l=>new QuerySnapshot(t,s,a,l))}function addDoc(a,t){const r=__PRIVATE_cast(a.firestore,Firestore),s=doc(a),l=__PRIVATE_applyFirestoreDataConverter(a.converter,t);return executeWrite(r,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,Precondition.exists(!1))]).then(()=>s)}function executeWrite(a,t){return function(s,l){const c=new __PRIVATE_Deferred;return s.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(s),l,c)),c.promise}(ensureFirestoreConfigured(a),t)}function __PRIVATE_convertToDocSnapshot(a,t,r){const s=r.docs.get(t._key),l=new __PRIVATE_ExpUserDataWriter(a);return new DocumentSnapshot(a,l,t._key,s,new SnapshotMetadata(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){D=l})(SDK_VERSION),_registerComponent(new Component("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),_=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(s.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new FirestoreError(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(g.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:r},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),registerVersion(S,b,t),registerVersion(S,b,"esm2017")})();const firebaseConfig={apiKey:"AIzaSyCnay_U8JXu4KqQKIVCPVMnLFF1SAn31fQ",authDomain:"stal-b1faa.firebaseapp.com",projectId:"stal-b1faa",storageBucket:"stal-b1faa.firebasestorage.app",messagingSenderId:"138725395926",appId:"1:138725395926:web:4547791578080370dfe877",measurementId:"G-TFZM26ZGSD"},app=initializeApp(firebaseConfig),db=getFirestore(app),line3Image=""+new URL("line3-DkF1AC-t.png",import.meta.url).href,Programs=()=>{const[a,t]=reactExports.useState([]),[r,s]=reactExports.useState(""),l=useNavigate();reactExports.useEffect(()=>{(async()=>{try{const _=collection(db,"courses"),g=(await getDocs(_)).docs.map(T=>({id:T.id,name:T.data().name}));t(g)}catch(_){console.error("Ошибка при получении курсов: ",_),s("Не удалось загрузить курсы")}})()},[]);const c=f=>{l(`/courses/${f}`)};return jsxRuntimeExports.jsxs("section",{className:"main-programm",id:"programm",children:[jsxRuntimeExports.jsx("h2",{className:"common-title",id:"programms",children:"Программы переподготовки"}),jsxRuntimeExports.jsx("img",{src:line3Image,alt:"line",className:"line3"})," ",jsxRuntimeExports.jsxs("div",{className:"container",children:[r&&jsxRuntimeExports.jsx("p",{children:r})," ",jsxRuntimeExports.jsx("ul",{className:"programms",children:a.map(f=>jsxRuntimeExports.jsx("li",{className:"programm",children:jsxRuntimeExports.jsxs("div",{className:"programm__text",onClick:()=>c(f.id),children:[jsxRuntimeExports.jsx("span",{children:f.name})," "]})},f.id))})]})]})},AboutUs=()=>{const[a,t]=reactExports.useState(0),r=[{className:"gallery_image_title"},{className:"gallery_image_second"},{className:"gallery_image_third"},{className:"gallery_image_fourth"},{className:"gallery_image_five"}];return reactExports.useEffect(()=>{const s=setInterval(()=>{t(l=>(l+1)%r.length)},3e3);return()=>clearInterval(s)},[r.length]),jsxRuntimeExports.jsx("section",{className:"love",id:"love",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx("h2",{className:"common-title",children:"Уральская сталь"}),jsxRuntimeExports.jsxs("ul",{className:"galleries",children:[jsxRuntimeExports.jsxs("li",{className:"gallery gallery-item-orange",children:[jsxRuntimeExports.jsx("div",{className:"gallery-item-title",children:"Уральская сталь — это металлургический комбинат"}),jsxRuntimeExports.jsx("div",{className:"gallery-item-text",children:"Это один из ведущих производителей чёрной металлургии в России. Уральская сталь имеет богатую историю и множество достижений. Комбинат активно внедряет современные технологии и инновации, что позволяет ему оставаться конкурентоспособным на мировом рынке. Уральская сталь экспортирует свою продукцию в различные страны мира, обеспечивая рабочие места и развитие экономики региона."})]}),jsxRuntimeExports.jsx("li",{className:"gallery",children:jsxRuntimeExports.jsx("div",{className:"gallery__slides",children:r.map((s,l)=>jsxRuntimeExports.jsx("div",{className:`gallery__slide ${a===l?"gallery__slide_active":""}`,style:{transform:a===l?"translateX(0)":"translateX(-100%)",opacity:a===l?"1":"0"},children:jsxRuntimeExports.jsx("div",{className:`gallery_box ${s.className}`})},l))})})]})]})})},ContactSection=()=>{const[a,t]=reactExports.useState(""),[r,s]=reactExports.useState(""),[l,c]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx("h2",{className:"contact",children:"Свяжитесь с нами"}),jsxRuntimeExports.jsxs("div",{className:"contacts__block",children:[jsxRuntimeExports.jsx("a",{className:"contacts-phone",href:"tel:+7 935  895-45-35",children:"+7 935  895-45-35"}),jsxRuntimeExports.jsx("a",{className:"contacts-mail",href:"mailto:hello@mail.com",children:"hello@mail.com"})]})]})},ChatBot=()=>jsxRuntimeExports.jsx("div",{className:"help",title:"Помощь",id:"helping",children:"?"}),Home=({onLoginClick:a})=>jsxRuntimeExports.jsxs("main",{className:"main",children:[jsxRuntimeExports.jsx(ChatBot,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(MainContent,{}),jsxRuntimeExports.jsx(Programs,{}),jsxRuntimeExports.jsx(AboutUs,{}),jsxRuntimeExports.jsx(ContactSection,{})]}),Back="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAnVJREFUeF7t3FFSgmAUxfGPndRS2khlvbiLbBe8YNBKWoo7oWEcRlSQD/TjnMs9PWtX/z8uJsyUBf1AC2TQ6RoeBAA+CAQgAHAB8HhtgADABcDjtQECABcAj9cGCABcADxeGyAAcAHweG2AAMAFwOO1AQKYX+Dtc/tT1+Hwu8+/5/8W7DPNbkATP4Tw3uSr67CzimASoBu/PX6tIpgD6ItvGcEUwK34VhHMAMTEbxGyOmzKfV5iP17jppsAmBI/hPBXFflL3NvHP4oeYM3xG35qgLXHpwbwEJ8WwEt8SgBP8ekAvMWnAvAYnwbAa3wKAM/x4QDe40MBFP94GQTyTVjxT9egFgdQ/PMLgIsCKP711dfFABS//9L3IgCKP3zfITmA4t++6ZMUQPHH77glA1D88fjJvgcoflz8JACKHx//4QAT4097paSPror8rtP4XU/uNvEYv3n/FABe41MAeI5PAfD6sf3KsrAjPUUnf1kUpyDPCBQAzWHmFYEGwCsCFcAMhENV5M/JT9TEAx72PaD7HieejlwjJAHQJsSvXDIAIcQhJAUQwjhCcgAhAO+I6YOZZAPal6G/jq5BFjkFaROGN2FxAH0mnGNAAIRwQoABCOGIAAUQAgGAdwT4Bnj/E5UGwOsmUAF4RKAD8IZACeAJgRbACwI1gAcEeoC1I5gAmIpg6X+ImgGYgFBWRb4ZvxXC8QhTABEIpuJTXIybcxwO3FkzF98sQM8mmIxvGqCD8GTpnH+58eY+A+acspifIwCwjgAEAC4AHq8NEAC4AHi8NkAA4ALg8doAAYALgMdrAwQALgAerw0QALgAeLw2QADgAuDx/1WRRHADhx4JAAAAAElFTkSuQmCC",Login=({setUserId:a})=>{const[t,r]=reactExports.useState(""),[s,l]=reactExports.useState(""),[c,f]=reactExports.useState(""),_=useNavigate(),p=T=>{T.preventDefault();const V=[{id:"1",email:"user@example.com",password:"password123"},{id:"2",email:"admin@example.com",password:"admin123"}].find(k=>k.email===t&&k.password===s);V?(a(V.id),_("/profile")):f("Неверные почта или пароль")},g=()=>{_("/")};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"Arrow-back",onClick:g,children:[jsxRuntimeExports.jsx("img",{className:"backImage",src:Back,alt:"Назад"}),jsxRuntimeExports.jsx("h3",{className:"back",children:"Назад"})]}),jsxRuntimeExports.jsx("div",{className:"LoginContainer",children:jsxRuntimeExports.jsxs("form",{onSubmit:p,children:[jsxRuntimeExports.jsx("h2",{className:"OpenLog",children:"Вход"}),jsxRuntimeExports.jsx("div",{className:"form_item",children:jsxRuntimeExports.jsx("input",{type:"email",className:"form__name form",name:"email",placeholder:"Адрес эл. почты",value:t,onChange:T=>r(T.target.value),required:!0})}),jsxRuntimeExports.jsx("div",{className:"form_item",children:jsxRuntimeExports.jsx("input",{type:"password",className:"form__name form",name:"password",placeholder:"Пароль",value:s,onChange:T=>l(T.target.value),required:!0})}),jsxRuntimeExports.jsx("button",{className:"Open",type:"submit",children:"Войти"}),c&&jsxRuntimeExports.jsx("p",{children:c})," "]})})]})},Profile=({userId:a})=>{const[t,r]=reactExports.useState(null),[s,l]=reactExports.useState(null),[c,f]=reactExports.useState(!0),_=useNavigate();return reactExports.useEffect(()=>{(async()=>{if(f(!0),!a){console.error("userId не предоставлен"),f(!1);return}try{const g=doc(db,"employees",a),T=await getDoc(g);if(T.exists()){const R=T.data();if(r(R),R.courseId){const V=doc(db,"courses",R.courseId),k=await getDoc(V);if(k.exists()){const q=k.data();q.startDate&&q.startDate.seconds&&(q.startDate=new Date(q.startDate.seconds*1e3).toLocaleDateString()),l(q)}else console.log("Курс не существует")}}else console.error("Документ сотрудников не существует")}catch(g){console.error("Ошибка при получении данных:",g)}finally{f(!1)}})()},[a]),c?jsxRuntimeExports.jsx("p",{children:"Загрузка..."}):jsxRuntimeExports.jsxs("div",{className:"profile-container",children:[jsxRuntimeExports.jsx("h2",{className:"PersonalAccount",children:"Личный кабинет"}),t?jsxRuntimeExports.jsxs("div",{className:"profile-info",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Имя:"})," ",t.firstName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Фамилия:"})," ",t.lastName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Отчество:"})," ",t.middleName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Курс:"})," ",t.courseName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Статус заявки:"})," ",t.statusCourse]}),s&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Дата начала:"})," ",s.startDate]})," ",jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Место проведения:"})," ",s.location]})," "]})]}):jsxRuntimeExports.jsx("p",{children:"Информация о пользователе недоступна."}),jsxRuntimeExports.jsx("button",{onClick:()=>_("/"),className:"go-home-button",children:"На главную страницу"})]})},Popup=({isOpen:a,onClose:t,course:r})=>{const[s,l]=reactExports.useState(""),[c,f]=reactExports.useState(""),[_,p]=reactExports.useState(""),[g,T]=reactExports.useState(""),[R,V]=reactExports.useState(""),[k,q]=reactExports.useState(""),[J,te]=reactExports.useState({}),[oe,he]=reactExports.useState(""),[ce,ve]=reactExports.useState(!1),[ge,Se]=reactExports.useState(!1),[G,L]=reactExports.useState(!1);if(!a)return null;const P=async()=>{const w={};if(s||(w.firstName="Пожалуйста, введите имя."),c||(w.lastName="Пожалуйста, введите фамилию."),_||(w.middleName="Пожалуйста, введите отчество."),g||(w.email="Пожалуйста, введите адрес электронной почты."),R||(w.password="Пожалуйста, введите пароль."),k||(w.confirmPassword="Пожалуйста, подтвердите пароль."),!r){alert("Ошибка: недоступен курс.");return}if(R!==k&&(w.confirmPassword="Пароли не совпадают."),R.length<6&&(w.password="Пароль должен содержать не менее 6 символов."),G||(w.checkbox="Пожалуйста, подтвердите данные."),Object.keys(w).length>0){te(w);return}const K=collection(db,"employees"),W=query(K,where("email","==",g));if(!(await getDocs(W)).empty){w.email="Пользователь с таким логином уже существует. Пожалуйста, выберите другой логин.",te(w);return}try{const Ye=await addDoc(collection(db,"employees"),{firstName:s,lastName:c,middleName:_,email:g,password:R,courseId:r.id,courseName:r.name,statusCourse:"На рассмотрении"});console.log("Документ успешно записан с ID: ",Ye.id),he("Вашу заявку успешно отправили!"),l(""),f(""),p(""),T(""),V(""),q(""),te({}),setTimeout(()=>{t(),he("")},2e3)}catch(Ye){console.error("Ошибка при добавлении документа: ",Ye),alert("Произошла ошибка при отправке формы. Пожалуйста, попробуйте позже.")}};return jsxRuntimeExports.jsx("div",{className:"popup popup_open",children:jsxRuntimeExports.jsxs("div",{className:"popup__content",children:[jsxRuntimeExports.jsx("p",{className:"popup__title",children:"Записаться на курс"}),jsxRuntimeExports.jsx("p",{className:"popup__text",children:"Заполните форму, мы рассмотрим вашу заявку"}),oe&&jsxRuntimeExports.jsx("p",{className:"success-message",children:oe}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"Имя",value:s,onChange:w=>l(w.target.value)}),J.firstName&&jsxRuntimeExports.jsx("p",{className:"error-message",children:J.firstName}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"Фамилия",value:c,onChange:w=>f(w.target.value)}),J.lastName&&jsxRuntimeExports.jsx("p",{className:"error-message",children:J.lastName}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"Отчество",value:_,onChange:w=>p(w.target.value)}),J.middleName&&jsxRuntimeExports.jsx("p",{className:"error-message",children:J.middleName}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"Адрес электронной почты",value:g,onChange:w=>T(w.target.value)}),J.email&&jsxRuntimeExports.jsx("p",{className:"error-message",children:J.email}),jsxRuntimeExports.jsxs("div",{className:"password-container",children:[jsxRuntimeExports.jsx("input",{className:"input",type:ce?"text":"password",placeholder:"Пароль",value:R,onChange:w=>V(w.target.value)}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ve(w=>!w),className:"toggle-password",children:ce?"Скрыть":"Показать"})]}),J.password&&jsxRuntimeExports.jsx("p",{className:"error-message",children:J.password}),jsxRuntimeExports.jsxs("div",{className:"password-container",children:[jsxRuntimeExports.jsx("input",{className:"input",type:ge?"text":"password",placeholder:"Повтор пароля",value:k,onChange:w=>q(w.target.value)}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Se(w=>!w),className:"toggle-password",children:ge?"Скрыть":"Показать"})]}),J.confirmPassword&&jsxRuntimeExports.jsx("p",{className:"error-message",children:J.confirmPassword}),jsxRuntimeExports.jsxs("label",{className:"checkbox-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"checkbox-input",checked:G,onChange:w=>L(w.target.checked)}),"Подтверждаю данные"]}),J.checkbox&&jsxRuntimeExports.jsx("p",{className:"error-message",children:J.checkbox})," ",jsxRuntimeExports.jsx("button",{onClick:P,className:"widthBtn_popup",children:"Отправить"}),jsxRuntimeExports.jsx("div",{className:"popup__close-btn",onClick:t,children:jsxRuntimeExports.jsx("img",{src:CloseImage,className:"popup__close-btn",alt:"Закрыть"})})]})})},CourseDetailsImage=""+new URL("CourseDetails-Ds9jRGbN.png",import.meta.url).href,CourseDetails=()=>{const{id:a}=useParams(),t=useNavigate(),[r,s]=reactExports.useState(null),[l,c]=reactExports.useState(""),[f,_]=reactExports.useState(!1);if(reactExports.useEffect(()=>{(async()=>{try{const R=doc(db,"courses",a),V=await getDoc(R);V.exists()?s({id:V.id,...V.data()}):c("Курс не найден")}catch(R){console.error("Ошибка при получении данных курса: ",R),c("Не удалось загрузить данные курса")}})()},[a]),l)return jsxRuntimeExports.jsx("p",{className:"error-message",children:l});if(!r)return jsxRuntimeExports.jsx("p",{className:"loading-message",children:"Загрузка..."});const p=()=>{_(T=>{const R=!T;return R?document.body.classList.add("body_fixed"):document.body.classList.remove("body_fixed"),R})},g=()=>{t("/")};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"Arrow-back",onClick:g,children:[jsxRuntimeExports.jsx("img",{className:"backImage",src:Back,alt:"Назад"}),jsxRuntimeExports.jsx("h3",{className:"back",children:"Назад"})]}),jsxRuntimeExports.jsxs("div",{className:"course-details container",children:[jsxRuntimeExports.jsx("h1",{className:"common-title",children:r.name}),jsxRuntimeExports.jsx("img",{src:CourseDetailsImage,className:"CourseDetailsImage",alt:"Курс"}),jsxRuntimeExports.jsx("p",{className:"course-text",children:r.text}),jsxRuntimeExports.jsx("button",{className:"widthBtn widthBtn_inverted",onClick:p,children:"Зарегистрироваться на курс"}),jsxRuntimeExports.jsx(Popup,{isOpen:f,onClose:p,course:r})]})]})},App=()=>{const[a,t]=reactExports.useState(null);return jsxRuntimeExports.jsx(HashRouter,{basename:"/",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{setUserId:t})}),jsxRuntimeExports.jsx(Route,{path:"/profile",element:a?jsxRuntimeExports.jsx(Profile,{userId:a}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/programs",element:jsxRuntimeExports.jsx(Programs,{})}),jsxRuntimeExports.jsx(Route,{path:"/courses/:id",element:jsxRuntimeExports.jsx(CourseDetails,{})})," ",jsxRuntimeExports.jsx(Route,{path:"/popup",element:jsxRuntimeExports.jsx(Popup,{})})]})})};var embed={},hasRequiredEmbed;function requireEmbed(){return hasRequiredEmbed||(hasRequiredEmbed=1,function(a){function t(s){if(r[s])return r[s].exports;var l=r[s]={exports:{},id:s,loaded:!1};return a[s].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var r={};return t.m=a,t.c=r,t.p="",t(0)}({0:function(a,t,r){var s=r(1);s(window);var l=r(43);l("ws://localhost:8097/"),window.document&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__.on("react-devtools",function(c){var f=r(44);f(c)})},1:function(a,t){function r(s){if(!s.__REACT_DEVTOOLS_GLOBAL_HOOK__){var l={_renderers:{},helpers:{},inject:function(c){if(typeof c.version=="number"&&c.version>1)return null;var f=Math.random().toString(16).slice(2);return l._renderers[f]=c,l.emit("renderer",{id:f,renderer:c}),f},_listeners:{},sub:function(c,f){return l.on(c,f),function(){return l.off(c,f)}},on:function(c,f){l._listeners[c]||(l._listeners[c]=[]),l._listeners[c].push(f)},off:function(c,f){if(l._listeners[c]){var _=l._listeners[c].indexOf(f);_!==-1&&l._listeners[c].splice(_,1),l._listeners[c].length||(l._listeners[c]=null)}},emit:function(c,f){l._listeners[c]&&l._listeners[c].map(function(_){return _(f)})},supportsFiber:!0,_fiberRoots:{},getFiberRoots:function(c){var f=l._fiberRoots;return f[c]||(f[c]=new Set),f[c]},onCommitFiberUnmount:function(c,f){l.helpers[c]&&l.helpers[c].handleCommitFiberUnmount(f)},onCommitFiberRoot:function(c,f){var _=l.getFiberRoots(c),p=f.current,g=_.has(f),T=p.memoizedState==null||p.memoizedState.element==null;g||T?g&&T&&_.delete(f):_.add(f),l.helpers[c]&&l.helpers[c].handleCommitFiberRoot(f)}};Object.defineProperty(s,"__REACT_DEVTOOLS_GLOBAL_HOOK__",{value:l})}}a.exports=r},4:function(a,t){function r(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}var s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;a.exports=Object.assign||function(c,f){for(var _,p,g=r(c),T=1;T<arguments.length;T++){_=Object(arguments[T]);for(var R in _)s.call(_,R)&&(g[R]=_[R]);if(Object.getOwnPropertySymbols){p=Object.getOwnPropertySymbols(_);for(var V=0;V<p.length;V++)l.call(_,p[V])&&(g[p[V]]=_[p[V]])}}return g}},43:function(module,exports){function websocketConnect(uri,WebSocket){function tryToConnect(){ws.onmessage=function(a){a.data.indexOf("eval:")===0&&initialize(a.data.slice(5))}}function initialize(text){try{eval(text)}catch(a){return void console.error("Failed to eval"+a.message+`
`+a.stack)}ws.onmessage=handleMessage}function handleMessage(a){var t;try{t=JSON.parse(a.data)}catch{return void console.error("failed to parse json: "+a.data)}return t.$close||t.$error?(closeListeners.forEach(function(r){return r()}),window.__REACT_DEVTOOLS_GLOBAL_HOOK__.emit("shutdown"),void tryToConnect()):void(t.$open||messageListeners.forEach(function(r){try{r(t)}catch(s){throw console.log(t),s}}))}WebSocket=WebSocket||window.WebSocket;var messageListeners=[],closeListeners=[],ws=new WebSocket(uri);ws.onclose=function(){console.warn("devtools socket closed"),closeListeners.forEach(function(a){return a()})},ws.onerror=function(a){console.warn("devtools socket errored",a),closeListeners.forEach(function(t){return t()})},ws.onopen=function(){tryToConnect()}}module.exports=websocketConnect},44:function(a,t,r){var s=r(45);a.exports=function(l){var c=new s(window,function(f){l.selectFromDOMNode(f)});l.on("highlight",function(f){return c.highlight(f.node,f.name)}),l.on("highlightMany",function(f){return c.highlightMany(f)}),l.on("hideHighlight",function(){return c.hideHighlight()}),l.on("refreshMultiOverlay",function(){return c.refreshMultiOverlay()}),l.on("startInspecting",function(){return c.startInspecting()}),l.on("stopInspecting",function(){return c.stopInspecting()}),l.on("shutdown",function(){c.remove()})}},45:function(a,t,r){function s(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function l(T,R,V){return T.addEventListener(R,V,!0),function(){return T.removeEventListener(R,V,!0)}}function c(){var T=window.document.createElement("button");return T.innerHTML="&#128269;",T.style.backgroundColor="transparent",T.style.border="none",T.style.outline="none",T.style.cursor="pointer",T.style.position="fixed",T.style.bottom="10px",T.style.right="10px",T.style.fontSize="30px",T.style.zIndex=1e7,T}var f=function(){function T(R,V){for(var k=0;k<V.length;k++){var q=V[k];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(R,q.key,q)}}return function(R,V,k){return V&&T(R.prototype,V),k&&T(R,k),R}}(),_=r(46),p=r(47),g=function(){function T(R,V){s(this,T),this._win=R,this._onSelect=V,this._overlay=null,this._multiOverlay=null,this._subs=[]}return f(T,[{key:"startInspecting",value:function(){this._inspecting=!0,this._subs=[l(this._win,"mouseover",this.onHover.bind(this)),l(this._win,"mousedown",this.onMouseDown.bind(this)),l(this._win,"click",this.onClick.bind(this))]}},{key:"stopInspecting",value:function(){this._subs.forEach(function(R){return R()}),this.hideHighlight()}},{key:"remove",value:function(){this.stopInspecting(),this._button&&this._button.parentNode&&this._button.parentNode.removeChild(this._button)}},{key:"highlight",value:function(R,V){this.removeMultiOverlay(),this._overlay||(this._overlay=new _(this._win)),this._overlay.inspect(R,V)}},{key:"highlightMany",value:function(R){this.removeOverlay(),this._multiOverlay||(this._multiOverlay=new p(this._win)),this._multiOverlay.highlightMany(R)}},{key:"hideHighlight",value:function(){this._inspecting=!1,this.removeOverlay(),this.removeMultiOverlay()}},{key:"refreshMultiOverlay",value:function(){this._multiOverlay&&this._multiOverlay.refresh()}},{key:"removeOverlay",value:function(){this._overlay&&(this._overlay.remove(),this._overlay=null)}},{key:"removeMultiOverlay",value:function(){this._multiOverlay&&(this._multiOverlay.remove(),this._multiOverlay=null)}},{key:"onMouseDown",value:function(R){this._inspecting&&(R.preventDefault(),R.stopPropagation(),R.cancelBubble=!0,this._onSelect(R.target))}},{key:"onClick",value:function(R){this._inspecting&&(this._subs.forEach(function(V){return V()}),R.preventDefault(),R.stopPropagation(),R.cancelBubble=!0,this.hideHighlight())}},{key:"onHover",value:function(R){this._inspecting&&(R.preventDefault(),R.stopPropagation(),R.cancelBubble=!0,this.highlight(R.target))}},{key:"injectButton",value:function(){this._button=c(),this._button.onclick=this.startInspecting.bind(this),this._win.document.body.appendChild(this._button)}}]),T}();a.exports=g},46:function(a,t,r){function s(R,V){if(!(R instanceof V))throw new TypeError("Cannot call a class as a function")}function l(R,V){var k,q=20,J=5;return k=R.top+R.height+q<=V.innerHeight?R.top+R.height<0?J:R.top+R.height+J:R.top-q<=V.innerHeight?R.top-q-J<J?J:R.top-q-J:V.innerHeight-q-J,k+="px",R.left<0?{top:k,left:J}:R.left+200>V.innerWidth?{top:k,right:J}:{top:k,left:R.left+J+"px"}}function c(R){var V=window.getComputedStyle(R);return{borderLeft:+V.borderLeftWidth.match(/[0-9]*/)[0],borderRight:+V.borderRightWidth.match(/[0-9]*/)[0],borderTop:+V.borderTopWidth.match(/[0-9]*/)[0],borderBottom:+V.borderBottomWidth.match(/[0-9]*/)[0],marginLeft:+V.marginLeft.match(/[0-9]*/)[0],marginRight:+V.marginRight.match(/[0-9]*/)[0],marginTop:+V.marginTop.match(/[0-9]*/)[0],marginBottom:+V.marginBottom.match(/[0-9]*/)[0],paddingLeft:+V.paddingLeft.match(/[0-9]*/)[0],paddingRight:+V.paddingRight.match(/[0-9]*/)[0],paddingTop:+V.paddingTop.match(/[0-9]*/)[0],paddingBottom:+V.paddingBottom.match(/[0-9]*/)[0]}}function f(R,V,k){p(k.style,{borderTopWidth:R[V+"Top"]+"px",borderLeftWidth:R[V+"Left"]+"px",borderRightWidth:R[V+"Right"]+"px",borderBottomWidth:R[V+"Bottom"]+"px",borderStyle:"solid"})}var _=function(){function R(V,k){for(var q=0;q<k.length;q++){var J=k[q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(V,J.key,J)}}return function(V,k,q){return k&&R(V.prototype,k),q&&R(V,q),V}}(),p=r(4),g=function(){function R(V){s(this,R);var k=V.document;this.win=V,this.container=k.createElement("div"),this.node=k.createElement("div"),this.border=k.createElement("div"),this.padding=k.createElement("div"),this.content=k.createElement("div"),this.border.style.borderColor=T.border,this.padding.style.borderColor=T.padding,this.content.style.backgroundColor=T.background,p(this.node.style,{borderColor:T.margin,pointerEvents:"none",position:"fixed"}),this.tip=k.createElement("div"),p(this.tip.style,{border:"1px solid #aaa",backgroundColor:"rgb(255, 255, 178)",fontFamily:"sans-serif",color:"orange",padding:"3px 5px",position:"fixed",fontSize:"10px"}),this.nameSpan=k.createElement("span"),this.tip.appendChild(this.nameSpan),p(this.nameSpan.style,{color:"rgb(136, 18, 128)",marginRight:"5px"}),this.dimSpan=k.createElement("span"),this.tip.appendChild(this.dimSpan),p(this.dimSpan.style,{color:"#888"}),this.container.style.zIndex=1e7,this.node.style.zIndex=1e7,this.tip.style.zIndex=1e7,this.container.appendChild(this.node),this.container.appendChild(this.tip),this.node.appendChild(this.border),this.border.appendChild(this.padding),this.padding.appendChild(this.content),k.body.appendChild(this.container)}return _(R,[{key:"remove",value:function(){this.container.parentNode&&this.container.parentNode.removeChild(this.container)}},{key:"inspect",value:function(V,k){if(V.nodeType===Node.ELEMENT_NODE){var q=V.getBoundingClientRect(),J=c(V);f(J,"margin",this.node),f(J,"border",this.border),f(J,"padding",this.padding),p(this.content.style,{height:q.height-J.borderTop-J.borderBottom-J.paddingTop-J.paddingBottom+"px",width:q.width-J.borderLeft-J.borderRight-J.paddingLeft-J.paddingRight+"px"}),p(this.node.style,{top:q.top-J.marginTop+"px",left:q.left-J.marginLeft+"px"}),this.nameSpan.textContent=k||V.nodeName.toLowerCase(),this.dimSpan.textContent=q.width+"px × "+q.height+"px";var te=l({top:q.top-J.marginTop,left:q.left-J.marginLeft,height:q.height+J.marginTop+J.marginBottom,width:q.width+J.marginLeft+J.marginRight},this.win);p(this.tip.style,te)}}}]),R}(),T={background:"rgba(120, 170, 210, 0.7)",padding:"rgba(77, 200, 0, 0.3)",margin:"rgba(255, 155, 0, 0.3)",border:"rgba(255, 200, 50, 0.3)"};a.exports=g},47:function(a,t,r){function s(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var l=function(){function _(p,g){for(var T=0;T<g.length;T++){var R=g[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}return function(p,g,T){return g&&_(p.prototype,g),T&&_(p,T),p}}(),c=r(4),f=function(){function _(p){s(this,_),this.win=p;var g=p.document;this.container=g.createElement("div"),g.body.appendChild(this.container),this._currentNodes=null}return l(_,[{key:"highlightMany",value:function(p){var g=this;this._currentNodes=p,this.container.innerHTML="",p.forEach(function(T){var R=g.win.document.createElement("div");if(typeof T.getBoundingClientRect=="function"){var V=T.getBoundingClientRect();V.bottom<0||V.top>window.innerHeight||(c(R.style,{top:V.top+"px",left:V.left+"px",width:V.width+"px",height:V.height+"px",border:"2px dotted rgba(200, 100, 100, .8)",boxSizing:"border-box",backgroundColor:"rgba(200, 100, 100, .2)",position:"fixed",zIndex:1e7,pointerEvents:"none"}),g.container.appendChild(R))}})}},{key:"refresh",value:function(){this._currentNodes&&this.highlightMany(this._currentNodes)}},{key:"remove",value:function(){this.container.parentNode&&(this.container.parentNode.removeChild(this.container),this._currentNodes=null)}}]),_}();a.exports=f}})),embed}var reactDevtools,hasRequiredReactDevtools;function requireReactDevtools(){return hasRequiredReactDevtools||(hasRequiredReactDevtools=1,reactDevtools=requireEmbed()),reactDevtools}var reactDevtoolsExports=requireReactDevtools();const root=ReactDOM.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));reactDevtoolsExports.DevTools.register();
